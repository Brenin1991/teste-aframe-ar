import{r as l,a as Ke,R as Qe}from"./vendor-b1791c80.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const v of i.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&n(v)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var ze={exports:{}},fe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze=l,et=Symbol.for("react.element"),tt=Symbol.for("react.fragment"),nt=Object.prototype.hasOwnProperty,st=Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,at={key:!0,ref:!0,__self:!0,__source:!0};function $e(a,t,s){var n,r={},i=null,v=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(v=t.ref);for(n in t)nt.call(t,n)&&!at.hasOwnProperty(n)&&(r[n]=t[n]);if(a&&a.defaultProps)for(n in t=a.defaultProps,t)r[n]===void 0&&(r[n]=t[n]);return{$$typeof:et,type:a,key:i,ref:v,props:r,_owner:st.current}}fe.Fragment=tt;fe.jsx=$e;fe.jsxs=$e;ze.exports=fe;var e=ze.exports,Ee={},Pe=Ke;Ee.createRoot=Pe.createRoot,Ee.hydrateRoot=Pe.hydrateRoot;async function rt(){try{const a=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});let t=document.getElementById("arjs-video");return t||(t=document.createElement("video"),t.setAttribute("id","arjs-video"),t.setAttribute("playsinline",""),t.setAttribute("autoplay",""),t.muted=!0,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100vh",t.style.objectFit="cover",t.style.zIndex="0",t.style.display="none",t.style.visibility="hidden",t.style.opacity="0",document.body.appendChild(t)),t.srcObject=a,await t.play(),a}catch(a){return console.warn("Erro ao inicializar cÃ¢mera (serÃ¡ tentado novamente na tela AR):",a),null}}async function ot(){if(!window.faceapi)return new Promise((a,t)=>{const s=document.createElement("script");s.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",s.onload=()=>{console.log("face-api.js carregado"),a()},s.onerror=()=>t(new Error("Failed to load face-api.js")),document.head.appendChild(s)})}async function it(){return new Promise(a=>{if(typeof window<"u"&&window.AFRAME){console.log("A-Frame jÃ¡ estÃ¡ pronto"),a();return}const t=()=>{typeof window<"u"&&window.AFRAME?(console.log("A-Frame carregado"),a()):setTimeout(t,100)};t()})}const Te=({onNavigate:a,onLoadingComplete:t})=>{const[s,n]=l.useState(0),[r,i]=l.useState("Inicializando...");return l.useEffect(()=>{(async()=>{const u=["/assets/images/bg-capa.png","/assets/images/header-capa.png","/assets/images/bottom-capa.png","/assets/images/btn-jogar.png","/assets/images/tutorial-panel.png","/assets/images/btn-comecar.png","/assets/images/sprites/nave.png","/assets/images/sprites/estrela.png","/assets/images/sprites/cometa.png","/assets/images/sprites/barra-progresso.png","/assets/images/sprites/contador.png","/assets/images/sprites/feedback-acerto.png","/assets/images/sprites/feedback-erro.png","/assets/images/modal-acerto.png","/assets/images/modal-erro.png","/assets/images/btn-registrar.png","/assets/images/btn-inicio.png","/assets/images/btn-voltar.png","/assets/images/Titulo.png","/assets/images/btJogar.png","/assets/images/btCreditos.png","/assets/images/SKY.png","/assets/images/mascara.png","/assets/data/ra.json"],p=(()=>{var c,j;const d=((j=(c=import.meta)==null?void 0:c.env)==null?void 0:j.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/");return d&&d!=="/"?d.endsWith("/")?d:d+"/":"/"})();try{i("Solicitando permissÃ£o da cÃ¢mera..."),await rt(),i("Inicializando A-Frame..."),await it(),i("Carregando face-api.js..."),await ot(),i("Carregando imagens...");for(let d=0;d<u.length;d++){const m=u[d],c=`${p}${m.startsWith("/")?m.slice(1):m}`;if(m.endsWith(".json"))try{if(!(await fetch(c)).ok)throw new Error(`Failed to load ${m}`)}catch(S){console.warn(`Failed to load ${m}:`,S)}else await new Promise(S=>{const b=new Image;b.onload=()=>S(b),b.onerror=()=>{console.warn(`Failed to load image: ${c}`),S(null)},b.src=c});const j=Math.round((d+1)/u.length*100);n(j)}i("Finalizando..."),await new Promise(d=>setTimeout(d,300)),n(100),i("ConcluÃ­do!"),await new Promise(d=>setTimeout(d,200)),t==null||t(),a("cover","fade")}catch(d){console.error("Erro ao carregar recursos:",d),i("Erro ao carregar. Continuando..."),setTimeout(()=>{a("cover")},1e3)}})()},[a,t]),e.jsx("div",{className:"loading-screen",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("div",{className:"loading-logo",children:e.jsx("div",{className:"loading-spinner"})}),e.jsx("h2",{className:"loading-title",children:"Carregando"}),e.jsxs("div",{className:"loading-progress-container",children:[e.jsx("div",{className:"loading-progress-bar",children:e.jsx("div",{className:"loading-progress-fill",style:{width:`${s}%`}})}),e.jsxs("p",{className:"loading-percentage",children:[s,"%"]})]}),e.jsx("p",{className:"loading-status",children:r})]})})},ct=({onNavigate:a,backgroundImage:t})=>{const n=(()=>{var m,c;const p=((c=(m=import.meta)==null?void 0:m.env)==null?void 0:c.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),d=p&&p!=="/"?p.endsWith("/")?p:p+"/":"/";return d==="/"?"":d.endsWith("/")?d.slice(0,-1):d})(),r=p=>{if(n==="")return p.startsWith("/")?p:`/${p}`;const d=p.startsWith("/")?p.slice(1):p;return`${n}/${d}`},i=t||r("assets/images/bg-capa.png"),v=r("assets/images/header-capa.png"),u=r("assets/images/bottom-capa.png"),h=r("assets/images/btn-jogar.png");return e.jsxs("div",{className:"cover-screen",style:{backgroundImage:`url("${i}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"cover-header-image",children:e.jsx("img",{src:v,alt:"Header",className:"cover-header-img"})}),e.jsx("div",{className:"cover-content",children:e.jsx("button",{className:"cover-button-jogar",onClick:()=>a("tutorial"),style:{backgroundImage:`url(${h})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})}),e.jsx("div",{className:"cover-bottom-image",children:e.jsx("img",{src:u,alt:"Bottom",className:"cover-bottom-img"})})]})},lt=({onNavigate:a})=>{const s=(()=>{var p,d;const u=((d=(p=import.meta)==null?void 0:p.env)==null?void 0:d.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),h=u&&u!=="/"?u.endsWith("/")?u:u+"/":"/";return h==="/"?"":h.endsWith("/")?h.slice(0,-1):h})(),n=u=>{if(s==="")return u.startsWith("/")?u:`/${u}`;const h=u.startsWith("/")?u.slice(1):u;return`${s}/${h}`},r=n("assets/images/bg-capa.png"),i=n("assets/images/tutorial-panel.png"),v=n("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${r}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:i,alt:"Tutorial Panel",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>a("ar"),style:{backgroundImage:`url("${v}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})},dt=({enabled:a})=>{const t=l.useRef(null),s=l.useRef(null),n=l.useRef(!1),r=l.useRef({x:0,y:0,z:0}),i=l.useRef({x:0,y:1,z:-1.2}),v=l.useRef(null),u=l.useRef(!1),h=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return l.useEffect(()=>{function p(){if(!t.current){const g=document.createElement("canvas");g.id="face-tracker-overlay",g.style.position="fixed",g.style.top="0",g.style.left="0",g.style.width="100vw",g.style.height="100vh",g.style.pointerEvents="none",g.style.zIndex="9999",document.body.appendChild(g),t.current=g}}function d(){t.current&&t.current.parentNode&&(t.current.parentNode.removeChild(t.current),t.current=null)}async function m(){window.faceapi||(await new Promise((g,y)=>{const N=document.createElement("script");N.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",N.onload=()=>g(),N.onerror=()=>y(new Error("Falha ao carregar face-api.js")),document.head.appendChild(N)}),console.log("face-api.js carregado"))}async function c(){if(n.current)return;const g=window.faceapi,y="https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights";h?await Promise.all([g.nets.tinyFaceDetector.loadFromUri(y),g.nets.faceLandmark68Net.loadFromUri(y)]):await Promise.all([g.nets.tinyFaceDetector.loadFromUri(y),g.nets.faceLandmark68Net.loadFromUri(y),g.nets.faceExpressionNet.loadFromUri(y)]),n.current=!0,console.log("Modelos de face-api carregados")}function j(){var J,B;if(u.current)return;const g=((B=(J=import.meta)==null?void 0:J.env)==null?void 0:B.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),y=L=>{if(!g||g==="/")return L.startsWith("/")?L:`/${L}`;const C=g.endsWith("/")?g:g+"/";return L.startsWith("/")?C+L.replace(/^\//,""):C+L},O=["assets/images/mascara.png","images/mascara.png","mascara.png"].map(y),x=!g||g==="/"?["/mascara.png","/assets/images/mascara.png","/images/mascara.png"]:[],T=[...O,...x];let z=0;const M=new Image,_=()=>{if(z>=T.length){console.warn("NÃ£o foi possÃ­vel carregar mascara.png de nenhum caminho:",T);return}const L=T[z++]+`?v=${Date.now()}`;M.src=L,console.log("BASE_URL resolvido:",g,"| Tentando mÃ¡scara em:",L)};M.onload=()=>{u.current=!0,v.current=M,console.log("MÃ¡scara carregada em:",M.src)},M.onerror=()=>{_()},v.current=M,_()}function S(g){const y=h?1:Math.max(1,window.devicePixelRatio||1);g.width=Math.floor(window.innerWidth*y),g.height=Math.floor(window.innerHeight*y);const N=g.getContext("2d");N&&N.setTransform(y,0,0,y,0,0)}async function b(){p(),await m(),await c(),j();const g=()=>new Promise((_,J)=>{let B=!1;const L=setTimeout(()=>{B||J(new Error("Timeout aguardando vÃ­deo da cÃ¢mera"))},15e3),C=P=>{if(!P)return!1;const D=!!P.srcObject;return(P.readyState>=2||!P.paused&&P.currentTime>0)&&D?(B=!0,clearTimeout(L),P.removeEventListener("playing",A),U.disconnect(),_(P),!0):!1},A=P=>{const D=P.target;C(D)},U=new MutationObserver(()=>{const P=document.getElementById("arjs-video");C(P)||P&&P.addEventListener("playing",A,{once:!0})});U.observe(document.body,{childList:!0,subtree:!0});const H=document.getElementById("arjs-video");C(H)||H&&H.addEventListener("playing",A,{once:!0})});let y;try{y=await g()}catch(_){console.warn("FaceTracker: vÃ­deo nÃ£o disponÃ­vel a tempo",_);return}const N=t.current;if(!y||!N)return;const O=window.faceapi,x=N.getContext("2d");function T(){N&&S(N)}T(),window.addEventListener("resize",T);const z=async()=>{try{if(!a)return;if(!y.videoWidth){M();return}if(h&&y.paused){const C=()=>{y.muted=!0,y.play().catch(()=>{}),window.removeEventListener("touchstart",C),window.removeEventListener("click",C)};window.addEventListener("touchstart",C,{passive:!0}),window.addEventListener("click",C)}const _=(getComputedStyle(y).transform||"").includes("matrix(-1")||(y.style.transform||"").includes("scaleX(-1)"),J=new O.TinyFaceDetectorOptions({inputSize:h?160:224,scoreThreshold:h?.35:.5});let B=window.faceapi.detectAllFaces(y,J).withFaceLandmarks();!h&&window.faceapi.nets.faceExpressionNet.isLoaded&&(B=B.withFaceExpressions());const L=await B;if(x){x.clearRect(0,0,N.width,N.height),h||(x.fillStyle="rgba(78,205,196,0.8)",x.beginPath(),x.arc(16,16,6,0,Math.PI*2),x.fill(),x.font="12px Arial",x.fillText(`faces: ${(L==null?void 0:L.length)||0}`,30,20));const C=h?1:Math.max(1,window.devicePixelRatio||1),A=N.width/C,U=N.height/C,H=A/y.videoWidth,P=U/y.videoHeight,D=(f,o=0)=>{const E=f*H;return _?A-(E+o):E},ee=f=>f*P,se=(f,o,E,F)=>{if(h)return;const R=D(f),w=ee(o);x.fillStyle=F,x.beginPath(),x.arc(R,w,4,0,Math.PI*2),x.fill(),x.fillStyle=F,x.fillText(E,R+6,w-6)};L&&L.length?L.forEach(f=>{var le;const o=f.detection.box,E=o.width*H,F=D(o.x,E),R=ee(o.y),w=E,I=o.height*P;if(h||(x.strokeStyle="#4ECDC4",x.lineWidth=3,x.strokeRect(F,R,w,I)),!h&&f.expressions){const W=f.expressions||{},de=Object.entries(W);if(de.length){const[ge,ue]=de.reduce((Y,X)=>Y[1]>X[1]?Y:X),ae=`${ge} ${(ue*100).toFixed(0)}%`;x.font="12px Arial";const K=x.measureText(ae).width+12;x.fillStyle="rgba(0,0,0,0.6)",x.fillRect(F,Math.max(0,R-22),K,20),x.fillStyle="#FFFFFF",x.fillText(ae,F+6,Math.max(12,R-8))}}const $=((le=f.landmarks)==null?void 0:le.positions)||[];if($.length===68){const W=$[30],de=[36,37,38,39,40,41],ge=[42,43,44,45,46,47],ue=q=>q.reduce((V,ce)=>V+ce,0)/q.length,ae=q=>({x:ue(q.map(V=>$[V].x)),y:ue(q.map(V=>$[V].y))}),K=ae(de),Y=ae(ge);h||(se(W.x,W.y,"nose","#00E5A8"),se(K.x,K.y,"eye-L","#EF476F"),se(Y.x,Y.y,"eye-R","#EF476F"));const X={x:(K.x+Y.x)/2,y:(K.y+Y.y)/2},Se={x:D(X.x),y:ee(X.y)},ke=Y.x-K.x,Ae=Y.y-K.y;let re=Math.atan2(Ae,ke)*180/Math.PI;const Fe=Math.hypot(ke,Ae)||1;let oe=(W.x-X.x)/Fe*60,he=-(W.y-X.y)/Fe*50;_&&(oe=-oe,re=-re);const pe=(q,V,ce)=>Math.max(V,Math.min(ce,q));oe=pe(oe,-60,60),he=pe(he,-50,50),re=pe(re,-45,45);const Ve=D(X.x),He=ee(X.y)+I*.1,Ye=Ve/A,Xe=He/U;window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:Ye,y:Xe,detected:!0}}));const ve=.25,te=r.current,Q={x:te.x+(he-te.x)*ve,y:te.y+(oe-te.y)*ve,z:te.z+(re-te.z)*ve};r.current=Q;const xe=document.getElementById("camera"),ie=document.getElementById("head-cube");if(xe&&ie){const q=xe.getObject3D&&xe.getObject3D("camera");if(q&&window.THREE){const V=window.THREE,ce=Se.x/A*2-1,Ge=-(Se.y/U*2-1),Je=1.2,ye=new V.Vector3,Ie=new V.Vector3,Le=new V.Vector3(ce,Ge,.5);Le.unproject(q),ye.copy(q.position),Ie.copy(Le).sub(ye).normalize();const be=ye.clone().add(Ie.multiplyScalar(Je)),we=.35,ne=i.current,me={x:ne.x+(be.x-ne.x)*we,y:ne.y+(be.y-ne.y)*we,z:ne.z+(be.z-ne.z)*we};i.current=me,ie.setAttribute("position",`${me.x.toFixed(3)} ${me.y.toFixed(3)} ${me.z.toFixed(3)}`),ie.setAttribute("rotation",`${Q.x.toFixed(2)} ${Q.y.toFixed(2)} ${Q.z.toFixed(2)}`)}else ie.setAttribute&&ie.setAttribute("rotation",`${Q.x.toFixed(2)} ${Q.y.toFixed(2)} ${Q.z.toFixed(2)}`)}}}):(window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:.5,y:.5,detected:!1}})),h||(x.strokeStyle="rgba(255,107,107,0.8)",x.lineWidth=2,x.strokeRect(10,10,100,60)))}}catch(_){console.error("FaceTracker detect error:",_)}M()},M=()=>{h?setTimeout(()=>{s.current=requestAnimationFrame(z)},80):s.current=requestAnimationFrame(z)};return s.current=requestAnimationFrame(z),()=>{window.removeEventListener("resize",T)}}let k;if(a)b().then(g=>{k=g}).catch(g=>{console.error("FaceTracker start error:",g)});else if(s.current&&(cancelAnimationFrame(s.current),s.current=null),t.current){const g=t.current.getContext("2d");g&&g.clearRect(0,0,t.current.width,t.current.height)}return()=>{s.current&&(cancelAnimationFrame(s.current),s.current=null),k&&k(),d()}},[a]),null};var Z={},G;Object.defineProperty(Z,"__esModule",{value:!0});var Me=Z.Scene=G=Z.Entity=Z.options=void 0,ut=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(a[n]=s[n])}return a},mt=function(){function a(t,s){for(var n=0;n<s.length;n++){var r=s[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,s,n){return s&&a(t.prototype,s),n&&a(t,n),t}}(),ft=l,Ce=gt(ft);function gt(a){return a&&a.__esModule?a:{default:a}}function _e(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(a,t){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:a}function Be(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(a,t):a.__proto__=t)}var ht=["children","events","primitive"],Ue=function(t){return ht.indexOf(t)===-1},De={runSetAttributeOnUpdates:!0};Z.options=De;function pt(a,t,s){if(s==="className")a.setAttribute("class",t.className);else{if(t[s]&&t[s].constructor===Function)return;a.setAttribute(s,t[s])}}function Oe(a,t,s){var n;if(!(!s||t===s)){for(n in s)Ue(n)&&pt(a,s,n);if(t)for(n in t)Ue(n)&&s[n]===void 0&&a.removeAttribute(n)}}var vt=G=Z.Entity=function(a){Be(t,a);function t(){var s,n,r,i;_e(this,t);for(var v=arguments.length,u=Array(v),h=0;h<v;h++)u[h]=arguments[h];return i=(n=(r=Re(this,(s=t.__proto__||Object.getPrototypeOf(t)).call.apply(s,[this].concat(u))),r),r.initEntity=function(p){var d=r.props,m;if(p){if(r.el=p,d.events)for(m in d.events)We(p,m,d.events[m]);Oe(p,null,d),d._ref&&d._ref(p)}},n),Re(r,i)}return mt(t,[{key:"componentDidUpdate",value:function(n,r){var i=this.el,v=this.props;xt(i,n.events,v.events),De.runSetAttributeOnUpdates&&Oe(i,n,v)}},{key:"componentWillUnmount",value:function(){var n=this.el,r=this.props,i;if(r.events)for(i in r.events)Ne(n,i,r.events[i])}},{key:"render",value:function(){var n=this.props,r=this.isScene?"a-scene":n.primitive||"a-entity",i,v={};for(i in n)(["className","id","mixin"].indexOf(i)!==-1||i.indexOf("data-")===0)&&(v[i]=n[i]);return Ce.default.createElement(r,ut({ref:this.initEntity},v),n.children)}}]),t}(Ce.default.Component);Me=Z.Scene=function(a){Be(t,a);function t(s){_e(this,t);var n=Re(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s));return n.isScene=!0,n}return t}(vt);function xt(a,t,s){var n;if(!(!t||!s||t===s)){for(n in s)t[n]!==s[n]&&(t[n]&&Ne(a,n,t[n]),We(a,n,s[n]));for(n in t)s[n]||Ne(a,n,t[n])}}function We(a,t,s){var n;if(s)for(s.constructor===Function&&(s=[s]),n=0;n<s.length;n++)a.addEventListener(t,s[n])}function Ne(a,t,s){var n;if(s)for(s.constructor===Function&&(s=[s]),n=0;n<s.length;n++)a.removeEventListener(t,s[n])}const qe=l.forwardRef(({className:a="",onSceneReady:t,cameraFacing:s="environment"},n)=>{const r=l.useRef(null),[i,v]=l.useState([]),[u,h]=l.useState(!1);l.useEffect(()=>{const d=()=>{typeof window<"u"&&window.AFRAME?(h(!0),t&&t(),requestAnimationFrame(()=>{const m=document.querySelector(".a-enter-vr-button");m&&(m.style.display="none",m.style.visibility="hidden",m.style.pointerEvents="none"),typeof DeviceOrientationEvent<"u"&&DeviceOrientationEvent.requestPermission?document.querySelector("a-scene")&&setTimeout(()=>{if(document.querySelector("#camera")){const S=async()=>{try{await DeviceOrientationEvent.requestPermission()==="granted"&&(console.log("PermissÃ£o de orientaÃ§Ã£o do dispositivo concedida"),window.dispatchEvent(new Event("deviceorientation")))}catch(k){console.warn("Erro ao solicitar permissÃ£o de orientaÃ§Ã£o:",k)}},b=()=>{S(),document.removeEventListener("touchstart",b),document.removeEventListener("click",b)};document.addEventListener("touchstart",b,{once:!0}),document.addEventListener("click",b,{once:!0})}},500):console.log("DeviceOrientationEvent disponÃ­vel (nÃ£o requer permissÃ£o)")})):setTimeout(d,100)};d()},[t]),l.useImperativeHandle(n,()=>({addEntity:d=>{const m=`entity-${Date.now()}`;return v(c=>[...c,{id:m,data:d}]),m},removeEntity:d=>{v(m=>m.filter(c=>c.id!==d))},getScene:()=>typeof window<"u"&&window.AFRAME&&document.querySelector("a-scene")||r.current,captureScreenshot:()=>{if(typeof window<"u"&&window.AFRAME){const d=document.querySelector("a-scene");if(d){const m=d.renderer;if(m&&m.domElement)return m.domElement.toDataURL("image/png")}}return""},setCameraFacing:d=>{console.log("Camera facing changed to:",d)}}),[]);const p={embedded:!0,"vr-mode-ui":"enabled: false","device-orientation-permission-ui":"enabled: true",renderer:"alpha: true; antialias: true; colorManagement: true; physicallyCorrectLights: false; sortObjects: true; logarithmicDepthBuffer: false; precision: mediump;",webxr:"enabled: false",background:"transparent: true",stats:"false"};return e.jsxs("div",{className:`ar-scene-aframe ${a}`,style:{width:"100%",height:"100%",position:"relative",zIndex:1},children:[u&&e.jsxs(Me,{...p,children:[e.jsx(G,{primitive:"a-assets",children:e.jsx("img",{id:"skyTexture",src:"/assets/images/SKY.jpg",crossOrigin:"anonymous"})}),e.jsx(G,{primitive:"a-sky",rotation:"0 -90 0",material:{src:"#skyTexture",opacity:.5,transparent:!0}}),e.jsx(G,{id:"camera",camera:{active:!0},lookControls:{enabled:!0,reverseMouseDrag:!1,touchEnabled:!0,magicWindowTrackingEnabled:!0,pointerLockEnabled:!1,touchSensitivity:1,mouseSensitivity:1},wasdControls:{enabled:!1},"device-orientation-permission-ui":{enabled:!0},position:"0 1.6 0"}),e.jsx(G,{light:{type:"ambient",color:"#888"}}),e.jsx(G,{light:{type:"directional",color:"#fff",intensity:.6},position:"1 1 1"}),i.map(d=>e.jsx(G,{...d.data},d.id)),e.jsx(G,{id:"head-cube",geometry:{primitive:"box",width:.3,height:.3,depth:.3},material:{color:"#FF6B6B",opacity:.9,transparent:!0},position:"0 1 -1.2",rotation:"0 0 0"}),!1]}),!u&&e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#fff"},children:"Carregando A-Frame..."})]})});qe.displayName="ARSceneAFrame";const yt=({onNavigate:a})=>{const t=l.useRef(null),s=l.useRef(null),[n,r]=l.useState(0),[i,v]=l.useState(60),[u,h]=l.useState(!1),[p,d]=l.useState(!1),[m,c]=l.useState(0),[j,S]=l.useState(null),[b,k]=l.useState(!0),[g,y]=l.useState(null),[N,O]=l.useState(!1),[x,T]=l.useState(null),z=l.useRef([]),M=l.useRef({x:.5,y:.5}),_=l.useRef(!1),J=l.useRef(null),B=l.useRef(null);l.useEffect(()=>{async function f(){try{let o=document.getElementById("arjs-video");if(o&&o.srcObject){o.classList.add("ar-video-visible"),await new Promise(R=>{const w=()=>{document.getElementById("face-tracker-overlay")||o.readyState>=2?R():setTimeout(w,100)};w()}),k(!1);return}const E=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});o||(o=document.createElement("video"),o.setAttribute("id","arjs-video"),o.setAttribute("playsinline",""),o.setAttribute("autoplay",""),o.muted=!0,o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100vw",o.style.height="100vh",o.style.objectFit="cover",o.style.zIndex="0",o.classList.add("ar-video-visible"),document.body.appendChild(o)),o.srcObject&&o.srcObject.getTracks().forEach(w=>w.stop()),o.srcObject=E,B.current=E,J.current=o,await(async()=>{try{o.readyState>=2?await o.play():await new Promise((R,w)=>{const I=()=>{o.removeEventListener("loadedmetadata",I),o.removeEventListener("error",$),o.play().then(R).catch(w)},$=()=>{o.removeEventListener("loadedmetadata",I),o.removeEventListener("error",$),w(new Error("Video load error"))};o.addEventListener("loadedmetadata",I,{once:!0}),o.addEventListener("error",$,{once:!0}),o.readyState>=1&&o.play().then(R).catch(w)})}catch(R){if(o.paused===!1)return;console.warn("Erro ao dar play no vÃ­deo:",R)}})(),await new Promise(R=>{const w=()=>{document.getElementById("face-tracker-overlay")||o.readyState>=2?R():setTimeout(w,100)};w()}),k(!1)}catch(o){console.error("Erro ao inicializar cÃ¢mera:",o),k(!1)}}return f(),()=>{}},[]),l.useEffect(()=>{!b&&!u&&g===null&&y(3)},[b,u,g]),l.useEffect(()=>{if(g===null||g<=0){g===0&&setTimeout(()=>{y(null),h(!0)},500);return}const f=setTimeout(()=>{y(g-1)},1e3);return()=>clearTimeout(f)},[g]);const C=(()=>{var E,F;const f=((F=(E=import.meta)==null?void 0:E.env)==null?void 0:F.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),o=f&&f!=="/"?f.endsWith("/")?f:f+"/":"/";return o==="/"?"":o.endsWith("/")?o.slice(0,-1):o})(),A=f=>{if(C==="")return f.startsWith("/")?f:`/${f}`;const o=f.startsWith("/")?f.slice(1):f;return`${C}/${o}`},U={nave:A("assets/images/sprites/nave.png"),estrela:A("assets/images/sprites/estrela.png"),cometa:A("assets/images/sprites/cometa.png"),barraProgresso:A("assets/images/sprites/barra-progresso.png"),contador:A("assets/images/sprites/contador.png"),feedbackAcerto:A("assets/images/sprites/feedback-acerto.png"),feedbackErro:A("assets/images/sprites/feedback-erro.png"),modalAcerto:A("assets/images/modal-acerto.png"),modalErro:A("assets/images/modal-erro.png"),btnRegistrar:A("assets/images/btn-registrar.png"),btnInicio:A("assets/images/btn-inicio.png"),btnVoltar:A("assets/images/btn-voltar.png")},H=l.useRef({});l.useEffect(()=>{(async()=>{const o=Object.entries(U).map(([E,F])=>new Promise(R=>{const w=new Image;w.onload=()=>{H.current[E]=w,R()},w.onerror=()=>{console.warn(`Failed to load image: ${F}`),R()},w.src=F}));await Promise.all(o)})()},[]),l.useEffect(()=>{if(!u||p)return;const f=setInterval(()=>{v(o=>o<=1?(d(!0),0):o-1)},1e3);return()=>clearInterval(f)},[u,p]),l.useEffect(()=>{const f=o=>{const{x:E,y:F,detected:R}=o.detail;_.current=R,R&&(M.current={x:E,y:F})};return window.addEventListener("nave-position",f),()=>{window.removeEventListener("nave-position",f)}},[]);const P=l.useCallback(()=>{const f=Math.random()>.5?"star":"comet",o={id:Math.random().toString(36).substr(2,9),type:f,x:Math.random()*.8+.1,y:-.1,speed:.0035+Math.random()*.003};z.current.push(o)},[]);l.useEffect(()=>{if(!u||p)return;const f=setInterval(()=>{P()},1e3);return()=>clearInterval(f)},[u,p,P]);const D=l.useCallback(()=>{const f=M.current,o=.08;z.current=z.current.filter(E=>{const F=E.x-f.x,R=E.y-f.y;return Math.sqrt(F*F+R*R)<o+.03?(E.type==="star"?(r(I=>I+10),c(I=>Math.min(100,I+5)),S("acerto"),setTimeout(()=>S(null),500)):(r(I=>Math.max(0,I-5)),c(I=>Math.max(0,I-5)),S("erro"),setTimeout(()=>S(null),500)),!1):!(E.y>1.1)})},[]);l.useEffect(()=>{if(!u||p)return;const f=t.current;if(!f)return;const o=f.getContext("2d");if(!o)return;const E=()=>{f.width=window.innerWidth,f.height=window.innerHeight};E(),window.addEventListener("resize",E);const F=()=>{o.clearRect(0,0,f.width,f.height),z.current.forEach(w=>{w.y+=w.speed});const R=H.current.nave;if(R){const w=M.current.x*f.width,I=M.current.y*f.height,$=f.width*.25;o.drawImage(R,w-$/2,I-$/2,$,$)}z.current.forEach(w=>{const I=H.current[w.type==="star"?"estrela":"cometa"];if(I){const $=w.x*f.width,le=w.y*f.height,W=f.width*.12;o.drawImage(I,$-W/2,le-W/2,W,W)}}),D(),s.current=requestAnimationFrame(F)};return F(),()=>{window.removeEventListener("resize",E),s.current&&cancelAnimationFrame(s.current)}},[u,p,D]),l.useEffect(()=>{if(p&&i===0&&!N){const f=m>=50;T(f?"acerto":"erro"),setTimeout(()=>{O(!0)},1e3)}},[p,i,m,N]);const ee=()=>{O(!1),T(null),r(0),v(60),c(0),S(null),d(!1),h(!1),z.current=[],y(3)},se=f=>{const o=Math.floor(f/60),E=f%60;return`${o}:${E.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"ar-game-screen",children:[b&&e.jsx("div",{className:"ar-loading-overlay",children:e.jsxs("div",{className:"ar-loading-content",children:[e.jsx("div",{className:"ar-loading-spinner"}),e.jsx("p",{className:"ar-loading-text",children:"Preparando AR..."})]})}),g!==null&&e.jsx("div",{className:"ar-countdown-overlay",children:e.jsx("div",{className:"ar-countdown-content",children:g>0?e.jsx("div",{className:"ar-countdown-number",children:g}):e.jsx("div",{className:"ar-countdown-go",children:"Vai!"})})}),e.jsx(qe,{cameraFacing:"user"}),e.jsx("canvas",{ref:t,className:"ar-game-canvas"}),e.jsx(dt,{enabled:!0}),e.jsxs("div",{className:"ar-timer-container",children:[e.jsx("img",{src:U.contador,alt:"Timer",className:"ar-timer-bg"}),e.jsx("div",{className:"ar-timer-text",children:se(i)})]}),e.jsxs("div",{className:"ar-progress-container",children:[e.jsx("img",{src:U.barraProgresso,alt:"Progress Bar",className:"ar-progress-bg"}),e.jsx("div",{className:"ar-progress-fill",style:{width:`${m}%`}})]}),j&&e.jsx("div",{className:`ar-feedback ar-feedback-${j}`,children:e.jsx("img",{src:j==="acerto"?U.feedbackAcerto:U.feedbackErro,alt:j,className:"ar-feedback-image"})}),e.jsxs("div",{className:"ar-score",children:["Pontos: ",n]}),N&&x&&e.jsx("div",{className:"ar-result-modal-overlay",children:e.jsxs("div",{className:"ar-result-modal-content",children:[e.jsx("img",{src:x==="acerto"?U.modalAcerto:U.modalErro,alt:x==="acerto"?"Acerto":"Erro",className:"ar-result-modal-image"}),x==="acerto"&&e.jsxs("div",{className:"ar-result-modal-buttons",children:[e.jsx("button",{className:"ar-result-button ar-result-button-registrar",onClick:()=>{O(!1),a("selfie")},style:{backgroundImage:`url(${U.btnRegistrar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"ar-result-button ar-result-button-inicio",onClick:()=>{O(!1),a("cover")},style:{backgroundImage:`url(${U.btnInicio})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}),x==="erro"&&e.jsx("div",{className:"ar-result-modal-buttons",children:e.jsx("button",{className:"ar-result-button ar-result-button-voltar",onClick:()=>{ee()},style:{backgroundImage:`url(${U.btnVoltar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})})]})},je={quality:"high",enableSound:!0,enableVibration:!0,autoSave:!0,language:"pt-BR"},bt=({onNavigate:a,onSettingsChange:t})=>{const[s,n]=l.useState(je),r=(u,h)=>{const p={...s,[u]:h};n(p),t==null||t(p)},i=()=>{a("ar")},v=()=>{n(je),t==null||t(je)};return e.jsxs("div",{className:"settings-screen",children:[e.jsxs("div",{className:"settings-header",children:[e.jsx("button",{className:"settings-back-button",onClick:i,children:"â† Voltar"}),e.jsx("h1",{className:"settings-title",children:"ConfiguraÃ§Ãµes"})]}),e.jsxs("div",{className:"settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Qualidade"}),e.jsxs("select",{value:s.quality,onChange:u=>r("quality",u.target.value),className:"settings-select",children:[e.jsx("option",{value:"low",children:"Baixa"}),e.jsx("option",{value:"medium",children:"MÃ©dia"}),e.jsx("option",{value:"high",children:"Alta"})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Som"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:s.enableSound,onChange:u=>r("enableSound",u.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar som"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"VibraÃ§Ã£o"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:s.enableVibration,onChange:u=>r("enableVibration",u.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar vibraÃ§Ã£o"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Salvamento"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:s.autoSave,onChange:u=>r("autoSave",u.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Salvar automaticamente"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Idioma"}),e.jsxs("select",{value:s.language,onChange:u=>r("language",u.target.value),className:"settings-select",children:[e.jsx("option",{value:"pt-BR",children:"PortuguÃªs"}),e.jsx("option",{value:"en-US",children:"English"}),e.jsx("option",{value:"es-ES",children:"EspaÃ±ol"})]})]})]}),e.jsxs("div",{className:"settings-footer",children:[e.jsx("button",{className:"settings-button secondary",onClick:v,children:"Restaurar PadrÃµes"}),e.jsx("button",{className:"settings-button primary",onClick:i,children:"Salvar"})]})]})},wt=({onNavigate:a,appName:t="Realidade Aumentada",version:s="1.0.0",description:n="Uma aplicaÃ§Ã£o inovadora de realidade aumentada desenvolvida com tecnologias modernas.",developer:r="Desenvolvedor AR"})=>{const i=()=>{a("cover")};return e.jsxs("div",{className:"about-screen",children:[e.jsxs("div",{className:"about-header",children:[e.jsx("button",{className:"about-back-button",onClick:i,children:"â† Voltar"}),e.jsx("h1",{className:"about-title",children:"Sobre"})]}),e.jsxs("div",{className:"about-content",children:[e.jsxs("div",{className:"about-app-info",children:[e.jsx("h2",{className:"app-name",children:t}),e.jsxs("p",{className:"app-version",children:["VersÃ£o ",s]}),e.jsx("p",{className:"app-description",children:n})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Desenvolvedor"}),e.jsx("p",{children:r})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Tecnologias"}),e.jsxs("ul",{className:"tech-list",children:[e.jsx("li",{children:"React 18"}),e.jsx("li",{children:"TypeScript"}),e.jsx("li",{children:"A-Frame"}),e.jsx("li",{children:"AR.js"}),e.jsx("li",{children:"Vite"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Funcionalidades"}),e.jsxs("ul",{className:"features-list",children:[e.jsx("li",{children:"RenderizaÃ§Ã£o 3D em tempo real"}),e.jsx("li",{children:"AdiÃ§Ã£o de objetos 3D"}),e.jsx("li",{children:"Captura de screenshots"}),e.jsx("li",{children:"Interface responsiva"}),e.jsx("li",{children:"Suporte a gestos"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"LicenÃ§a"}),e.jsx("p",{children:"MIT License - CÃ³digo aberto"})]})]}),e.jsx("div",{className:"about-footer",children:e.jsx("button",{className:"about-button",onClick:i,children:"Voltar ao InÃ­cio"})})]})},jt=({onNavigate:a})=>{const t=()=>{a("cover")};return e.jsx("div",{className:"final-screen",children:e.jsxs("div",{className:"final-content",children:[e.jsxs("div",{className:"final-header",children:[e.jsx("div",{className:"final-icon",children:"ðŸŽ‰"}),e.jsx("h1",{className:"final-title",children:"ParabÃ©ns!"}),e.jsx("p",{className:"final-subtitle",children:"VocÃª completou a experiÃªncia de Realidade Aumentada"})]}),e.jsxs("div",{className:"final-body",children:[e.jsx("div",{className:"final-message",children:e.jsx("p",{children:"Esperamos que vocÃª tenha aproveitado essa jornada interativa!"})}),e.jsx("div",{className:"final-stats",children:e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-value",children:"âœ“"}),e.jsx("div",{className:"stat-label",children:"ExperiÃªncia Completa"})]})})]}),e.jsx("div",{className:"final-footer",children:e.jsx("button",{className:"final-button primary",onClick:t,children:"Jogar Novamente"})})]})})},Et=()=>{const a=l.useRef(null),t=l.useRef(null),[s,n]=l.useState(!1),i=(()=>{var j,S;const m=((S=(j=import.meta)==null?void 0:j.env)==null?void 0:S.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),c=m&&m!=="/"?m.endsWith("/")?m:m+"/":"/";return c==="/"?"":c.endsWith("/")?c.slice(0,-1):c})(),v=m=>{if(i==="")return m.startsWith("/")?m:`/${m}`;const c=m.startsWith("/")?m.slice(1):m;return`${i}/${c}`},u=v("assets/images/selfie-top.png"),h=v("assets/images/selfie-bottom.png"),p=v("assets/images/camera-icon.png");l.useEffect(()=>{async function m(){try{let c=document.getElementById("selfie-video");if(c&&c.srcObject){c.classList.add("selfie-video-visible"),a.current=c;return}const j=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});c||(c=document.createElement("video"),c.setAttribute("id","selfie-video"),c.setAttribute("playsinline",""),c.setAttribute("autoplay",""),c.muted=!0,c.style.position="fixed",c.style.top="0",c.style.left="0",c.style.width="100vw",c.style.height="100vh",c.style.objectFit="cover",c.style.zIndex="0",c.classList.add("selfie-video-visible"),document.body.appendChild(c)),c.srcObject=j,t.current=j,a.current=c,await c.play()}catch(c){console.error("Erro ao inicializar cÃ¢mera:",c)}}return m(),()=>{}},[]);const d=()=>{if(!a.current||s)return;n(!0);const m=a.current,c=document.createElement("canvas");c.width=m.videoWidth||m.clientWidth,c.height=m.videoHeight||m.clientHeight;const j=c.getContext("2d");j?(j.drawImage(m,0,0,c.width,c.height),c.toBlob(S=>{if(S){const b=URL.createObjectURL(S),k=document.createElement("a");k.href=b,k.download=`selfie-${Date.now()}.png`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(b)}n(!1)},"image/png")):n(!1)};return e.jsxs("div",{className:"selfie-screen",children:[e.jsx("div",{className:"selfie-top-overlay",children:e.jsx("img",{src:u,alt:"Top",className:"selfie-top-img"})}),e.jsx("div",{className:"selfie-bottom-overlay",children:e.jsx("img",{src:h,alt:"Bottom",className:"selfie-bottom-img"})}),e.jsx("button",{className:"selfie-camera-button",onClick:d,disabled:s,style:{backgroundImage:`url(${p})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})};const Rt=({initialScreen:a="loading",appConfig:t,defaultTransition:s="zoom-out",defaultDirection:n="right"})=>{const[r,i]=l.useState(a||"loading"),[v,u]=l.useState(!1),[h,p]=l.useState(s),[d,m]=l.useState(n),[c,j]=l.useState(null);l.useEffect(()=>{console.log("ðŸŽ¬ ScreenManager inicializado com tela:",r)},[]),l.useEffect(()=>{if(!v){const y=setTimeout(()=>{r!=="loading"&&j(null)},1e3);return()=>clearTimeout(y)}},[r,v]);const S=(y,N)=>{const O=["loading","cover","tutorial","ar","final","settings","about","selfie"],x=O.indexOf(y),T=O.indexOf(N);return T>x?"right":T<x?"left":"right"},b=(y,N,O)=>{const x=N||h,T=O||S(r,y);j(r),p(x),m(T);const z=r==="loading"?800:300;u(!0),setTimeout(()=>{i(y),u(!1)},z)},k=()=>{switch(r){case"loading":return e.jsx(Te,{onNavigate:b});case"cover":return e.jsx(ct,{onNavigate:b,title:t.title,subtitle:t.subtitle});case"tutorial":return e.jsx(lt,{onNavigate:b});case"ar":return e.jsx(yt,{onNavigate:b});case"final":return e.jsx(jt,{onNavigate:b});case"settings":return e.jsx(bt,{onNavigate:b});case"about":return e.jsx(wt,{onNavigate:b});case"selfie":return e.jsx(Et,{onNavigate:b});default:return e.jsx(Te,{onNavigate:b})}},g=()=>{const y="screen-manager",N=`transition-${h}`,O=`direction-${d}`,x=v?"transitioning":"",T=c?`from-${c}`:"";return`${y} ${N} ${O} ${x} ${T}`.trim()};return e.jsx("div",{className:g(),children:k()})},Nt=l.createContext(void 0),St=({children:a})=>{const[t,s]=l.useState(null),[n,r]=l.useState(!0),[i,v]=l.useState(null),u=async()=>{var d,m;try{r(!0),v(null),console.log("ðŸ”„ Carregando dados do RA...");const c=((m=(d=import.meta)==null?void 0:d.env)==null?void 0:m.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),S=`${c&&c!=="/"?c.endsWith("/")?c:c+"/":"/"}assets/data/ra.json`,b=await fetch(S);if(!b.ok)throw new Error(`Erro ao carregar dados: ${b.status}`);const k=await b.json();console.log("âœ… Dados do RA carregados:",k),s(k)}catch(c){const j=c instanceof Error?c.message:"Erro desconhecido";console.error("âŒ Erro ao carregar dados do RA:",j),v(j)}finally{r(!1)}},h=()=>{u()};l.useEffect(()=>{u()},[]);const p={raData:t,loading:n,error:i,refreshData:h};return e.jsx(Nt.Provider,{value:p,children:a})},kt=()=>{const[a,t]=l.useState(!1),s=()=>{const n=window.innerWidth,r=window.innerHeight,i=n>r,v=navigator.userAgent.toLowerCase(),u=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(v)||"ontouchstart"in window||navigator.maxTouchPoints>0,h=n<=768;u&&i||h&&i?(t(!0),document.body.style.overflow="hidden",document.body.style.touchAction="none"):(t(!1),document.body.style.overflow="",document.body.style.touchAction="")};return l.useEffect(()=>{s();let n,r;const i=()=>{clearTimeout(n),n=setTimeout(()=>{s()},100)},v=()=>{clearTimeout(r),r=setTimeout(()=>{s()},300)},u=()=>{clearTimeout(r),r=setTimeout(()=>{s()},300)},h=m=>{clearTimeout(r),r=setTimeout(()=>{s()},100)};window.addEventListener("resize",i),window.addEventListener("orientationchange",v),window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",u);const p=window.matchMedia("(orientation: landscape)");p.addEventListener("change",h);const d=setInterval(()=>{s()},2e3);return()=>{clearTimeout(n),clearTimeout(r),clearInterval(d),window.removeEventListener("resize",i),window.removeEventListener("orientationchange",v),window.screen&&window.screen.orientation&&window.screen.orientation.removeEventListener("change",u),p.removeEventListener("change",h),document.body.style.overflow="",document.body.style.touchAction=""}},[]),a?e.jsxs("div",{className:"landscape-blocker",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:999999999,color:"white",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px",boxSizing:"border-box",pointerEvents:"auto"},children:[e.jsx("div",{style:{width:"80px",height:"80px",marginBottom:"20px",fontSize:"60px",animation:"rotate 2s ease-in-out infinite"},children:"ðŸ“±"}),e.jsx("h2",{style:{margin:"0 0 10px 0",fontSize:"24px"},children:"Gire seu dispositivo"}),e.jsx("p",{style:{margin:"0",fontSize:"16px",opacity:.9},children:"Para uma melhor experiÃªncia de Realidade Aumentada, mantenha seu dispositivo na orientaÃ§Ã£o retrato (vertical)."}),e.jsx("style",{children:`
          @keyframes rotate {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(90deg); }
          }
        `})]}):null};function At(){const a={title:"Realidade Aumentada",subtitle:"Explore o mundo em 3D",version:"1.0.0",developer:"AR Developer"};return e.jsx(St,{children:e.jsxs("div",{className:"ar-app",children:[e.jsx(kt,{}),e.jsx(Rt,{initialScreen:"loading",appConfig:a})]})})}Ee.createRoot(document.getElementById("root")).render(e.jsx(Qe.StrictMode,{children:e.jsx(At,{})}));
//# sourceMappingURL=index-6a2baad8.js.map
