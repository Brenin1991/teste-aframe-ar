import{r as o,a as Oe,R as Be}from"./vendor-b1791c80.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const d of t)if(d.type==="childList")for(const v of d.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&u(v)}).observe(document,{childList:!0,subtree:!0});function l(t){const d={};return t.integrity&&(d.integrity=t.integrity),t.referrerPolicy&&(d.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?d.credentials="include":t.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function u(t){if(t.ep)return;t.ep=!0;const d=l(t);fetch(t.href,d)}})();var Ie={exports:{}},de={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=o,_e=Symbol.for("react.element"),Ve=Symbol.for("react.fragment"),qe=Object.prototype.hasOwnProperty,He=We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ye={key:!0,ref:!0,__self:!0,__source:!0};function Ae(g,r,l){var u,t={},d=null,v=null;l!==void 0&&(d=""+l),r.key!==void 0&&(d=""+r.key),r.ref!==void 0&&(v=r.ref);for(u in r)qe.call(r,u)&&!Ye.hasOwnProperty(u)&&(t[u]=r[u]);if(g&&g.defaultProps)for(u in r=g.defaultProps,r)t[u]===void 0&&(t[u]=r[u]);return{$$typeof:_e,type:g,key:d,ref:v,props:t,_owner:He.current}}de.Fragment=Ve;de.jsx=Ae;de.jsxs=Ae;Ie.exports=de;var e=Ie.exports,ye={},Fe=Oe;ye.createRoot=Fe.createRoot,ye.hydrateRoot=Fe.hydrateRoot;const Ce=({onNavigate:g,onLoadingComplete:r})=>{const[l,u]=o.useState(0),[t,d]=o.useState("Inicializando...");return o.useEffect(()=>{(async()=>{const i=["/assets/images/bg-capa.png","/assets/images/header-capa.png","/assets/images/bottom-capa.png","/assets/images/btn-jogar.png","/assets/images/tutorial-panel.png","/assets/images/btn-comecar.png","/assets/images/sprites/nave.png","/assets/images/sprites/estrela.png","/assets/images/sprites/cometa.png","/assets/images/sprites/barra-progresso.png","/assets/images/sprites/contador.png","/assets/images/sprites/feedback-acerto.png","/assets/images/sprites/feedback-erro.png","/assets/images/Titulo.png","/assets/images/btJogar.png","/assets/images/btCreditos.png","/assets/images/SKY.png","/assets/images/mascara.png","/assets/data/ra.json"],c=(()=>{var w,T;const h=((T=(w=import.meta)==null?void 0:w.env)==null?void 0:T.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/");return h&&h!=="/"?h.endsWith("/")?h:h+"/":"/"})();try{d("Carregando imagens...");for(let h=0;h<i.length;h++){const k=i[h],w=`${c}${k.startsWith("/")?k.slice(1):k}`;if(k.endsWith(".json"))try{if(!(await fetch(w)).ok)throw new Error(`Failed to load ${k}`)}catch(F){console.warn(`Failed to load ${k}:`,F)}else await new Promise(F=>{const j=new Image;j.onload=()=>F(j),j.onerror=()=>{console.warn(`Failed to load image: ${w}`),F(null)},j.src=w});const T=Math.round((h+1)/i.length*100);u(T)}d("Finalizando..."),await new Promise(h=>setTimeout(h,300)),u(100),d("ConcluÃ­do!"),await new Promise(h=>setTimeout(h,200)),r==null||r(),g("cover","fade")}catch(h){console.error("Erro ao carregar recursos:",h),d("Erro ao carregar. Continuando..."),setTimeout(()=>{g("cover")},1e3)}})()},[g,r]),e.jsx("div",{className:"loading-screen",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("div",{className:"loading-logo",children:e.jsx("div",{className:"loading-spinner"})}),e.jsx("h2",{className:"loading-title",children:"Carregando"}),e.jsxs("div",{className:"loading-progress-container",children:[e.jsx("div",{className:"loading-progress-bar",children:e.jsx("div",{className:"loading-progress-fill",style:{width:`${l}%`}})}),e.jsxs("p",{className:"loading-percentage",children:[l,"%"]})]}),e.jsx("p",{className:"loading-status",children:t})]})})},Xe=({onNavigate:g,backgroundImage:r})=>{const u=(()=>{var k,w;const c=((w=(k=import.meta)==null?void 0:k.env)==null?void 0:w.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),h=c&&c!=="/"?c.endsWith("/")?c:c+"/":"/";return h==="/"?"":h.endsWith("/")?h.slice(0,-1):h})(),t=c=>{if(u==="")return c.startsWith("/")?c:`/${c}`;const h=c.startsWith("/")?c.slice(1):c;return`${u}/${h}`},d=r||t("assets/images/bg-capa.png"),v=t("assets/images/header-capa.png"),i=t("assets/images/bottom-capa.png"),y=t("assets/images/btn-jogar.png");return e.jsxs("div",{className:"cover-screen",style:{backgroundImage:`url("${d}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"cover-header-image",children:e.jsx("img",{src:v,alt:"Header",className:"cover-header-img"})}),e.jsx("div",{className:"cover-content",children:e.jsx("button",{className:"cover-button-jogar",onClick:()=>g("tutorial"),style:{backgroundImage:`url(${y})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})}),e.jsx("div",{className:"cover-bottom-image",children:e.jsx("img",{src:i,alt:"Bottom",className:"cover-bottom-img"})})]})},Ge=({onNavigate:g})=>{const l=(()=>{var c,h;const i=((h=(c=import.meta)==null?void 0:c.env)==null?void 0:h.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),y=i&&i!=="/"?i.endsWith("/")?i:i+"/":"/";return y==="/"?"":y.endsWith("/")?y.slice(0,-1):y})(),u=i=>{if(l==="")return i.startsWith("/")?i:`/${i}`;const y=i.startsWith("/")?i.slice(1):i;return`${l}/${y}`},t=u("assets/images/bg-capa.png"),d=u("assets/images/tutorial-panel.png"),v=u("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${t}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:d,alt:"Tutorial Panel",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>g("ar"),style:{backgroundImage:`url("${v}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})},Je=({enabled:g})=>{const r=o.useRef(null),l=o.useRef(null),u=o.useRef(!1),t=o.useRef(null),d=o.useRef({x:0,y:0,z:0}),v=o.useRef({x:0,y:1,z:-1.2}),i=o.useRef(null),y=o.useRef(!1),c=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return o.useEffect(()=>{function h(){if(!r.current){const n=document.createElement("canvas");n.id="face-tracker-overlay",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100vw",n.style.height="100vh",n.style.pointerEvents="none",n.style.zIndex="9999",document.body.appendChild(n),r.current=n}if(!t.current){const n=document.createElement("div");n.id="face-tracker-status",n.style.position="fixed",n.style.left="8px",n.style.bottom="8px",n.style.padding="4px 8px",n.style.background="rgba(0,0,0,0.55)",n.style.color="#fff",n.style.font="12px Arial",n.style.borderRadius="6px",n.style.zIndex="10000",n.style.pointerEvents="none",n.textContent="FaceTracker: iniciando",document.body.appendChild(n),t.current=n}}function k(){r.current&&r.current.parentNode&&(r.current.parentNode.removeChild(r.current),r.current=null),t.current&&t.current.parentNode&&(t.current.parentNode.removeChild(t.current),t.current=null)}async function w(){window.faceapi||(t.current&&(t.current.textContent="FaceTracker: carregando lib"),await new Promise((n,f)=>{const R=document.createElement("script");R.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",R.onload=()=>n(),R.onerror=()=>f(new Error("Falha ao carregar face-api.js")),document.head.appendChild(R)}),console.log("face-api.js carregado"))}async function T(){if(u.current)return;t.current&&(t.current.textContent="FaceTracker: carregando modelos");const n=window.faceapi,f="https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights";c?await Promise.all([n.nets.tinyFaceDetector.loadFromUri(f),n.nets.faceLandmark68Net.loadFromUri(f)]):await Promise.all([n.nets.tinyFaceDetector.loadFromUri(f),n.nets.faceLandmark68Net.loadFromUri(f),n.nets.faceExpressionNet.loadFromUri(f)]),u.current=!0,t.current&&(t.current.textContent="FaceTracker: pronto"),console.log("Modelos de face-api carregados")}function F(){var B,a;if(y.current)return;const n=((a=(B=import.meta)==null?void 0:B.env)==null?void 0:a.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),f=s=>{if(!n||n==="/")return s.startsWith("/")?s:`/${s}`;const p=n.endsWith("/")?n:n+"/";return s.startsWith("/")?p+s.replace(/^\//,""):p+s},A=["assets/images/mascara.png","images/mascara.png","mascara.png"].map(f),m=!n||n==="/"?["/mascara.png","/assets/images/mascara.png","/images/mascara.png"]:[],C=[...A,...m];let U=0;const L=new Image,I=()=>{if(U>=C.length){console.warn("NÃ£o foi possÃ­vel carregar mascara.png de nenhum caminho:",C);return}const s=C[U++]+`?v=${Date.now()}`;L.src=s,console.log("BASE_URL resolvido:",n,"| Tentando mÃ¡scara em:",s)};L.onload=()=>{y.current=!0,i.current=L,console.log("MÃ¡scara carregada em:",L.src)},L.onerror=()=>{I()},i.current=L,I()}function j(n){const f=c?1:Math.max(1,window.devicePixelRatio||1);n.width=Math.floor(window.innerWidth*f),n.height=Math.floor(window.innerHeight*f);const R=n.getContext("2d");R&&R.setTransform(f,0,0,f,0,0)}async function P(){h(),await w(),await T(),F();const n=()=>new Promise((I,B)=>{let a=!1;const s=setTimeout(()=>{a||B(new Error("Timeout aguardando vÃ­deo da cÃ¢mera"))},15e3),p=x=>{if(!x)return!1;const S=!!x.srcObject;return(x.readyState>=2||!x.paused&&x.currentTime>0)&&S?(a=!0,clearTimeout(s),x.removeEventListener("playing",N),E.disconnect(),I(x),!0):!1},N=x=>{const S=x.target;p(S)},E=new MutationObserver(()=>{const x=document.getElementById("arjs-video");p(x)||x&&x.addEventListener("playing",N,{once:!0})});E.observe(document.body,{childList:!0,subtree:!0});const b=document.getElementById("arjs-video");p(b)||b&&b.addEventListener("playing",N,{once:!0})});let f;try{f=await n()}catch(I){t.current&&(t.current.textContent="FaceTracker: sem vÃ­deo"),console.warn("FaceTracker: vÃ­deo nÃ£o disponÃ­vel a tempo",I);return}const R=r.current;if(!f||!R){t.current&&(t.current.textContent="FaceTracker: sem vÃ­deo");return}const A=window.faceapi,m=R.getContext("2d");function C(){R&&j(R)}C(),window.addEventListener("resize",C);const U=async()=>{try{if(!g)return;if(!f.videoWidth){t.current&&(t.current.textContent="FaceTracker: aguardando vÃ­deo"),L();return}if(c&&f.paused){const p=()=>{f.muted=!0,f.play().catch(()=>{}),window.removeEventListener("touchstart",p),window.removeEventListener("click",p)};window.addEventListener("touchstart",p,{passive:!0}),window.addEventListener("click",p)}const I=(getComputedStyle(f).transform||"").includes("matrix(-1")||(f.style.transform||"").includes("scaleX(-1)"),B=new A.TinyFaceDetectorOptions({inputSize:c?160:224,scoreThreshold:c?.35:.5});let a=window.faceapi.detectAllFaces(f,B).withFaceLandmarks();!c&&window.faceapi.nets.faceExpressionNet.isLoaded&&(a=a.withFaceExpressions());const s=await a;if(m){m.clearRect(0,0,R.width,R.height),c||(m.fillStyle="rgba(78,205,196,0.8)",m.beginPath(),m.arc(16,16,6,0,Math.PI*2),m.fill(),m.font="12px Arial",m.fillText(`faces: ${(s==null?void 0:s.length)||0}`,30,20));const p=c?1:Math.max(1,window.devicePixelRatio||1),N=R.width/p,E=R.height/p,b=N/f.videoWidth,x=E/f.videoHeight,S=(M,_=0)=>{const H=M*b;return I?N-(H+_):H},X=M=>M*x,W=(M,_,H,G)=>{if(c)return;const J=S(M),ae=X(_);m.fillStyle=G,m.beginPath(),m.arc(J,ae,4,0,Math.PI*2),m.fill(),m.fillStyle=G,m.fillText(H,J+6,ae-6)};s&&s.length?(t.current&&(t.current.textContent="FaceTracker: detectando"),s.forEach(M=>{var je;const _=M.detection.box,H=_.width*b,G=S(_.x,H),J=X(_.y),ae=H,we=_.height*x;if(c||(m.strokeStyle="#4ECDC4",m.lineWidth=3,m.strokeRect(G,J,ae,we)),!c&&M.expressions){const Q=M.expressions||{},ie=Object.entries(Q);if(ie.length){const[ue,ce]=ie.reduce((D,O)=>D[1]>O[1]?D:O),ee=`${ue} ${(ce*100).toFixed(0)}%`;m.font="12px Arial";const V=m.measureText(ee).width+12;m.fillStyle="rgba(0,0,0,0.6)",m.fillRect(G,Math.max(0,J-22),V,20),m.fillStyle="#FFFFFF",m.fillText(ee,G+6,Math.max(12,J-8))}}const oe=((je=M.landmarks)==null?void 0:je.positions)||[];if(oe.length===68){const Q=oe[30],ie=[36,37,38,39,40,41],ue=[42,43,44,45,46,47],ce=z=>z.reduce(($,re)=>$+re,0)/z.length,ee=z=>({x:ce(z.map($=>oe[$].x)),y:ce(z.map($=>oe[$].y))}),V=ee(ie),D=ee(ue);c||(W(Q.x,Q.y,"nose","#00E5A8"),W(V.x,V.y,"eye-L","#EF476F"),W(D.x,D.y,"eye-R","#EF476F"));const O={x:(V.x+D.x)/2,y:(V.y+D.y)/2},Re={x:S(O.x),y:X(O.y)},Ee=D.x-V.x,Ne=D.y-V.y;let te=Math.atan2(Ne,Ee)*180/Math.PI;const ke=Math.hypot(Ee,Ne)||1;let se=(Q.x-O.x)/ke*60,me=-(Q.y-O.y)/ke*50;I&&(se=-se,te=-te);const ge=(z,$,re)=>Math.max($,Math.min(re,z));se=ge(se,-60,60),me=ge(me,-50,50),te=ge(te,-45,45);const Pe=S(O.x),ze=X(O.y)+we*.1,$e=Pe/N,Ue=ze/E;window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:$e,y:Ue,detected:!0}}));const he=.25,K=d.current,Y={x:K.x+(me-K.x)*he,y:K.y+(se-K.y)*he,z:K.z+(te-K.z)*he};d.current=Y;const pe=document.getElementById("camera"),ne=document.getElementById("head-cube");if(pe&&ne){const z=pe.getObject3D&&pe.getObject3D("camera");if(z&&window.THREE){const $=window.THREE,re=Re.x/N*2-1,Me=-(Re.y/E*2-1),De=1.2,fe=new $.Vector3,Se=new $.Vector3,Te=new $.Vector3(re,Me,.5);Te.unproject(z),fe.copy(z.position),Se.copy(Te).sub(fe).normalize();const xe=fe.clone().add(Se.multiplyScalar(De)),ve=.35,Z=v.current,le={x:Z.x+(xe.x-Z.x)*ve,y:Z.y+(xe.y-Z.y)*ve,z:Z.z+(xe.z-Z.z)*ve};v.current=le,ne.setAttribute("position",`${le.x.toFixed(3)} ${le.y.toFixed(3)} ${le.z.toFixed(3)}`),ne.setAttribute("rotation",`${Y.x.toFixed(2)} ${Y.y.toFixed(2)} ${Y.z.toFixed(2)}`)}else ne.setAttribute&&ne.setAttribute("rotation",`${Y.x.toFixed(2)} ${Y.y.toFixed(2)} ${Y.z.toFixed(2)}`)}}})):(t.current&&(t.current.textContent="FaceTracker: sem rosto"),window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:.5,y:.5,detected:!1}})),c||(m.strokeStyle="rgba(255,107,107,0.8)",m.lineWidth=2,m.strokeRect(10,10,100,60)))}}catch(I){console.error("FaceTracker detect error:",I),t.current&&(t.current.textContent="FaceTracker: erro de detecÃ§Ã£o")}L()},L=()=>{c?setTimeout(()=>{l.current=requestAnimationFrame(U)},80):l.current=requestAnimationFrame(U)};return l.current=requestAnimationFrame(U),()=>{window.removeEventListener("resize",C)}}let q;if(g)P().then(n=>{q=n}).catch(n=>{console.error("FaceTracker start error:",n),t.current&&(t.current.textContent="FaceTracker: erro ao iniciar")});else{if(l.current&&(cancelAnimationFrame(l.current),l.current=null),r.current){const n=r.current.getContext("2d");n&&n.clearRect(0,0,r.current.width,r.current.height)}t.current&&(t.current.textContent="FaceTracker: desligado")}return()=>{l.current&&(cancelAnimationFrame(l.current),l.current=null),q&&q(),k()}},[g]),null},Qe=({onNavigate:g})=>{const r=o.useRef(null),l=o.useRef(null),[u,t]=o.useState(0),[d,v]=o.useState(60),[i,y]=o.useState(!1),[c,h]=o.useState(!1),[k,w]=o.useState(0),[T,F]=o.useState(null),j=o.useRef([]),P=o.useRef({x:.5,y:.5}),q=o.useRef(!1),n=o.useRef(null),f=o.useRef(null);o.useEffect(()=>{async function a(){try{let s=document.getElementById("arjs-video");if(s&&s.srcObject)return;const p=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});s||(s=document.createElement("video"),s.setAttribute("id","arjs-video"),s.setAttribute("playsinline",""),s.setAttribute("autoplay",""),s.muted=!0,s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.width="100vw",s.style.height="100vh",s.style.objectFit="cover",s.style.zIndex="1",s.style.display="block",document.body.appendChild(s)),s.srcObject&&s.srcObject.getTracks().forEach(b=>b.stop()),s.srcObject=p,f.current=p,n.current=s,await(async()=>{try{s.readyState>=2?await s.play():await new Promise((E,b)=>{const x=()=>{s.removeEventListener("loadedmetadata",x),s.removeEventListener("error",S),s.play().then(E).catch(b)},S=()=>{s.removeEventListener("loadedmetadata",x),s.removeEventListener("error",S),b(new Error("Video load error"))};s.addEventListener("loadedmetadata",x,{once:!0}),s.addEventListener("error",S,{once:!0}),s.readyState>=1&&s.play().then(E).catch(b)})}catch(E){if(s.paused===!1)return;console.warn("Erro ao dar play no vÃ­deo:",E)}})()}catch(s){console.error("Erro ao inicializar cÃ¢mera:",s)}}return a(),()=>{}},[]);const A=(()=>{var p,N;const a=((N=(p=import.meta)==null?void 0:p.env)==null?void 0:N.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),s=a&&a!=="/"?a.endsWith("/")?a:a+"/":"/";return s==="/"?"":s.endsWith("/")?s.slice(0,-1):s})(),m=a=>{if(A==="")return a.startsWith("/")?a:`/${a}`;const s=a.startsWith("/")?a.slice(1):a;return`${A}/${s}`},C={nave:m("assets/images/sprites/nave.png"),estrela:m("assets/images/sprites/estrela.png"),cometa:m("assets/images/sprites/cometa.png"),barraProgresso:m("assets/images/sprites/barra-progresso.png"),contador:m("assets/images/sprites/contador.png"),feedbackAcerto:m("assets/images/sprites/feedback-acerto.png"),feedbackErro:m("assets/images/sprites/feedback-erro.png")},U=o.useRef({});o.useEffect(()=>{(async()=>{const s=Object.entries(C).map(([p,N])=>new Promise(E=>{const b=new Image;b.onload=()=>{U.current[p]=b,E()},b.onerror=()=>{console.warn(`Failed to load image: ${N}`),E()},b.src=N}));await Promise.all(s),y(!0)})()},[]),o.useEffect(()=>{if(!i||c)return;const a=setInterval(()=>{v(s=>s<=1?(h(!0),0):s-1)},1e3);return()=>clearInterval(a)},[i,c]),o.useEffect(()=>{const a=s=>{const{x:p,y:N,detected:E}=s.detail;q.current=E,E&&(P.current={x:p,y:N})};return window.addEventListener("nave-position",a),()=>{window.removeEventListener("nave-position",a)}},[]);const L=o.useCallback(()=>{const a=Math.random()>.5?"star":"comet",s={id:Math.random().toString(36).substr(2,9),type:a,x:Math.random()*.8+.1,y:-.1,speed:.0035+Math.random()*.003};j.current.push(s)},[]);o.useEffect(()=>{if(!i||c)return;const a=setInterval(()=>{L()},1e3);return()=>clearInterval(a)},[i,c,L]);const I=o.useCallback(()=>{const a=P.current,s=.08;j.current=j.current.filter(p=>{const N=p.x-a.x,E=p.y-a.y;return Math.sqrt(N*N+E*E)<s+.03?(p.type==="star"?(t(x=>x+10),w(x=>Math.min(100,x+5)),F("acerto"),setTimeout(()=>F(null),500)):(t(x=>Math.max(0,x-5)),w(x=>Math.max(0,x-5)),F("erro"),setTimeout(()=>F(null),500)),!1):!(p.y>1.1)})},[]);o.useEffect(()=>{if(!i||c)return;const a=r.current;if(!a)return;const s=a.getContext("2d");if(!s)return;const p=()=>{a.width=window.innerWidth,a.height=window.innerHeight};p(),window.addEventListener("resize",p);const N=()=>{s.clearRect(0,0,a.width,a.height),j.current.forEach(b=>{b.y+=b.speed});const E=U.current.nave;if(E){const b=P.current.x*a.width,x=P.current.y*a.height,S=a.width*.25;s.drawImage(E,b-S/2,x-S/2,S,S)}j.current.forEach(b=>{const x=U.current[b.type==="star"?"estrela":"cometa"];if(x){const S=b.x*a.width,X=b.y*a.height,W=a.width*.12;s.drawImage(x,S-W/2,X-W/2,W,W)}}),I(),l.current=requestAnimationFrame(N)};return N(),()=>{window.removeEventListener("resize",p),l.current&&cancelAnimationFrame(l.current)}},[i,c,I]),o.useEffect(()=>{c&&d===0&&setTimeout(()=>{g("final")},2e3)},[c,d,g]);const B=a=>{const s=Math.floor(a/60),p=a%60;return`${s}:${p.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"ar-game-screen",children:[e.jsx("canvas",{ref:r,className:"ar-game-canvas"}),e.jsx(Je,{enabled:!0}),e.jsxs("div",{className:"ar-timer-container",children:[e.jsx("img",{src:C.contador,alt:"Timer",className:"ar-timer-bg"}),e.jsx("div",{className:"ar-timer-text",children:B(d)})]}),e.jsxs("div",{className:"ar-progress-container",children:[e.jsx("img",{src:C.barraProgresso,alt:"Progress Bar",className:"ar-progress-bg"}),e.jsx("div",{className:"ar-progress-fill",style:{width:`${k}%`}})]}),T&&e.jsx("div",{className:`ar-feedback ar-feedback-${T}`,children:e.jsx("img",{src:T==="acerto"?C.feedbackAcerto:C.feedbackErro,alt:T,className:"ar-feedback-image"})}),e.jsxs("div",{className:"ar-score",children:["Pontos: ",u]})]})},be={quality:"high",enableSound:!0,enableVibration:!0,autoSave:!0,language:"pt-BR"},Ke=({onNavigate:g,onSettingsChange:r})=>{const[l,u]=o.useState(be),t=(i,y)=>{const c={...l,[i]:y};u(c),r==null||r(c)},d=()=>{g("ar")},v=()=>{u(be),r==null||r(be)};return e.jsxs("div",{className:"settings-screen",children:[e.jsxs("div",{className:"settings-header",children:[e.jsx("button",{className:"settings-back-button",onClick:d,children:"â† Voltar"}),e.jsx("h1",{className:"settings-title",children:"ConfiguraÃ§Ãµes"})]}),e.jsxs("div",{className:"settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Qualidade"}),e.jsxs("select",{value:l.quality,onChange:i=>t("quality",i.target.value),className:"settings-select",children:[e.jsx("option",{value:"low",children:"Baixa"}),e.jsx("option",{value:"medium",children:"MÃ©dia"}),e.jsx("option",{value:"high",children:"Alta"})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Som"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:l.enableSound,onChange:i=>t("enableSound",i.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar som"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"VibraÃ§Ã£o"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:l.enableVibration,onChange:i=>t("enableVibration",i.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar vibraÃ§Ã£o"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Salvamento"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:l.autoSave,onChange:i=>t("autoSave",i.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Salvar automaticamente"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Idioma"}),e.jsxs("select",{value:l.language,onChange:i=>t("language",i.target.value),className:"settings-select",children:[e.jsx("option",{value:"pt-BR",children:"PortuguÃªs"}),e.jsx("option",{value:"en-US",children:"English"}),e.jsx("option",{value:"es-ES",children:"EspaÃ±ol"})]})]})]}),e.jsxs("div",{className:"settings-footer",children:[e.jsx("button",{className:"settings-button secondary",onClick:v,children:"Restaurar PadrÃµes"}),e.jsx("button",{className:"settings-button primary",onClick:d,children:"Salvar"})]})]})},Ze=({onNavigate:g,appName:r="Realidade Aumentada",version:l="1.0.0",description:u="Uma aplicaÃ§Ã£o inovadora de realidade aumentada desenvolvida com tecnologias modernas.",developer:t="Desenvolvedor AR"})=>{const d=()=>{g("cover")};return e.jsxs("div",{className:"about-screen",children:[e.jsxs("div",{className:"about-header",children:[e.jsx("button",{className:"about-back-button",onClick:d,children:"â† Voltar"}),e.jsx("h1",{className:"about-title",children:"Sobre"})]}),e.jsxs("div",{className:"about-content",children:[e.jsxs("div",{className:"about-app-info",children:[e.jsx("h2",{className:"app-name",children:r}),e.jsxs("p",{className:"app-version",children:["VersÃ£o ",l]}),e.jsx("p",{className:"app-description",children:u})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Desenvolvedor"}),e.jsx("p",{children:t})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Tecnologias"}),e.jsxs("ul",{className:"tech-list",children:[e.jsx("li",{children:"React 18"}),e.jsx("li",{children:"TypeScript"}),e.jsx("li",{children:"A-Frame"}),e.jsx("li",{children:"AR.js"}),e.jsx("li",{children:"Vite"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Funcionalidades"}),e.jsxs("ul",{className:"features-list",children:[e.jsx("li",{children:"RenderizaÃ§Ã£o 3D em tempo real"}),e.jsx("li",{children:"AdiÃ§Ã£o de objetos 3D"}),e.jsx("li",{children:"Captura de screenshots"}),e.jsx("li",{children:"Interface responsiva"}),e.jsx("li",{children:"Suporte a gestos"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"LicenÃ§a"}),e.jsx("p",{children:"MIT License - CÃ³digo aberto"})]})]}),e.jsx("div",{className:"about-footer",children:e.jsx("button",{className:"about-button",onClick:d,children:"Voltar ao InÃ­cio"})})]})},et=({onNavigate:g})=>{const r=()=>{g("cover")};return e.jsx("div",{className:"final-screen",children:e.jsxs("div",{className:"final-content",children:[e.jsxs("div",{className:"final-header",children:[e.jsx("div",{className:"final-icon",children:"ðŸŽ‰"}),e.jsx("h1",{className:"final-title",children:"ParabÃ©ns!"}),e.jsx("p",{className:"final-subtitle",children:"VocÃª completou a experiÃªncia de Realidade Aumentada"})]}),e.jsxs("div",{className:"final-body",children:[e.jsx("div",{className:"final-message",children:e.jsx("p",{children:"Esperamos que vocÃª tenha aproveitado essa jornada interativa!"})}),e.jsx("div",{className:"final-stats",children:e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-value",children:"âœ“"}),e.jsx("div",{className:"stat-label",children:"ExperiÃªncia Completa"})]})})]}),e.jsx("div",{className:"final-footer",children:e.jsx("button",{className:"final-button primary",onClick:r,children:"Jogar Novamente"})})]})})},Le=o.createContext(void 0),tt=()=>{const g=o.useContext(Le);if(g===void 0)throw new Error("useRA deve ser usado dentro de um RAProvider");return g},st=({children:g})=>{const[r,l]=o.useState(null),[u,t]=o.useState(!0),[d,v]=o.useState(null),i=async()=>{var h,k;try{t(!0),v(null),console.log("ðŸ”„ Carregando dados do RA...");const w=((k=(h=import.meta)==null?void 0:h.env)==null?void 0:k.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),F=`${w&&w!=="/"?w.endsWith("/")?w:w+"/":"/"}assets/data/ra.json`,j=await fetch(F);if(!j.ok)throw new Error(`Erro ao carregar dados: ${j.status}`);const P=await j.json();console.log("âœ… Dados do RA carregados:",P),l(P)}catch(w){const T=w instanceof Error?w.message:"Erro desconhecido";console.error("âŒ Erro ao carregar dados do RA:",T),v(T)}finally{t(!1)}},y=()=>{i()};o.useEffect(()=>{i()},[]);const c={raData:r,loading:u,error:d,refreshData:y};return e.jsx(Le.Provider,{value:c,children:g})},nt=()=>{const{raData:g,loading:r,error:l,refreshData:u}=tt();return r?e.jsx("div",{style:{padding:"10px",background:"rgba(0,0,0,0.8)",color:"white",borderRadius:"5px",fontSize:"12px"},children:"ðŸ”„ Carregando dados do RA..."}):l?e.jsxs("div",{style:{padding:"10px",background:"rgba(255,0,0,0.8)",color:"white",borderRadius:"5px",fontSize:"12px"},children:["âŒ Erro: ",l,e.jsx("button",{onClick:u,style:{marginLeft:"10px",padding:"2px 8px",background:"white",color:"red",border:"none",borderRadius:"3px",cursor:"pointer"},children:"ðŸ”„ Tentar novamente"})]}):g?e.jsxs("div",{style:{padding:"10px",background:"rgba(0,0,0,0.8)",color:"white",borderRadius:"5px",fontSize:"12px",fontFamily:"monospace"},children:[e.jsx("div",{children:"ðŸ“Š Dados do RA:"}),e.jsxs("div",{children:["ðŸ·ï¸ Marca: ",g.metadados.marca]}),e.jsxs("div",{children:["ðŸ”¢ CÃ³digo: ",g.metadados.codigo]}),e.jsx("button",{onClick:u,style:{marginTop:"5px",padding:"2px 8px",background:"#4CAF50",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontSize:"10px"},children:"ï¿½ï¿½ Atualizar"})]}):e.jsx("div",{style:{padding:"10px",background:"rgba(255,165,0,0.8)",color:"white",borderRadius:"5px",fontSize:"12px"},children:"âš ï¸ Nenhum dado carregado"})};const rt=({initialScreen:g="loading",appConfig:r,defaultTransition:l="zoom-out",defaultDirection:u="right"})=>{const[t,d]=o.useState(g||"loading"),[v,i]=o.useState(!1),[y,c]=o.useState(l),[h,k]=o.useState(u),[w,T]=o.useState(null);o.useEffect(()=>{console.log("ðŸŽ¬ ScreenManager inicializado com tela:",t)},[]),o.useEffect(()=>{if(!v){const n=setTimeout(()=>{t!=="loading"&&T(null)},1e3);return()=>clearTimeout(n)}},[t,v]);const F=(n,f)=>{const R=["loading","cover","tutorial","ar","final","settings","about"],A=R.indexOf(n),m=R.indexOf(f);return m>A?"right":m<A?"left":"right"},j=(n,f,R)=>{const A=f||y,m=R||F(t,n);T(t),c(A),k(m);const C=t==="loading"?800:300;i(!0),setTimeout(()=>{d(n),i(!1)},C)},P=()=>{switch(t){case"loading":return e.jsx(Ce,{onNavigate:j});case"cover":return e.jsx(Xe,{onNavigate:j,title:r.title,subtitle:r.subtitle});case"tutorial":return e.jsx(Ge,{onNavigate:j});case"ar":return e.jsx(Qe,{onNavigate:j});case"final":return e.jsx(et,{onNavigate:j});case"settings":return e.jsx(Ke,{onNavigate:j});case"about":return e.jsx(Ze,{onNavigate:j});default:return e.jsx(Ce,{onNavigate:j})}},q=()=>{const n="screen-manager",f=`transition-${y}`,R=`direction-${h}`,A=v?"transitioning":"",m=w?`from-${w}`:"";return`${n} ${f} ${R} ${A} ${m}`.trim()};return e.jsxs("div",{className:q(),children:[t!=="loading"&&e.jsx("div",{style:{position:"fixed",top:"10px",right:"10px",zIndex:1e3},children:e.jsx(nt,{})}),P()]})},at=()=>{const[g,r]=o.useState(!1),l=()=>{const u=window.innerWidth,t=window.innerHeight,d=u>t,v=navigator.userAgent.toLowerCase(),i=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(v)||"ontouchstart"in window||navigator.maxTouchPoints>0,y=u<=768;i&&d||y&&d?(r(!0),document.body.style.overflow="hidden",document.body.style.touchAction="none"):(r(!1),document.body.style.overflow="",document.body.style.touchAction="")};return o.useEffect(()=>{l();let u,t;const d=()=>{clearTimeout(u),u=setTimeout(()=>{l()},100)},v=()=>{clearTimeout(t),t=setTimeout(()=>{l()},300)},i=()=>{clearTimeout(t),t=setTimeout(()=>{l()},300)},y=k=>{clearTimeout(t),t=setTimeout(()=>{l()},100)};window.addEventListener("resize",d),window.addEventListener("orientationchange",v),window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",i);const c=window.matchMedia("(orientation: landscape)");c.addEventListener("change",y);const h=setInterval(()=>{l()},2e3);return()=>{clearTimeout(u),clearTimeout(t),clearInterval(h),window.removeEventListener("resize",d),window.removeEventListener("orientationchange",v),window.screen&&window.screen.orientation&&window.screen.orientation.removeEventListener("change",i),c.removeEventListener("change",y),document.body.style.overflow="",document.body.style.touchAction=""}},[]),g?e.jsxs("div",{className:"landscape-blocker",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:999999999,color:"white",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px",boxSizing:"border-box",pointerEvents:"auto"},children:[e.jsx("div",{style:{width:"80px",height:"80px",marginBottom:"20px",fontSize:"60px",animation:"rotate 2s ease-in-out infinite"},children:"ðŸ“±"}),e.jsx("h2",{style:{margin:"0 0 10px 0",fontSize:"24px"},children:"Gire seu dispositivo"}),e.jsx("p",{style:{margin:"0",fontSize:"16px",opacity:.9},children:"Para uma melhor experiÃªncia de Realidade Aumentada, mantenha seu dispositivo na orientaÃ§Ã£o retrato (vertical)."}),e.jsx("style",{children:`
          @keyframes rotate {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(90deg); }
          }
        `})]}):null};function ot(){const g={title:"Realidade Aumentada",subtitle:"Explore o mundo em 3D",version:"1.0.0",developer:"AR Developer"};return e.jsx(st,{children:e.jsxs("div",{className:"ar-app",children:[e.jsx(at,{}),e.jsx(rt,{initialScreen:"loading",appConfig:g})]})})}ye.createRoot(document.getElementById("root")).render(e.jsx(Be.StrictMode,{children:e.jsx(ot,{})}));
//# sourceMappingURL=index-52295735.js.map
