import{r as l,a as Ke,R as Qe}from"./vendor-b1791c80.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const v of o.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&s(v)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var ze={exports:{}},fe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze=l,et=Symbol.for("react.element"),tt=Symbol.for("react.fragment"),nt=Object.prototype.hasOwnProperty,st=Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,at={key:!0,ref:!0,__self:!0,__source:!0};function $e(r,t,n){var s,a={},o=null,v=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(v=t.ref);for(s in t)nt.call(t,s)&&!at.hasOwnProperty(s)&&(a[s]=t[s]);if(r&&r.defaultProps)for(s in t=r.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:et,type:r,key:o,ref:v,props:a,_owner:st.current}}fe.Fragment=tt;fe.jsx=$e;fe.jsxs=$e;ze.exports=fe;var e=ze.exports,Ee={},Pe=Ke;Ee.createRoot=Pe.createRoot,Ee.hydrateRoot=Pe.hydrateRoot;async function rt(){try{const r=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});let t=document.getElementById("arjs-video");return t||(t=document.createElement("video"),t.setAttribute("id","arjs-video"),t.setAttribute("playsinline",""),t.setAttribute("autoplay",""),t.muted=!0,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100vh",t.style.objectFit="cover",t.style.zIndex="0",t.style.display="none",t.style.visibility="hidden",t.style.opacity="0",document.body.appendChild(t)),t.srcObject=r,await t.play(),r}catch(r){return console.warn("Erro ao inicializar c√¢mera (ser√° tentado novamente na tela AR):",r),null}}async function it(){if(!window.faceapi)return new Promise((r,t)=>{const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",n.onload=()=>{console.log("face-api.js carregado"),r()},n.onerror=()=>t(new Error("Failed to load face-api.js")),document.head.appendChild(n)})}async function ot(){return new Promise(r=>{const t=()=>{if(typeof window<"u"&&window.AFRAME){console.log("A-Frame carregado");const n=document.createElement("a-scene");n.setAttribute("device-orientation-permission-ui","enabled: true"),n.setAttribute("vr-mode-ui","enabled: false"),n.style.position="fixed",n.style.top="-9999px",n.style.left="-9999px",n.style.width="1px",n.style.height="1px",n.style.zIndex="-1",document.body.appendChild(n),n.addEventListener("loaded",()=>{console.log("A-Frame scene carregada, modal de permiss√£o ativado"),r()});return}setTimeout(t,100)};typeof window<"u"&&window.AFRAME,t()})}const Te=({onNavigate:r,onLoadingComplete:t})=>{const[n,s]=l.useState(0),[a,o]=l.useState("Inicializando...");return l.useEffect(()=>((async()=>{const u=["/assets/images/bg-capa.png","/assets/images/header-capa.png","/assets/images/bottom-capa.png","/assets/images/btn-jogar.png","/assets/images/tutorial-panel.png","/assets/images/btn-comecar.png","/assets/images/sprites/nave.png","/assets/images/sprites/estrela.png","/assets/images/sprites/cometa.png","/assets/images/sprites/barra-progresso.png","/assets/images/sprites/contador.png","/assets/images/sprites/feedback-acerto.png","/assets/images/sprites/feedback-erro.png","/assets/images/modal-acerto.png","/assets/images/modal-erro.png","/assets/images/btn-registrar.png","/assets/images/btn-inicio.png","/assets/images/btn-voltar.png","/assets/images/Titulo.png","/assets/images/btJogar.png","/assets/images/btCreditos.png","/assets/images/SKY.jpg","/assets/images/mascara.png","/assets/data/ra.json"],p=(()=>{var c,E;const d=((E=(c=import.meta)==null?void 0:c.env)==null?void 0:E.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/");return d&&d!=="/"?d.endsWith("/")?d:d+"/":"/"})();try{o("Inicializando A-Frame..."),await ot(),await new Promise(d=>setTimeout(d,500)),o("Solicitando permiss√£o da c√¢mera..."),await rt(),o("Carregando face-api.js..."),await it(),o("Carregando imagens...");for(let d=0;d<u.length;d++){const m=u[d],c=`${p}${m.startsWith("/")?m.slice(1):m}`;if(m.endsWith(".json"))try{if(!(await fetch(c)).ok)throw new Error(`Failed to load ${m}`)}catch(S){console.warn(`Failed to load ${m}:`,S)}else await new Promise(S=>{const R=new Image;R.onload=()=>S(R),R.onerror=()=>{console.warn(`Failed to load image: ${c}`),S(null)},R.src=c});const E=Math.round((d+1)/u.length*100);s(E)}o("Finalizando..."),await new Promise(d=>setTimeout(d,300)),s(100),o("Conclu√≠do!"),await new Promise(d=>setTimeout(d,200)),t==null||t(),r("cover","fade")}catch(d){console.error("Erro ao carregar recursos:",d),o("Erro ao carregar. Continuando..."),setTimeout(()=>{r("cover")},1e3)}})(),()=>{}),[r,t]),e.jsx("div",{className:"loading-screen",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("div",{className:"loading-logo",children:e.jsx("div",{className:"loading-spinner"})}),e.jsx("h2",{className:"loading-title",children:"Carregando"}),e.jsxs("div",{className:"loading-progress-container",children:[e.jsx("div",{className:"loading-progress-bar",children:e.jsx("div",{className:"loading-progress-fill",style:{width:`${n}%`}})}),e.jsxs("p",{className:"loading-percentage",children:[n,"%"]})]}),e.jsx("p",{className:"loading-status",children:a})]})})},ct=({onNavigate:r,backgroundImage:t})=>{const s=(()=>{var m,c;const p=((c=(m=import.meta)==null?void 0:m.env)==null?void 0:c.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),d=p&&p!=="/"?p.endsWith("/")?p:p+"/":"/";return d==="/"?"":d.endsWith("/")?d.slice(0,-1):d})(),a=p=>{if(s==="")return p.startsWith("/")?p:`/${p}`;const d=p.startsWith("/")?p.slice(1):p;return`${s}/${d}`},o=t||a("assets/images/bg-capa.png"),v=a("assets/images/header-capa.png"),u=a("assets/images/bottom-capa.png"),h=a("assets/images/btn-jogar.png");return e.jsxs("div",{className:"cover-screen",style:{backgroundImage:`url("${o}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"cover-header-image",children:e.jsx("img",{src:v,alt:"Header",className:"cover-header-img"})}),e.jsx("div",{className:"cover-content",children:e.jsx("button",{className:"cover-button-jogar",onClick:()=>r("tutorial"),style:{backgroundImage:`url(${h})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})}),e.jsx("div",{className:"cover-bottom-image",children:e.jsx("img",{src:u,alt:"Bottom",className:"cover-bottom-img"})})]})},lt=({onNavigate:r})=>{const n=(()=>{var p,d;const u=((d=(p=import.meta)==null?void 0:p.env)==null?void 0:d.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),h=u&&u!=="/"?u.endsWith("/")?u:u+"/":"/";return h==="/"?"":h.endsWith("/")?h.slice(0,-1):h})(),s=u=>{if(n==="")return u.startsWith("/")?u:`/${u}`;const h=u.startsWith("/")?u.slice(1):u;return`${n}/${h}`},a=s("assets/images/bg-capa.png"),o=s("assets/images/tutorial-panel.png"),v=s("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${a}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:o,alt:"Tutorial Panel",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>r("ar"),style:{backgroundImage:`url("${v}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})},dt=({enabled:r})=>{const t=l.useRef(null),n=l.useRef(null),s=l.useRef(!1),a=l.useRef({x:0,y:0,z:0}),o=l.useRef({x:0,y:1,z:-1.2}),v=l.useRef(null),u=l.useRef(!1),h=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return l.useEffect(()=>{function p(){if(!t.current){const g=document.createElement("canvas");g.id="face-tracker-overlay",g.style.position="fixed",g.style.top="0",g.style.left="0",g.style.width="100vw",g.style.height="100vh",g.style.pointerEvents="none",g.style.zIndex="9999",document.body.appendChild(g),t.current=g}}function d(){t.current&&t.current.parentNode&&(t.current.parentNode.removeChild(t.current),t.current=null)}async function m(){window.faceapi||(await new Promise((g,b)=>{const N=document.createElement("script");N.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",N.onload=()=>g(),N.onerror=()=>b(new Error("Falha ao carregar face-api.js")),document.head.appendChild(N)}),console.log("face-api.js carregado"))}async function c(){if(s.current)return;const g=window.faceapi,b="https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights";h?await Promise.all([g.nets.tinyFaceDetector.loadFromUri(b),g.nets.faceLandmark68Net.loadFromUri(b)]):await Promise.all([g.nets.tinyFaceDetector.loadFromUri(b),g.nets.faceLandmark68Net.loadFromUri(b),g.nets.faceExpressionNet.loadFromUri(b)]),s.current=!0,console.log("Modelos de face-api carregados")}function E(){var J,B;if(u.current)return;const g=((B=(J=import.meta)==null?void 0:J.env)==null?void 0:B.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),b=I=>{if(!g||g==="/")return I.startsWith("/")?I:`/${I}`;const C=g.endsWith("/")?g:g+"/";return I.startsWith("/")?C+I.replace(/^\//,""):C+I},O=["assets/images/mascara.png","images/mascara.png","mascara.png"].map(b),x=!g||g==="/"?["/mascara.png","/assets/images/mascara.png","/images/mascara.png"]:[],T=[...O,...x];let z=0;const M=new Image,_=()=>{if(z>=T.length){console.warn("N√£o foi poss√≠vel carregar mascara.png de nenhum caminho:",T);return}const I=T[z++]+`?v=${Date.now()}`;M.src=I,console.log("BASE_URL resolvido:",g,"| Tentando m√°scara em:",I)};M.onload=()=>{u.current=!0,v.current=M,console.log("M√°scara carregada em:",M.src)},M.onerror=()=>{_()},v.current=M,_()}function S(g){const b=h?1:Math.max(1,window.devicePixelRatio||1);g.width=Math.floor(window.innerWidth*b),g.height=Math.floor(window.innerHeight*b);const N=g.getContext("2d");N&&N.setTransform(b,0,0,b,0,0)}async function R(){p(),await m(),await c(),E();const g=()=>new Promise((_,J)=>{let B=!1;const I=setTimeout(()=>{B||J(new Error("Timeout aguardando v√≠deo da c√¢mera"))},15e3),C=L=>{if(!L)return!1;const D=!!L.srcObject;return(L.readyState>=2||!L.paused&&L.currentTime>0)&&D?(B=!0,clearTimeout(I),L.removeEventListener("playing",k),U.disconnect(),_(L),!0):!1},k=L=>{const D=L.target;C(D)},U=new MutationObserver(()=>{const L=document.getElementById("arjs-video");C(L)||L&&L.addEventListener("playing",k,{once:!0})});U.observe(document.body,{childList:!0,subtree:!0});const H=document.getElementById("arjs-video");C(H)||H&&H.addEventListener("playing",k,{once:!0})});let b;try{b=await g()}catch(_){console.warn("FaceTracker: v√≠deo n√£o dispon√≠vel a tempo",_);return}const N=t.current;if(!b||!N)return;const O=window.faceapi,x=N.getContext("2d");function T(){N&&S(N)}T(),window.addEventListener("resize",T);const z=async()=>{try{if(!r)return;if(!b.videoWidth){M();return}if(h&&b.paused){const C=()=>{b.muted=!0,b.play().catch(()=>{}),window.removeEventListener("touchstart",C),window.removeEventListener("click",C)};window.addEventListener("touchstart",C,{passive:!0}),window.addEventListener("click",C)}const _=(getComputedStyle(b).transform||"").includes("matrix(-1")||(b.style.transform||"").includes("scaleX(-1)"),J=new O.TinyFaceDetectorOptions({inputSize:h?160:224,scoreThreshold:h?.35:.5});let B=window.faceapi.detectAllFaces(b,J).withFaceLandmarks();!h&&window.faceapi.nets.faceExpressionNet.isLoaded&&(B=B.withFaceExpressions());const I=await B;if(x){x.clearRect(0,0,N.width,N.height),h||(x.fillStyle="rgba(78,205,196,0.8)",x.beginPath(),x.arc(16,16,6,0,Math.PI*2),x.fill(),x.font="12px Arial",x.fillText(`faces: ${(I==null?void 0:I.length)||0}`,30,20));const C=h?1:Math.max(1,window.devicePixelRatio||1),k=N.width/C,U=N.height/C,H=k/b.videoWidth,L=U/b.videoHeight,D=(f,i=0)=>{const w=f*H;return _?k-(w+i):w},ee=f=>f*L,se=(f,i,w,A)=>{if(h)return;const j=D(f),y=ee(i);x.fillStyle=A,x.beginPath(),x.arc(j,y,4,0,Math.PI*2),x.fill(),x.fillStyle=A,x.fillText(w,j+6,y-6)};I&&I.length?I.forEach(f=>{var le;const i=f.detection.box,w=i.width*H,A=D(i.x,w),j=ee(i.y),y=w,F=i.height*L;if(h||(x.strokeStyle="#4ECDC4",x.lineWidth=3,x.strokeRect(A,j,y,F)),!h&&f.expressions){const W=f.expressions||{},de=Object.entries(W);if(de.length){const[ge,ue]=de.reduce((Y,X)=>Y[1]>X[1]?Y:X),ae=`${ge} ${(ue*100).toFixed(0)}%`;x.font="12px Arial";const K=x.measureText(ae).width+12;x.fillStyle="rgba(0,0,0,0.6)",x.fillRect(A,Math.max(0,j-22),K,20),x.fillStyle="#FFFFFF",x.fillText(ae,A+6,Math.max(12,j-8))}}const $=((le=f.landmarks)==null?void 0:le.positions)||[];if($.length===68){const W=$[30],de=[36,37,38,39,40,41],ge=[42,43,44,45,46,47],ue=V=>V.reduce((q,ce)=>q+ce,0)/V.length,ae=V=>({x:ue(V.map(q=>$[q].x)),y:ue(V.map(q=>$[q].y))}),K=ae(de),Y=ae(ge);h||(se(W.x,W.y,"nose","#00E5A8"),se(K.x,K.y,"eye-L","#EF476F"),se(Y.x,Y.y,"eye-R","#EF476F"));const X={x:(K.x+Y.x)/2,y:(K.y+Y.y)/2},Se={x:D(X.x),y:ee(X.y)},ke=Y.x-K.x,Ae=Y.y-K.y;let re=Math.atan2(Ae,ke)*180/Math.PI;const Fe=Math.hypot(ke,Ae)||1;let ie=(W.x-X.x)/Fe*60,he=-(W.y-X.y)/Fe*50;_&&(ie=-ie,re=-re);const pe=(V,q,ce)=>Math.max(q,Math.min(ce,V));ie=pe(ie,-60,60),he=pe(he,-50,50),re=pe(re,-45,45);const qe=D(X.x),He=ee(X.y)+F*.1,Ye=qe/k,Xe=He/U;window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:Ye,y:Xe,detected:!0}}));const ve=.25,te=a.current,Q={x:te.x+(he-te.x)*ve,y:te.y+(ie-te.y)*ve,z:te.z+(re-te.z)*ve};a.current=Q;const xe=document.getElementById("camera"),oe=document.getElementById("head-cube");if(xe&&oe){const V=xe.getObject3D&&xe.getObject3D("camera");if(V&&window.THREE){const q=window.THREE,ce=Se.x/k*2-1,Ge=-(Se.y/U*2-1),Je=1.2,be=new q.Vector3,Ie=new q.Vector3,Le=new q.Vector3(ce,Ge,.5);Le.unproject(V),be.copy(V.position),Ie.copy(Le).sub(be).normalize();const ye=be.clone().add(Ie.multiplyScalar(Je)),we=.35,ne=o.current,me={x:ne.x+(ye.x-ne.x)*we,y:ne.y+(ye.y-ne.y)*we,z:ne.z+(ye.z-ne.z)*we};o.current=me,oe.setAttribute("position",`${me.x.toFixed(3)} ${me.y.toFixed(3)} ${me.z.toFixed(3)}`),oe.setAttribute("rotation",`${Q.x.toFixed(2)} ${Q.y.toFixed(2)} ${Q.z.toFixed(2)}`)}else oe.setAttribute&&oe.setAttribute("rotation",`${Q.x.toFixed(2)} ${Q.y.toFixed(2)} ${Q.z.toFixed(2)}`)}}}):(window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:.5,y:.5,detected:!1}})),h||(x.strokeStyle="rgba(255,107,107,0.8)",x.lineWidth=2,x.strokeRect(10,10,100,60)))}}catch(_){console.error("FaceTracker detect error:",_)}M()},M=()=>{h?setTimeout(()=>{n.current=requestAnimationFrame(z)},80):n.current=requestAnimationFrame(z)};return n.current=requestAnimationFrame(z),()=>{window.removeEventListener("resize",T)}}let P;if(r)R().then(g=>{P=g}).catch(g=>{console.error("FaceTracker start error:",g)});else if(n.current&&(cancelAnimationFrame(n.current),n.current=null),t.current){const g=t.current.getContext("2d");g&&g.clearRect(0,0,t.current.width,t.current.height)}return()=>{n.current&&(cancelAnimationFrame(n.current),n.current=null),P&&P(),d()}},[r]),null};var Z={},G;Object.defineProperty(Z,"__esModule",{value:!0});var Me=Z.Scene=G=Z.Entity=Z.options=void 0,ut=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},mt=function(){function r(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&r(t.prototype,n),s&&r(t,s),t}}(),ft=l,Ce=gt(ft);function gt(r){return r&&r.__esModule?r:{default:r}}function _e(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(r,t){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:r}function Be(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(r,t):r.__proto__=t)}var ht=["children","events","primitive"],Ue=function(t){return ht.indexOf(t)===-1},De={runSetAttributeOnUpdates:!0};Z.options=De;function pt(r,t,n){if(n==="className")r.setAttribute("class",t.className);else{if(t[n]&&t[n].constructor===Function)return;r.setAttribute(n,t[n])}}function Oe(r,t,n){var s;if(!(!n||t===n)){for(s in n)Ue(s)&&pt(r,n,s);if(t)for(s in t)Ue(s)&&n[s]===void 0&&r.removeAttribute(s)}}var vt=G=Z.Entity=function(r){Be(t,r);function t(){var n,s,a,o;_e(this,t);for(var v=arguments.length,u=Array(v),h=0;h<v;h++)u[h]=arguments[h];return o=(s=(a=Re(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(u))),a),a.initEntity=function(p){var d=a.props,m;if(p){if(a.el=p,d.events)for(m in d.events)We(p,m,d.events[m]);Oe(p,null,d),d._ref&&d._ref(p)}},s),Re(a,o)}return mt(t,[{key:"componentDidUpdate",value:function(s,a){var o=this.el,v=this.props;xt(o,s.events,v.events),De.runSetAttributeOnUpdates&&Oe(o,s,v)}},{key:"componentWillUnmount",value:function(){var s=this.el,a=this.props,o;if(a.events)for(o in a.events)Ne(s,o,a.events[o])}},{key:"render",value:function(){var s=this.props,a=this.isScene?"a-scene":s.primitive||"a-entity",o,v={};for(o in s)(["className","id","mixin"].indexOf(o)!==-1||o.indexOf("data-")===0)&&(v[o]=s[o]);return Ce.default.createElement(a,ut({ref:this.initEntity},v),s.children)}}]),t}(Ce.default.Component);Me=Z.Scene=function(r){Be(t,r);function t(n){_e(this,t);var s=Re(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return s.isScene=!0,s}return t}(vt);function xt(r,t,n){var s;if(!(!t||!n||t===n)){for(s in n)t[s]!==n[s]&&(t[s]&&Ne(r,s,t[s]),We(r,s,n[s]));for(s in t)n[s]||Ne(r,s,t[s])}}function We(r,t,n){var s;if(n)for(n.constructor===Function&&(n=[n]),s=0;s<n.length;s++)r.addEventListener(t,n[s])}function Ne(r,t,n){var s;if(n)for(n.constructor===Function&&(n=[n]),s=0;s<n.length;s++)r.removeEventListener(t,n[s])}const Ve=l.forwardRef(({className:r="",onSceneReady:t,cameraFacing:n="environment"},s)=>{const a=l.useRef(null),[o,v]=l.useState([]),[u,h]=l.useState(!1);l.useEffect(()=>{const d=()=>{typeof window<"u"&&window.AFRAME?(h(!0),t&&t(),requestAnimationFrame(()=>{const m=document.querySelector(".a-enter-vr-button");m&&(m.style.display="none",m.style.visibility="hidden",m.style.pointerEvents="none"),typeof DeviceOrientationEvent<"u"&&(DeviceOrientationEvent.requestPermission?console.log("DeviceOrientationEvent requer permiss√£o (j√° solicitada na tela de loading)"):console.log("DeviceOrientationEvent dispon√≠vel (n√£o requer permiss√£o)"))})):setTimeout(d,100)};d()},[t]),l.useImperativeHandle(s,()=>({addEntity:d=>{const m=`entity-${Date.now()}`;return v(c=>[...c,{id:m,data:d}]),m},removeEntity:d=>{v(m=>m.filter(c=>c.id!==d))},getScene:()=>typeof window<"u"&&window.AFRAME&&document.querySelector("a-scene")||a.current,captureScreenshot:()=>{if(typeof window<"u"&&window.AFRAME){const d=document.querySelector("a-scene");if(d){const m=d.renderer;if(m&&m.domElement)return m.domElement.toDataURL("image/png")}}return""},setCameraFacing:d=>{console.log("Camera facing changed to:",d)}}),[]);const p={embedded:!0,"vr-mode-ui":"enabled: false","device-orientation-permission-ui":"enabled: true",renderer:"alpha: true; antialias: true; colorManagement: true; physicallyCorrectLights: false; sortObjects: true; logarithmicDepthBuffer: false; precision: mediump;",webxr:"enabled: false",background:"transparent: true",stats:"false"};return e.jsxs("div",{className:`ar-scene-aframe ${r}`,style:{width:"100%",height:"100%",position:"relative",zIndex:1},children:[u&&e.jsxs(Me,{...p,children:[e.jsx(G,{primitive:"a-assets",children:e.jsx("img",{id:"skyTexture",src:"/assets/images/SKY.jpg",crossOrigin:"anonymous"})}),e.jsx(G,{primitive:"a-sky",rotation:"0 -90 0",material:{src:"#skyTexture",opacity:.5,transparent:!0}}),e.jsx(G,{id:"camera",camera:{active:!0},lookControls:{enabled:!0,reverseMouseDrag:!1,touchEnabled:!0,magicWindowTrackingEnabled:!0,pointerLockEnabled:!1,touchSensitivity:1,mouseSensitivity:1},wasdControls:{enabled:!1},"device-orientation-permission-ui":{enabled:!0},position:"0 1.6 0"}),e.jsx(G,{light:{type:"ambient",color:"#888"}}),e.jsx(G,{light:{type:"directional",color:"#fff",intensity:.6},position:"1 1 1"}),o.map(d=>e.jsx(G,{...d.data},d.id)),e.jsx(G,{id:"head-cube",geometry:{primitive:"box",width:.3,height:.3,depth:.3},material:{color:"#FF6B6B",opacity:.9,transparent:!0},position:"0 1 -1.2",rotation:"0 0 0"}),!1]}),!u&&e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#fff"},children:"Carregando A-Frame..."})]})});Ve.displayName="ARSceneAFrame";const bt=({onNavigate:r})=>{const t=l.useRef(null),n=l.useRef(null),[s,a]=l.useState(0),[o,v]=l.useState(60),[u,h]=l.useState(!1),[p,d]=l.useState(!1),[m,c]=l.useState(0),[E,S]=l.useState(null),[R,P]=l.useState(!0),[g,b]=l.useState(null),[N,O]=l.useState(!1),[x,T]=l.useState(null),z=l.useRef([]),M=l.useRef({x:.5,y:.5}),_=l.useRef(!1),J=l.useRef(null),B=l.useRef(null);l.useEffect(()=>{async function f(){try{let i=document.getElementById("arjs-video");if(i&&i.srcObject){i.classList.add("ar-video-visible"),await new Promise(j=>{const y=()=>{document.getElementById("face-tracker-overlay")||i.readyState>=2?j():setTimeout(y,100)};y()}),P(!1);return}const w=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});i||(i=document.createElement("video"),i.setAttribute("id","arjs-video"),i.setAttribute("playsinline",""),i.setAttribute("autoplay",""),i.muted=!0,i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100vw",i.style.height="100vh",i.style.objectFit="cover",i.style.zIndex="0",i.classList.add("ar-video-visible"),document.body.appendChild(i)),i.srcObject&&i.srcObject.getTracks().forEach(y=>y.stop()),i.srcObject=w,B.current=w,J.current=i,await(async()=>{try{i.readyState>=2?await i.play():await new Promise((j,y)=>{const F=()=>{i.removeEventListener("loadedmetadata",F),i.removeEventListener("error",$),i.play().then(j).catch(y)},$=()=>{i.removeEventListener("loadedmetadata",F),i.removeEventListener("error",$),y(new Error("Video load error"))};i.addEventListener("loadedmetadata",F,{once:!0}),i.addEventListener("error",$,{once:!0}),i.readyState>=1&&i.play().then(j).catch(y)})}catch(j){if(i.paused===!1)return;console.warn("Erro ao dar play no v√≠deo:",j)}})(),await new Promise(j=>{const y=()=>{document.getElementById("face-tracker-overlay")||i.readyState>=2?j():setTimeout(y,100)};y()}),P(!1)}catch(i){console.error("Erro ao inicializar c√¢mera:",i),P(!1)}}return f(),()=>{}},[]),l.useEffect(()=>{!R&&!u&&g===null&&b(3)},[R,u,g]),l.useEffect(()=>{if(g===null||g<=0){g===0&&setTimeout(()=>{b(null),h(!0)},500);return}const f=setTimeout(()=>{b(g-1)},1e3);return()=>clearTimeout(f)},[g]);const C=(()=>{var w,A;const f=((A=(w=import.meta)==null?void 0:w.env)==null?void 0:A.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),i=f&&f!=="/"?f.endsWith("/")?f:f+"/":"/";return i==="/"?"":i.endsWith("/")?i.slice(0,-1):i})(),k=f=>{if(C==="")return f.startsWith("/")?f:`/${f}`;const i=f.startsWith("/")?f.slice(1):f;return`${C}/${i}`},U={nave:k("assets/images/sprites/nave.png"),estrela:k("assets/images/sprites/estrela.png"),cometa:k("assets/images/sprites/cometa.png"),barraProgresso:k("assets/images/sprites/barra-progresso.png"),contador:k("assets/images/sprites/contador.png"),feedbackAcerto:k("assets/images/sprites/feedback-acerto.png"),feedbackErro:k("assets/images/sprites/feedback-erro.png"),modalAcerto:k("assets/images/modal-acerto.png"),modalErro:k("assets/images/modal-erro.png"),btnRegistrar:k("assets/images/btn-registrar.png"),btnInicio:k("assets/images/btn-inicio.png"),btnVoltar:k("assets/images/btn-voltar.png")},H=l.useRef({});l.useEffect(()=>{(async()=>{const i=Object.entries(U).map(([w,A])=>new Promise(j=>{const y=new Image;y.onload=()=>{H.current[w]=y,j()},y.onerror=()=>{console.warn(`Failed to load image: ${A}`),j()},y.src=A}));await Promise.all(i)})()},[]),l.useEffect(()=>{if(!u||p)return;const f=setInterval(()=>{v(i=>i<=1?(d(!0),0):i-1)},1e3);return()=>clearInterval(f)},[u,p]),l.useEffect(()=>{const f=i=>{const{x:w,y:A,detected:j}=i.detail;_.current=j,j&&(M.current={x:w,y:A})};return window.addEventListener("nave-position",f),()=>{window.removeEventListener("nave-position",f)}},[]);const L=l.useCallback(()=>{const f=Math.random()>.5?"star":"comet",i={id:Math.random().toString(36).substr(2,9),type:f,x:Math.random()*.8+.1,y:-.1,speed:.0035+Math.random()*.003};z.current.push(i)},[]);l.useEffect(()=>{if(!u||p)return;const f=setInterval(()=>{L()},1e3);return()=>clearInterval(f)},[u,p,L]);const D=l.useCallback(()=>{const f=M.current,i=.08;z.current=z.current.filter(w=>{const A=w.x-f.x,j=w.y-f.y;return Math.sqrt(A*A+j*j)<i+.03?(w.type==="star"?(a(F=>F+10),c(F=>Math.min(100,F+5)),S("acerto"),setTimeout(()=>S(null),500)):(a(F=>Math.max(0,F-5)),c(F=>Math.max(0,F-5)),S("erro"),setTimeout(()=>S(null),500)),!1):!(w.y>1.1)})},[]);l.useEffect(()=>{if(!u||p)return;const f=t.current;if(!f)return;const i=f.getContext("2d");if(!i)return;const w=()=>{f.width=window.innerWidth,f.height=window.innerHeight};w(),window.addEventListener("resize",w);const A=()=>{i.clearRect(0,0,f.width,f.height),z.current.forEach(y=>{y.y+=y.speed});const j=H.current.nave;if(j){const y=M.current.x*f.width,F=M.current.y*f.height,$=f.width*.25;i.drawImage(j,y-$/2,F-$/2,$,$)}z.current.forEach(y=>{const F=H.current[y.type==="star"?"estrela":"cometa"];if(F){const $=y.x*f.width,le=y.y*f.height,W=f.width*.12;i.drawImage(F,$-W/2,le-W/2,W,W)}}),D(),n.current=requestAnimationFrame(A)};return A(),()=>{window.removeEventListener("resize",w),n.current&&cancelAnimationFrame(n.current)}},[u,p,D]),l.useEffect(()=>{if(p&&o===0&&!N){const f=m>=50;T(f?"acerto":"erro"),setTimeout(()=>{O(!0)},1e3)}},[p,o,m,N]);const ee=()=>{O(!1),T(null),a(0),v(60),c(0),S(null),d(!1),h(!1),z.current=[],b(3)},se=f=>{const i=Math.floor(f/60),w=f%60;return`${i}:${w.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"ar-game-screen",children:[R&&e.jsx("div",{className:"ar-loading-overlay",children:e.jsxs("div",{className:"ar-loading-content",children:[e.jsx("div",{className:"ar-loading-spinner"}),e.jsx("p",{className:"ar-loading-text",children:"Preparando AR..."})]})}),g!==null&&e.jsx("div",{className:"ar-countdown-overlay",children:e.jsx("div",{className:"ar-countdown-content",children:g>0?e.jsx("div",{className:"ar-countdown-number",children:g}):e.jsx("div",{className:"ar-countdown-go",children:"Vai!"})})}),e.jsx(Ve,{cameraFacing:"user"}),e.jsx("canvas",{ref:t,className:"ar-game-canvas"}),e.jsx(dt,{enabled:!0}),e.jsxs("div",{className:"ar-timer-container",children:[e.jsx("img",{src:U.contador,alt:"Timer",className:"ar-timer-bg"}),e.jsx("div",{className:"ar-timer-text",children:se(o)})]}),e.jsxs("div",{className:"ar-progress-container",children:[e.jsx("img",{src:U.barraProgresso,alt:"Progress Bar",className:"ar-progress-bg"}),e.jsx("div",{className:"ar-progress-fill",style:{width:`${m}%`}})]}),E&&e.jsx("div",{className:`ar-feedback ar-feedback-${E}`,children:e.jsx("img",{src:E==="acerto"?U.feedbackAcerto:U.feedbackErro,alt:E,className:"ar-feedback-image"})}),e.jsxs("div",{className:"ar-score",children:["Pontos: ",s]}),N&&x&&e.jsx("div",{className:"ar-result-modal-overlay",children:e.jsxs("div",{className:"ar-result-modal-content",children:[e.jsx("img",{src:x==="acerto"?U.modalAcerto:U.modalErro,alt:x==="acerto"?"Acerto":"Erro",className:"ar-result-modal-image"}),x==="acerto"&&e.jsxs("div",{className:"ar-result-modal-buttons",children:[e.jsx("button",{className:"ar-result-button ar-result-button-registrar",onClick:()=>{O(!1),r("selfie")},style:{backgroundImage:`url(${U.btnRegistrar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"ar-result-button ar-result-button-inicio",onClick:()=>{O(!1),r("cover")},style:{backgroundImage:`url(${U.btnInicio})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}),x==="erro"&&e.jsx("div",{className:"ar-result-modal-buttons",children:e.jsx("button",{className:"ar-result-button ar-result-button-voltar",onClick:()=>{ee()},style:{backgroundImage:`url(${U.btnVoltar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})})]})},je={quality:"high",enableSound:!0,enableVibration:!0,autoSave:!0,language:"pt-BR"},yt=({onNavigate:r,onSettingsChange:t})=>{const[n,s]=l.useState(je),a=(u,h)=>{const p={...n,[u]:h};s(p),t==null||t(p)},o=()=>{r("ar")},v=()=>{s(je),t==null||t(je)};return e.jsxs("div",{className:"settings-screen",children:[e.jsxs("div",{className:"settings-header",children:[e.jsx("button",{className:"settings-back-button",onClick:o,children:"‚Üê Voltar"}),e.jsx("h1",{className:"settings-title",children:"Configura√ß√µes"})]}),e.jsxs("div",{className:"settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Qualidade"}),e.jsxs("select",{value:n.quality,onChange:u=>a("quality",u.target.value),className:"settings-select",children:[e.jsx("option",{value:"low",children:"Baixa"}),e.jsx("option",{value:"medium",children:"M√©dia"}),e.jsx("option",{value:"high",children:"Alta"})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Som"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:u=>a("enableSound",u.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar som"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Vibra√ß√£o"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableVibration,onChange:u=>a("enableVibration",u.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar vibra√ß√£o"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Salvamento"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.autoSave,onChange:u=>a("autoSave",u.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Salvar automaticamente"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Idioma"}),e.jsxs("select",{value:n.language,onChange:u=>a("language",u.target.value),className:"settings-select",children:[e.jsx("option",{value:"pt-BR",children:"Portugu√™s"}),e.jsx("option",{value:"en-US",children:"English"}),e.jsx("option",{value:"es-ES",children:"Espa√±ol"})]})]})]}),e.jsxs("div",{className:"settings-footer",children:[e.jsx("button",{className:"settings-button secondary",onClick:v,children:"Restaurar Padr√µes"}),e.jsx("button",{className:"settings-button primary",onClick:o,children:"Salvar"})]})]})},wt=({onNavigate:r,appName:t="Realidade Aumentada",version:n="1.0.0",description:s="Uma aplica√ß√£o inovadora de realidade aumentada desenvolvida com tecnologias modernas.",developer:a="Desenvolvedor AR"})=>{const o=()=>{r("cover")};return e.jsxs("div",{className:"about-screen",children:[e.jsxs("div",{className:"about-header",children:[e.jsx("button",{className:"about-back-button",onClick:o,children:"‚Üê Voltar"}),e.jsx("h1",{className:"about-title",children:"Sobre"})]}),e.jsxs("div",{className:"about-content",children:[e.jsxs("div",{className:"about-app-info",children:[e.jsx("h2",{className:"app-name",children:t}),e.jsxs("p",{className:"app-version",children:["Vers√£o ",n]}),e.jsx("p",{className:"app-description",children:s})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Desenvolvedor"}),e.jsx("p",{children:a})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Tecnologias"}),e.jsxs("ul",{className:"tech-list",children:[e.jsx("li",{children:"React 18"}),e.jsx("li",{children:"TypeScript"}),e.jsx("li",{children:"A-Frame"}),e.jsx("li",{children:"AR.js"}),e.jsx("li",{children:"Vite"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Funcionalidades"}),e.jsxs("ul",{className:"features-list",children:[e.jsx("li",{children:"Renderiza√ß√£o 3D em tempo real"}),e.jsx("li",{children:"Adi√ß√£o de objetos 3D"}),e.jsx("li",{children:"Captura de screenshots"}),e.jsx("li",{children:"Interface responsiva"}),e.jsx("li",{children:"Suporte a gestos"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Licen√ßa"}),e.jsx("p",{children:"MIT License - C√≥digo aberto"})]})]}),e.jsx("div",{className:"about-footer",children:e.jsx("button",{className:"about-button",onClick:o,children:"Voltar ao In√≠cio"})})]})},jt=({onNavigate:r})=>{const t=()=>{r("cover")};return e.jsx("div",{className:"final-screen",children:e.jsxs("div",{className:"final-content",children:[e.jsxs("div",{className:"final-header",children:[e.jsx("div",{className:"final-icon",children:"üéâ"}),e.jsx("h1",{className:"final-title",children:"Parab√©ns!"}),e.jsx("p",{className:"final-subtitle",children:"Voc√™ completou a experi√™ncia de Realidade Aumentada"})]}),e.jsxs("div",{className:"final-body",children:[e.jsx("div",{className:"final-message",children:e.jsx("p",{children:"Esperamos que voc√™ tenha aproveitado essa jornada interativa!"})}),e.jsx("div",{className:"final-stats",children:e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-value",children:"‚úì"}),e.jsx("div",{className:"stat-label",children:"Experi√™ncia Completa"})]})})]}),e.jsx("div",{className:"final-footer",children:e.jsx("button",{className:"final-button primary",onClick:t,children:"Jogar Novamente"})})]})})},Et=()=>{const r=l.useRef(null),t=l.useRef(null),[n,s]=l.useState(!1),o=(()=>{var E,S;const m=((S=(E=import.meta)==null?void 0:E.env)==null?void 0:S.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),c=m&&m!=="/"?m.endsWith("/")?m:m+"/":"/";return c==="/"?"":c.endsWith("/")?c.slice(0,-1):c})(),v=m=>{if(o==="")return m.startsWith("/")?m:`/${m}`;const c=m.startsWith("/")?m.slice(1):m;return`${o}/${c}`},u=v("assets/images/selfie-top.png"),h=v("assets/images/selfie-bottom.png"),p=v("assets/images/camera-icon.png");l.useEffect(()=>{async function m(){try{let c=document.getElementById("selfie-video");if(c&&c.srcObject){c.classList.add("selfie-video-visible"),r.current=c;return}const E=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});c||(c=document.createElement("video"),c.setAttribute("id","selfie-video"),c.setAttribute("playsinline",""),c.setAttribute("autoplay",""),c.muted=!0,c.style.position="fixed",c.style.top="0",c.style.left="0",c.style.width="100vw",c.style.height="100vh",c.style.objectFit="cover",c.style.zIndex="0",c.classList.add("selfie-video-visible"),document.body.appendChild(c)),c.srcObject=E,t.current=E,r.current=c,await c.play()}catch(c){console.error("Erro ao inicializar c√¢mera:",c)}}return m(),()=>{}},[]);const d=()=>{if(!r.current||n)return;s(!0);const m=r.current,c=document.createElement("canvas");c.width=m.videoWidth||m.clientWidth,c.height=m.videoHeight||m.clientHeight;const E=c.getContext("2d");E?(E.drawImage(m,0,0,c.width,c.height),c.toBlob(S=>{if(S){const R=URL.createObjectURL(S),P=document.createElement("a");P.href=R,P.download=`selfie-${Date.now()}.png`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(R)}s(!1)},"image/png")):s(!1)};return e.jsxs("div",{className:"selfie-screen",children:[e.jsx("div",{className:"selfie-top-overlay",children:e.jsx("img",{src:u,alt:"Top",className:"selfie-top-img"})}),e.jsx("div",{className:"selfie-bottom-overlay",children:e.jsx("img",{src:h,alt:"Bottom",className:"selfie-bottom-img"})}),e.jsx("button",{className:"selfie-camera-button",onClick:d,disabled:n,style:{backgroundImage:`url(${p})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})};const Rt=({initialScreen:r="loading",appConfig:t,defaultTransition:n="zoom-out",defaultDirection:s="right"})=>{const[a,o]=l.useState(r||"loading"),[v,u]=l.useState(!1),[h,p]=l.useState(n),[d,m]=l.useState(s),[c,E]=l.useState(null);l.useEffect(()=>{console.log("üé¨ ScreenManager inicializado com tela:",a)},[]),l.useEffect(()=>{if(!v){const b=setTimeout(()=>{a!=="loading"&&E(null)},1e3);return()=>clearTimeout(b)}},[a,v]);const S=(b,N)=>{const O=["loading","cover","tutorial","ar","final","settings","about","selfie"],x=O.indexOf(b),T=O.indexOf(N);return T>x?"right":T<x?"left":"right"},R=(b,N,O)=>{const x=N||h,T=O||S(a,b);E(a),p(x),m(T);const z=a==="loading"?800:300;u(!0),setTimeout(()=>{o(b),u(!1)},z)},P=()=>{switch(a){case"loading":return e.jsx(Te,{onNavigate:R});case"cover":return e.jsx(ct,{onNavigate:R,title:t.title,subtitle:t.subtitle});case"tutorial":return e.jsx(lt,{onNavigate:R});case"ar":return e.jsx(bt,{onNavigate:R});case"final":return e.jsx(jt,{onNavigate:R});case"settings":return e.jsx(yt,{onNavigate:R});case"about":return e.jsx(wt,{onNavigate:R});case"selfie":return e.jsx(Et,{onNavigate:R});default:return e.jsx(Te,{onNavigate:R})}},g=()=>{const b="screen-manager",N=`transition-${h}`,O=`direction-${d}`,x=v?"transitioning":"",T=c?`from-${c}`:"";return`${b} ${N} ${O} ${x} ${T}`.trim()};return e.jsx("div",{className:g(),children:P()})},Nt=l.createContext(void 0),St=({children:r})=>{const[t,n]=l.useState(null),[s,a]=l.useState(!0),[o,v]=l.useState(null),u=async()=>{var d,m;try{a(!0),v(null),console.log("üîÑ Carregando dados do RA...");const c=((m=(d=import.meta)==null?void 0:d.env)==null?void 0:m.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),S=`${c&&c!=="/"?c.endsWith("/")?c:c+"/":"/"}assets/data/ra.json`,R=await fetch(S);if(!R.ok)throw new Error(`Erro ao carregar dados: ${R.status}`);const P=await R.json();console.log("‚úÖ Dados do RA carregados:",P),n(P)}catch(c){const E=c instanceof Error?c.message:"Erro desconhecido";console.error("‚ùå Erro ao carregar dados do RA:",E),v(E)}finally{a(!1)}},h=()=>{u()};l.useEffect(()=>{u()},[]);const p={raData:t,loading:s,error:o,refreshData:h};return e.jsx(Nt.Provider,{value:p,children:r})},kt=()=>{const[r,t]=l.useState(!1),n=()=>{const s=window.innerWidth,a=window.innerHeight,o=s>a,v=navigator.userAgent.toLowerCase(),u=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(v)||"ontouchstart"in window||navigator.maxTouchPoints>0,h=s<=768;u&&o||h&&o?(t(!0),document.body.style.overflow="hidden",document.body.style.touchAction="none"):(t(!1),document.body.style.overflow="",document.body.style.touchAction="")};return l.useEffect(()=>{n();let s,a;const o=()=>{clearTimeout(s),s=setTimeout(()=>{n()},100)},v=()=>{clearTimeout(a),a=setTimeout(()=>{n()},300)},u=()=>{clearTimeout(a),a=setTimeout(()=>{n()},300)},h=m=>{clearTimeout(a),a=setTimeout(()=>{n()},100)};window.addEventListener("resize",o),window.addEventListener("orientationchange",v),window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",u);const p=window.matchMedia("(orientation: landscape)");p.addEventListener("change",h);const d=setInterval(()=>{n()},2e3);return()=>{clearTimeout(s),clearTimeout(a),clearInterval(d),window.removeEventListener("resize",o),window.removeEventListener("orientationchange",v),window.screen&&window.screen.orientation&&window.screen.orientation.removeEventListener("change",u),p.removeEventListener("change",h),document.body.style.overflow="",document.body.style.touchAction=""}},[]),r?e.jsxs("div",{className:"landscape-blocker",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:999999999,color:"white",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px",boxSizing:"border-box",pointerEvents:"auto"},children:[e.jsx("div",{style:{width:"80px",height:"80px",marginBottom:"20px",fontSize:"60px",animation:"rotate 2s ease-in-out infinite"},children:"üì±"}),e.jsx("h2",{style:{margin:"0 0 10px 0",fontSize:"24px"},children:"Gire seu dispositivo"}),e.jsx("p",{style:{margin:"0",fontSize:"16px",opacity:.9},children:"Para uma melhor experi√™ncia de Realidade Aumentada, mantenha seu dispositivo na orienta√ß√£o retrato (vertical)."}),e.jsx("style",{children:`
          @keyframes rotate {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(90deg); }
          }
        `})]}):null};function At(){const r={title:"Realidade Aumentada",subtitle:"Explore o mundo em 3D",version:"1.0.0",developer:"AR Developer"};return e.jsx(St,{children:e.jsxs("div",{className:"ar-app",children:[e.jsx(kt,{}),e.jsx(Rt,{initialScreen:"loading",appConfig:r})]})})}Ee.createRoot(document.getElementById("root")).render(e.jsx(Qe.StrictMode,{children:e.jsx(At,{})}));
//# sourceMappingURL=index-3f50e898.js.map
