import{r as c,a as Ke,R as Qe}from"./vendor-b1791c80.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const v of l.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&s(v)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var ze={exports:{}},fe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze=c,et=Symbol.for("react.element"),tt=Symbol.for("react.fragment"),nt=Object.prototype.hasOwnProperty,st=Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,at={key:!0,ref:!0,__self:!0,__source:!0};function $e(r,t,n){var s,a={},l=null,v=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(v=t.ref);for(s in t)nt.call(t,s)&&!at.hasOwnProperty(s)&&(a[s]=t[s]);if(r&&r.defaultProps)for(s in t=r.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:et,type:r,key:l,ref:v,props:a,_owner:st.current}}fe.Fragment=tt;fe.jsx=$e;fe.jsxs=$e;ze.exports=fe;var e=ze.exports,Ee={},Pe=Ke;Ee.createRoot=Pe.createRoot,Ee.hydrateRoot=Pe.hydrateRoot;async function rt(){try{const r=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});let t=document.getElementById("arjs-video");return t||(t=document.createElement("video"),t.setAttribute("id","arjs-video"),t.setAttribute("playsinline",""),t.setAttribute("autoplay",""),t.muted=!0,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100vh",t.style.objectFit="cover",t.style.zIndex="0",t.style.display="none",t.style.visibility="hidden",t.style.opacity="0",document.body.appendChild(t)),t.srcObject=r,await t.play(),r}catch(r){return console.warn("Erro ao inicializar cÃ¢mera (serÃ¡ tentado novamente na tela AR):",r),null}}async function it(){if(!window.faceapi)return new Promise((r,t)=>{const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",n.onload=()=>{console.log("face-api.js carregado"),r()},n.onerror=()=>t(new Error("Failed to load face-api.js")),document.head.appendChild(n)})}const Te=({onNavigate:r,onLoadingComplete:t})=>{const[n,s]=c.useState(0),[a,l]=c.useState("Inicializando...");return c.useEffect(()=>{(async()=>{const u=["/assets/images/bg-capa.png","/assets/images/header-capa.png","/assets/images/bottom-capa.png","/assets/images/btn-jogar.png","/assets/images/tutorial-panel.png","/assets/images/btn-comecar.png","/assets/images/sprites/nave.png","/assets/images/sprites/estrela.png","/assets/images/sprites/cometa.png","/assets/images/sprites/barra-progresso.png","/assets/images/sprites/contador.png","/assets/images/sprites/feedback-acerto.png","/assets/images/sprites/feedback-erro.png","/assets/images/modal-acerto.png","/assets/images/modal-erro.png","/assets/images/btn-registrar.png","/assets/images/btn-inicio.png","/assets/images/btn-voltar.png","/assets/images/Titulo.png","/assets/images/btJogar.png","/assets/images/btCreditos.png","/assets/images/SKY.png","/assets/images/mascara.png","/assets/data/ra.json"],f=(()=>{var d,E;const g=((E=(d=import.meta)==null?void 0:d.env)==null?void 0:E.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/");return g&&g!=="/"?g.endsWith("/")?g:g+"/":"/"})();try{l("Solicitando permissÃ£o da cÃ¢mera..."),await rt(),l("Carregando face-api.js..."),await it(),l("Carregando imagens...");for(let g=0;g<u.length;g++){const h=u[g],d=`${f}${h.startsWith("/")?h.slice(1):h}`;if(h.endsWith(".json"))try{if(!(await fetch(d)).ok)throw new Error(`Failed to load ${h}`)}catch(y){console.warn(`Failed to load ${h}:`,y)}else await new Promise(y=>{const w=new Image;w.onload=()=>y(w),w.onerror=()=>{console.warn(`Failed to load image: ${d}`),y(null)},w.src=d});const E=Math.round((g+1)/u.length*100);s(E)}l("Finalizando..."),await new Promise(g=>setTimeout(g,300)),s(100),l("ConcluÃ­do!"),await new Promise(g=>setTimeout(g,200)),t==null||t(),r("cover","fade")}catch(g){console.error("Erro ao carregar recursos:",g),l("Erro ao carregar. Continuando..."),setTimeout(()=>{r("cover")},1e3)}})()},[r,t]),e.jsx("div",{className:"loading-screen",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("div",{className:"loading-logo",children:e.jsx("div",{className:"loading-spinner"})}),e.jsx("h2",{className:"loading-title",children:"Carregando"}),e.jsxs("div",{className:"loading-progress-container",children:[e.jsx("div",{className:"loading-progress-bar",children:e.jsx("div",{className:"loading-progress-fill",style:{width:`${n}%`}})}),e.jsxs("p",{className:"loading-percentage",children:[n,"%"]})]}),e.jsx("p",{className:"loading-status",children:a})]})})},ot=({onNavigate:r,backgroundImage:t})=>{const s=(()=>{var h,d;const f=((d=(h=import.meta)==null?void 0:h.env)==null?void 0:d.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),g=f&&f!=="/"?f.endsWith("/")?f:f+"/":"/";return g==="/"?"":g.endsWith("/")?g.slice(0,-1):g})(),a=f=>{if(s==="")return f.startsWith("/")?f:`/${f}`;const g=f.startsWith("/")?f.slice(1):f;return`${s}/${g}`},l=t||a("assets/images/bg-capa.png"),v=a("assets/images/header-capa.png"),u=a("assets/images/bottom-capa.png"),p=a("assets/images/btn-jogar.png");return e.jsxs("div",{className:"cover-screen",style:{backgroundImage:`url("${l}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"cover-header-image",children:e.jsx("img",{src:v,alt:"Header",className:"cover-header-img"})}),e.jsx("div",{className:"cover-content",children:e.jsx("button",{className:"cover-button-jogar",onClick:()=>r("tutorial"),style:{backgroundImage:`url(${p})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})}),e.jsx("div",{className:"cover-bottom-image",children:e.jsx("img",{src:u,alt:"Bottom",className:"cover-bottom-img"})})]})},ct=({onNavigate:r})=>{const n=(()=>{var f,g;const u=((g=(f=import.meta)==null?void 0:f.env)==null?void 0:g.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),p=u&&u!=="/"?u.endsWith("/")?u:u+"/":"/";return p==="/"?"":p.endsWith("/")?p.slice(0,-1):p})(),s=u=>{if(n==="")return u.startsWith("/")?u:`/${u}`;const p=u.startsWith("/")?u.slice(1):u;return`${n}/${p}`},a=s("assets/images/bg-capa.png"),l=s("assets/images/tutorial-panel.png"),v=s("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${a}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:l,alt:"Tutorial Panel",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>r("ar"),style:{backgroundImage:`url("${v}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})},lt=({enabled:r})=>{const t=c.useRef(null),n=c.useRef(null),s=c.useRef(!1),a=c.useRef({x:0,y:0,z:0}),l=c.useRef({x:0,y:1,z:-1.2}),v=c.useRef(null),u=c.useRef(!1),p=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return c.useEffect(()=>{function f(){if(!t.current){const i=document.createElement("canvas");i.id="face-tracker-overlay",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100vw",i.style.height="100vh",i.style.pointerEvents="none",i.style.zIndex="9999",document.body.appendChild(i),t.current=i}}function g(){t.current&&t.current.parentNode&&(t.current.parentNode.removeChild(t.current),t.current=null)}async function h(){window.faceapi||(await new Promise((i,b)=>{const S=document.createElement("script");S.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",S.onload=()=>i(),S.onerror=()=>b(new Error("Falha ao carregar face-api.js")),document.head.appendChild(S)}),console.log("face-api.js carregado"))}async function d(){if(s.current)return;const i=window.faceapi,b="https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights";p?await Promise.all([i.nets.tinyFaceDetector.loadFromUri(b),i.nets.faceLandmark68Net.loadFromUri(b)]):await Promise.all([i.nets.tinyFaceDetector.loadFromUri(b),i.nets.faceLandmark68Net.loadFromUri(b),i.nets.faceExpressionNet.loadFromUri(b)]),s.current=!0,console.log("Modelos de face-api carregados")}function E(){var J,B;if(u.current)return;const i=((B=(J=import.meta)==null?void 0:J.env)==null?void 0:B.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),b=F=>{if(!i||i==="/")return F.startsWith("/")?F:`/${F}`;const C=i.endsWith("/")?i:i+"/";return F.startsWith("/")?C+F.replace(/^\//,""):C+F},O=["assets/images/mascara.png","images/mascara.png","mascara.png"].map(b),x=!i||i==="/"?["/mascara.png","/assets/images/mascara.png","/images/mascara.png"]:[],T=[...O,...x];let z=0;const M=new Image,_=()=>{if(z>=T.length){console.warn("NÃ£o foi possÃ­vel carregar mascara.png de nenhum caminho:",T);return}const F=T[z++]+`?v=${Date.now()}`;M.src=F,console.log("BASE_URL resolvido:",i,"| Tentando mÃ¡scara em:",F)};M.onload=()=>{u.current=!0,v.current=M,console.log("MÃ¡scara carregada em:",M.src)},M.onerror=()=>{_()},v.current=M,_()}function y(i){const b=p?1:Math.max(1,window.devicePixelRatio||1);i.width=Math.floor(window.innerWidth*b),i.height=Math.floor(window.innerHeight*b);const S=i.getContext("2d");S&&S.setTransform(b,0,0,b,0,0)}async function w(){f(),await h(),await d(),E();const i=()=>new Promise((_,J)=>{let B=!1;const F=setTimeout(()=>{B||J(new Error("Timeout aguardando vÃ­deo da cÃ¢mera"))},15e3),C=P=>{if(!P)return!1;const D=!!P.srcObject;return(P.readyState>=2||!P.paused&&P.currentTime>0)&&D?(B=!0,clearTimeout(F),P.removeEventListener("playing",A),U.disconnect(),_(P),!0):!1},A=P=>{const D=P.target;C(D)},U=new MutationObserver(()=>{const P=document.getElementById("arjs-video");C(P)||P&&P.addEventListener("playing",A,{once:!0})});U.observe(document.body,{childList:!0,subtree:!0});const H=document.getElementById("arjs-video");C(H)||H&&H.addEventListener("playing",A,{once:!0})});let b;try{b=await i()}catch(_){console.warn("FaceTracker: vÃ­deo nÃ£o disponÃ­vel a tempo",_);return}const S=t.current;if(!b||!S)return;const O=window.faceapi,x=S.getContext("2d");function T(){S&&y(S)}T(),window.addEventListener("resize",T);const z=async()=>{try{if(!r)return;if(!b.videoWidth){M();return}if(p&&b.paused){const C=()=>{b.muted=!0,b.play().catch(()=>{}),window.removeEventListener("touchstart",C),window.removeEventListener("click",C)};window.addEventListener("touchstart",C,{passive:!0}),window.addEventListener("click",C)}const _=(getComputedStyle(b).transform||"").includes("matrix(-1")||(b.style.transform||"").includes("scaleX(-1)"),J=new O.TinyFaceDetectorOptions({inputSize:p?160:224,scoreThreshold:p?.35:.5});let B=window.faceapi.detectAllFaces(b,J).withFaceLandmarks();!p&&window.faceapi.nets.faceExpressionNet.isLoaded&&(B=B.withFaceExpressions());const F=await B;if(x){x.clearRect(0,0,S.width,S.height),p||(x.fillStyle="rgba(78,205,196,0.8)",x.beginPath(),x.arc(16,16,6,0,Math.PI*2),x.fill(),x.font="12px Arial",x.fillText(`faces: ${(F==null?void 0:F.length)||0}`,30,20));const C=p?1:Math.max(1,window.devicePixelRatio||1),A=S.width/C,U=S.height/C,H=A/b.videoWidth,P=U/b.videoHeight,D=(m,o=0)=>{const R=m*H;return _?A-(R+o):R},ee=m=>m*P,se=(m,o,R,I)=>{if(p)return;const N=D(m),j=ee(o);x.fillStyle=I,x.beginPath(),x.arc(N,j,4,0,Math.PI*2),x.fill(),x.fillStyle=I,x.fillText(R,N+6,j-6)};F&&F.length?F.forEach(m=>{var le;const o=m.detection.box,R=o.width*H,I=D(o.x,R),N=ee(o.y),j=R,L=o.height*P;if(p||(x.strokeStyle="#4ECDC4",x.lineWidth=3,x.strokeRect(I,N,j,L)),!p&&m.expressions){const W=m.expressions||{},de=Object.entries(W);if(de.length){const[ge,ue]=de.reduce((Y,X)=>Y[1]>X[1]?Y:X),ae=`${ge} ${(ue*100).toFixed(0)}%`;x.font="12px Arial";const K=x.measureText(ae).width+12;x.fillStyle="rgba(0,0,0,0.6)",x.fillRect(I,Math.max(0,N-22),K,20),x.fillStyle="#FFFFFF",x.fillText(ae,I+6,Math.max(12,N-8))}}const $=((le=m.landmarks)==null?void 0:le.positions)||[];if($.length===68){const W=$[30],de=[36,37,38,39,40,41],ge=[42,43,44,45,46,47],ue=V=>V.reduce((q,ce)=>q+ce,0)/V.length,ae=V=>({x:ue(V.map(q=>$[q].x)),y:ue(V.map(q=>$[q].y))}),K=ae(de),Y=ae(ge);p||(se(W.x,W.y,"nose","#00E5A8"),se(K.x,K.y,"eye-L","#EF476F"),se(Y.x,Y.y,"eye-R","#EF476F"));const X={x:(K.x+Y.x)/2,y:(K.y+Y.y)/2},Se={x:D(X.x),y:ee(X.y)},ke=Y.x-K.x,Ae=Y.y-K.y;let re=Math.atan2(Ae,ke)*180/Math.PI;const Ie=Math.hypot(ke,Ae)||1;let ie=(W.x-X.x)/Ie*60,he=-(W.y-X.y)/Ie*50;_&&(ie=-ie,re=-re);const pe=(V,q,ce)=>Math.max(q,Math.min(ce,V));ie=pe(ie,-60,60),he=pe(he,-50,50),re=pe(re,-45,45);const qe=D(X.x),He=ee(X.y)+L*.1,Ye=qe/A,Xe=He/U;window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:Ye,y:Xe,detected:!0}}));const ve=.25,te=a.current,Q={x:te.x+(he-te.x)*ve,y:te.y+(ie-te.y)*ve,z:te.z+(re-te.z)*ve};a.current=Q;const ye=document.getElementById("camera"),oe=document.getElementById("head-cube");if(ye&&oe){const V=ye.getObject3D&&ye.getObject3D("camera");if(V&&window.THREE){const q=window.THREE,ce=Se.x/A*2-1,Ge=-(Se.y/U*2-1),Je=1.2,be=new q.Vector3,Le=new q.Vector3,Fe=new q.Vector3(ce,Ge,.5);Fe.unproject(V),be.copy(V.position),Le.copy(Fe).sub(be).normalize();const xe=be.clone().add(Le.multiplyScalar(Je)),we=.35,ne=l.current,me={x:ne.x+(xe.x-ne.x)*we,y:ne.y+(xe.y-ne.y)*we,z:ne.z+(xe.z-ne.z)*we};l.current=me,oe.setAttribute("position",`${me.x.toFixed(3)} ${me.y.toFixed(3)} ${me.z.toFixed(3)}`),oe.setAttribute("rotation",`${Q.x.toFixed(2)} ${Q.y.toFixed(2)} ${Q.z.toFixed(2)}`)}else oe.setAttribute&&oe.setAttribute("rotation",`${Q.x.toFixed(2)} ${Q.y.toFixed(2)} ${Q.z.toFixed(2)}`)}}}):(window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:.5,y:.5,detected:!1}})),p||(x.strokeStyle="rgba(255,107,107,0.8)",x.lineWidth=2,x.strokeRect(10,10,100,60)))}}catch(_){console.error("FaceTracker detect error:",_)}M()},M=()=>{p?setTimeout(()=>{n.current=requestAnimationFrame(z)},80):n.current=requestAnimationFrame(z)};return n.current=requestAnimationFrame(z),()=>{window.removeEventListener("resize",T)}}let k;if(r)w().then(i=>{k=i}).catch(i=>{console.error("FaceTracker start error:",i)});else if(n.current&&(cancelAnimationFrame(n.current),n.current=null),t.current){const i=t.current.getContext("2d");i&&i.clearRect(0,0,t.current.width,t.current.height)}return()=>{n.current&&(cancelAnimationFrame(n.current),n.current=null),k&&k(),g()}},[r]),null};var Z={},G;Object.defineProperty(Z,"__esModule",{value:!0});var Me=Z.Scene=G=Z.Entity=Z.options=void 0,dt=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},ut=function(){function r(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&r(t.prototype,n),s&&r(t,s),t}}(),mt=c,Ce=ft(mt);function ft(r){return r&&r.__esModule?r:{default:r}}function _e(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(r,t){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:r}function Be(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(r,t):r.__proto__=t)}var gt=["children","events","primitive"],Ue=function(t){return gt.indexOf(t)===-1},De={runSetAttributeOnUpdates:!0};Z.options=De;function ht(r,t,n){if(n==="className")r.setAttribute("class",t.className);else{if(t[n]&&t[n].constructor===Function)return;r.setAttribute(n,t[n])}}function Oe(r,t,n){var s;if(!(!n||t===n)){for(s in n)Ue(s)&&ht(r,n,s);if(t)for(s in t)Ue(s)&&n[s]===void 0&&r.removeAttribute(s)}}var pt=G=Z.Entity=function(r){Be(t,r);function t(){var n,s,a,l;_e(this,t);for(var v=arguments.length,u=Array(v),p=0;p<v;p++)u[p]=arguments[p];return l=(s=(a=Re(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(u))),a),a.initEntity=function(f){var g=a.props,h;if(f){if(a.el=f,g.events)for(h in g.events)We(f,h,g.events[h]);Oe(f,null,g),g._ref&&g._ref(f)}},s),Re(a,l)}return ut(t,[{key:"componentDidUpdate",value:function(s,a){var l=this.el,v=this.props;vt(l,s.events,v.events),De.runSetAttributeOnUpdates&&Oe(l,s,v)}},{key:"componentWillUnmount",value:function(){var s=this.el,a=this.props,l;if(a.events)for(l in a.events)Ne(s,l,a.events[l])}},{key:"render",value:function(){var s=this.props,a=this.isScene?"a-scene":s.primitive||"a-entity",l,v={};for(l in s)(["className","id","mixin"].indexOf(l)!==-1||l.indexOf("data-")===0)&&(v[l]=s[l]);return Ce.default.createElement(a,dt({ref:this.initEntity},v),s.children)}}]),t}(Ce.default.Component);Me=Z.Scene=function(r){Be(t,r);function t(n){_e(this,t);var s=Re(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return s.isScene=!0,s}return t}(pt);function vt(r,t,n){var s;if(!(!t||!n||t===n)){for(s in n)t[s]!==n[s]&&(t[s]&&Ne(r,s,t[s]),We(r,s,n[s]));for(s in t)n[s]||Ne(r,s,t[s])}}function We(r,t,n){var s;if(n)for(n.constructor===Function&&(n=[n]),s=0;s<n.length;s++)r.addEventListener(t,n[s])}function Ne(r,t,n){var s;if(n)for(n.constructor===Function&&(n=[n]),s=0;s<n.length;s++)r.removeEventListener(t,n[s])}const Ve=c.forwardRef(({className:r="",onSceneReady:t,cameraFacing:n="environment"},s)=>{const a=c.useRef(null),[l,v]=c.useState([]),[u,p]=c.useState(!1),f=c.useRef(null),g=c.useRef(null),[h,d]=c.useState(n);c.useEffect(()=>{d(n)},[n]),c.useEffect(()=>{typeof window<"u"&&window.AFRAME&&(p(!0),t&&t(),requestAnimationFrame(()=>{const y=document.querySelector(".a-enter-vr-button");y&&(y.style.display="none",y.style.visibility="hidden",y.style.pointerEvents="none")}))},[t]),c.useEffect(()=>{async function y(){g.current&&(g.current.getTracks().forEach(k=>k.stop()),g.current=null),f.current&&f.current.parentNode&&(f.current.parentNode.removeChild(f.current),f.current=null)}async function w(k){try{let i=document.getElementById("arjs-video");if(i&&i.srcObject){f.current=i,g.current=i.srcObject;return}const b=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:k}},audio:!1});i||(i=document.createElement("video"),i.setAttribute("id","arjs-video"),i.setAttribute("playsinline",""),i.setAttribute("autoplay",""),i.muted=!0,i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100vw",i.style.height="100vh",i.style.objectFit="cover",i.style.zIndex="0",i.style.display="none",document.body.appendChild(i)),i.srcObject=b,g.current=b,f.current=i,await i.play()}catch(i){console.error("Erro ao inicializar cÃ¢mera:",i)}}return y().then(()=>w(h)),()=>{}},[h]),c.useImperativeHandle(s,()=>({addEntity:y=>{const w=`entity-${Date.now()}`;return v(k=>[...k,{id:w,data:y}]),w},removeEntity:y=>{v(w=>w.filter(k=>k.id!==y))},getScene:()=>typeof window<"u"&&window.AFRAME&&document.querySelector("a-scene")||a.current,captureScreenshot:()=>{if(typeof window<"u"&&window.AFRAME){const y=document.querySelector("a-scene");if(y){const w=y.renderer;if(w&&w.domElement)return w.domElement.toDataURL("image/png")}}return""},setCameraFacing:y=>{d(y)}}),[]);const E={embedded:!0,"vr-mode-ui":"enabled: false","device-orientation-permission-ui":"enabled: true",renderer:"alpha: true; antialias: true; colorManagement: true; physicallyCorrectLights: false; sortObjects: true; logarithmicDepthBuffer: false; precision: mediump;",webxr:"enabled: false",background:"transparent: true"};return e.jsxs("div",{className:`ar-scene-aframe ${r}`,style:{width:"100%",height:"100%",position:"relative",zIndex:1},children:[u&&e.jsxs(Me,{...E,children:[e.jsx(G,{primitive:"a-assets",children:e.jsx("img",{id:"skyTexture",src:"/assets/images/SKY.jpg",crossOrigin:"anonymous"})}),e.jsx(G,{primitive:"a-sky",rotation:"0 -90 0",material:{src:"#skyTexture",opacity:.5,transparent:!0}}),e.jsx(G,{id:"camera",camera:{active:!0},lookControls:{enabled:!0,reverseMouseDrag:!1,touchEnabled:!0,magicWindowTrackingEnabled:!0},wasdControls:{enabled:!0,acceleration:20,fly:!1,controls:"gamepad keyboard"},position:"0 1.6 0"}),e.jsx(G,{light:{type:"ambient",color:"#888"}}),e.jsx(G,{light:{type:"directional",color:"#fff",intensity:.6},position:"1 1 1"}),l.map(y=>e.jsx(G,{...y.data},y.id)),e.jsx(G,{id:"head-cube",geometry:{primitive:"box",width:.3,height:.3,depth:.3},material:{color:"#FF6B6B",opacity:.9,transparent:!0},position:"0 1 -1.2",rotation:"0 0 0"}),!1]}),!u&&e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#fff"},children:"Carregando A-Frame..."})]})});Ve.displayName="ARSceneAFrame";const yt=({onNavigate:r})=>{const t=c.useRef(null),n=c.useRef(null),[s,a]=c.useState(0),[l,v]=c.useState(60),[u,p]=c.useState(!1),[f,g]=c.useState(!1),[h,d]=c.useState(0),[E,y]=c.useState(null),[w,k]=c.useState(!0),[i,b]=c.useState(null),[S,O]=c.useState(!1),[x,T]=c.useState(null),z=c.useRef([]),M=c.useRef({x:.5,y:.5}),_=c.useRef(!1),J=c.useRef(null),B=c.useRef(null);c.useEffect(()=>{async function m(){try{let o=document.getElementById("arjs-video");if(o&&o.srcObject){o.classList.add("ar-video-visible"),await new Promise(N=>{const j=()=>{document.getElementById("face-tracker-overlay")||o.readyState>=2?N():setTimeout(j,100)};j()}),k(!1);return}const R=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});o||(o=document.createElement("video"),o.setAttribute("id","arjs-video"),o.setAttribute("playsinline",""),o.setAttribute("autoplay",""),o.muted=!0,o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100vw",o.style.height="100vh",o.style.objectFit="cover",o.style.zIndex="0",o.classList.add("ar-video-visible"),document.body.appendChild(o)),o.srcObject&&o.srcObject.getTracks().forEach(j=>j.stop()),o.srcObject=R,B.current=R,J.current=o,await(async()=>{try{o.readyState>=2?await o.play():await new Promise((N,j)=>{const L=()=>{o.removeEventListener("loadedmetadata",L),o.removeEventListener("error",$),o.play().then(N).catch(j)},$=()=>{o.removeEventListener("loadedmetadata",L),o.removeEventListener("error",$),j(new Error("Video load error"))};o.addEventListener("loadedmetadata",L,{once:!0}),o.addEventListener("error",$,{once:!0}),o.readyState>=1&&o.play().then(N).catch(j)})}catch(N){if(o.paused===!1)return;console.warn("Erro ao dar play no vÃ­deo:",N)}})(),await new Promise(N=>{const j=()=>{document.getElementById("face-tracker-overlay")||o.readyState>=2?N():setTimeout(j,100)};j()}),k(!1)}catch(o){console.error("Erro ao inicializar cÃ¢mera:",o),k(!1)}}return m(),()=>{}},[]),c.useEffect(()=>{!w&&!u&&i===null&&b(3)},[w,u,i]),c.useEffect(()=>{if(i===null||i<=0){i===0&&setTimeout(()=>{b(null),p(!0)},500);return}const m=setTimeout(()=>{b(i-1)},1e3);return()=>clearTimeout(m)},[i]);const C=(()=>{var R,I;const m=((I=(R=import.meta)==null?void 0:R.env)==null?void 0:I.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),o=m&&m!=="/"?m.endsWith("/")?m:m+"/":"/";return o==="/"?"":o.endsWith("/")?o.slice(0,-1):o})(),A=m=>{if(C==="")return m.startsWith("/")?m:`/${m}`;const o=m.startsWith("/")?m.slice(1):m;return`${C}/${o}`},U={nave:A("assets/images/sprites/nave.png"),estrela:A("assets/images/sprites/estrela.png"),cometa:A("assets/images/sprites/cometa.png"),barraProgresso:A("assets/images/sprites/barra-progresso.png"),contador:A("assets/images/sprites/contador.png"),feedbackAcerto:A("assets/images/sprites/feedback-acerto.png"),feedbackErro:A("assets/images/sprites/feedback-erro.png"),modalAcerto:A("assets/images/modal-acerto.png"),modalErro:A("assets/images/modal-erro.png"),btnRegistrar:A("assets/images/btn-registrar.png"),btnInicio:A("assets/images/btn-inicio.png"),btnVoltar:A("assets/images/btn-voltar.png")},H=c.useRef({});c.useEffect(()=>{(async()=>{const o=Object.entries(U).map(([R,I])=>new Promise(N=>{const j=new Image;j.onload=()=>{H.current[R]=j,N()},j.onerror=()=>{console.warn(`Failed to load image: ${I}`),N()},j.src=I}));await Promise.all(o)})()},[]),c.useEffect(()=>{if(!u||f)return;const m=setInterval(()=>{v(o=>o<=1?(g(!0),0):o-1)},1e3);return()=>clearInterval(m)},[u,f]),c.useEffect(()=>{const m=o=>{const{x:R,y:I,detected:N}=o.detail;_.current=N,N&&(M.current={x:R,y:I})};return window.addEventListener("nave-position",m),()=>{window.removeEventListener("nave-position",m)}},[]);const P=c.useCallback(()=>{const m=Math.random()>.5?"star":"comet",o={id:Math.random().toString(36).substr(2,9),type:m,x:Math.random()*.8+.1,y:-.1,speed:.0035+Math.random()*.003};z.current.push(o)},[]);c.useEffect(()=>{if(!u||f)return;const m=setInterval(()=>{P()},1e3);return()=>clearInterval(m)},[u,f,P]);const D=c.useCallback(()=>{const m=M.current,o=.08;z.current=z.current.filter(R=>{const I=R.x-m.x,N=R.y-m.y;return Math.sqrt(I*I+N*N)<o+.03?(R.type==="star"?(a(L=>L+10),d(L=>Math.min(100,L+5)),y("acerto"),setTimeout(()=>y(null),500)):(a(L=>Math.max(0,L-5)),d(L=>Math.max(0,L-5)),y("erro"),setTimeout(()=>y(null),500)),!1):!(R.y>1.1)})},[]);c.useEffect(()=>{if(!u||f)return;const m=t.current;if(!m)return;const o=m.getContext("2d");if(!o)return;const R=()=>{m.width=window.innerWidth,m.height=window.innerHeight};R(),window.addEventListener("resize",R);const I=()=>{o.clearRect(0,0,m.width,m.height),z.current.forEach(j=>{j.y+=j.speed});const N=H.current.nave;if(N){const j=M.current.x*m.width,L=M.current.y*m.height,$=m.width*.25;o.drawImage(N,j-$/2,L-$/2,$,$)}z.current.forEach(j=>{const L=H.current[j.type==="star"?"estrela":"cometa"];if(L){const $=j.x*m.width,le=j.y*m.height,W=m.width*.12;o.drawImage(L,$-W/2,le-W/2,W,W)}}),D(),n.current=requestAnimationFrame(I)};return I(),()=>{window.removeEventListener("resize",R),n.current&&cancelAnimationFrame(n.current)}},[u,f,D]),c.useEffect(()=>{if(f&&l===0&&!S){const m=h>=50;T(m?"acerto":"erro"),setTimeout(()=>{O(!0)},1e3)}},[f,l,h,S]);const ee=()=>{O(!1),T(null),a(0),v(60),d(0),y(null),g(!1),p(!1),z.current=[],b(3)},se=m=>{const o=Math.floor(m/60),R=m%60;return`${o}:${R.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"ar-game-screen",children:[w&&e.jsx("div",{className:"ar-loading-overlay",children:e.jsxs("div",{className:"ar-loading-content",children:[e.jsx("div",{className:"ar-loading-spinner"}),e.jsx("p",{className:"ar-loading-text",children:"Preparando AR..."})]})}),i!==null&&e.jsx("div",{className:"ar-countdown-overlay",children:e.jsx("div",{className:"ar-countdown-content",children:i>0?e.jsx("div",{className:"ar-countdown-number",children:i}):e.jsx("div",{className:"ar-countdown-go",children:"Vai!"})})}),e.jsx(Ve,{cameraFacing:"user"}),e.jsx("canvas",{ref:t,className:"ar-game-canvas"}),e.jsx(lt,{enabled:!0}),e.jsxs("div",{className:"ar-timer-container",children:[e.jsx("img",{src:U.contador,alt:"Timer",className:"ar-timer-bg"}),e.jsx("div",{className:"ar-timer-text",children:se(l)})]}),e.jsxs("div",{className:"ar-progress-container",children:[e.jsx("img",{src:U.barraProgresso,alt:"Progress Bar",className:"ar-progress-bg"}),e.jsx("div",{className:"ar-progress-fill",style:{width:`${h}%`}})]}),E&&e.jsx("div",{className:`ar-feedback ar-feedback-${E}`,children:e.jsx("img",{src:E==="acerto"?U.feedbackAcerto:U.feedbackErro,alt:E,className:"ar-feedback-image"})}),e.jsxs("div",{className:"ar-score",children:["Pontos: ",s]}),S&&x&&e.jsx("div",{className:"ar-result-modal-overlay",children:e.jsxs("div",{className:"ar-result-modal-content",children:[e.jsx("img",{src:x==="acerto"?U.modalAcerto:U.modalErro,alt:x==="acerto"?"Acerto":"Erro",className:"ar-result-modal-image"}),x==="acerto"&&e.jsxs("div",{className:"ar-result-modal-buttons",children:[e.jsx("button",{className:"ar-result-button ar-result-button-registrar",onClick:()=>{O(!1),r("selfie")},style:{backgroundImage:`url(${U.btnRegistrar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"ar-result-button ar-result-button-inicio",onClick:()=>{O(!1),r("cover")},style:{backgroundImage:`url(${U.btnInicio})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}),x==="erro"&&e.jsx("div",{className:"ar-result-modal-buttons",children:e.jsx("button",{className:"ar-result-button ar-result-button-voltar",onClick:()=>{ee()},style:{backgroundImage:`url(${U.btnVoltar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})})]})},je={quality:"high",enableSound:!0,enableVibration:!0,autoSave:!0,language:"pt-BR"},bt=({onNavigate:r,onSettingsChange:t})=>{const[n,s]=c.useState(je),a=(u,p)=>{const f={...n,[u]:p};s(f),t==null||t(f)},l=()=>{r("ar")},v=()=>{s(je),t==null||t(je)};return e.jsxs("div",{className:"settings-screen",children:[e.jsxs("div",{className:"settings-header",children:[e.jsx("button",{className:"settings-back-button",onClick:l,children:"â† Voltar"}),e.jsx("h1",{className:"settings-title",children:"ConfiguraÃ§Ãµes"})]}),e.jsxs("div",{className:"settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Qualidade"}),e.jsxs("select",{value:n.quality,onChange:u=>a("quality",u.target.value),className:"settings-select",children:[e.jsx("option",{value:"low",children:"Baixa"}),e.jsx("option",{value:"medium",children:"MÃ©dia"}),e.jsx("option",{value:"high",children:"Alta"})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Som"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:u=>a("enableSound",u.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar som"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"VibraÃ§Ã£o"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableVibration,onChange:u=>a("enableVibration",u.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar vibraÃ§Ã£o"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Salvamento"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.autoSave,onChange:u=>a("autoSave",u.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Salvar automaticamente"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Idioma"}),e.jsxs("select",{value:n.language,onChange:u=>a("language",u.target.value),className:"settings-select",children:[e.jsx("option",{value:"pt-BR",children:"PortuguÃªs"}),e.jsx("option",{value:"en-US",children:"English"}),e.jsx("option",{value:"es-ES",children:"EspaÃ±ol"})]})]})]}),e.jsxs("div",{className:"settings-footer",children:[e.jsx("button",{className:"settings-button secondary",onClick:v,children:"Restaurar PadrÃµes"}),e.jsx("button",{className:"settings-button primary",onClick:l,children:"Salvar"})]})]})},xt=({onNavigate:r,appName:t="Realidade Aumentada",version:n="1.0.0",description:s="Uma aplicaÃ§Ã£o inovadora de realidade aumentada desenvolvida com tecnologias modernas.",developer:a="Desenvolvedor AR"})=>{const l=()=>{r("cover")};return e.jsxs("div",{className:"about-screen",children:[e.jsxs("div",{className:"about-header",children:[e.jsx("button",{className:"about-back-button",onClick:l,children:"â† Voltar"}),e.jsx("h1",{className:"about-title",children:"Sobre"})]}),e.jsxs("div",{className:"about-content",children:[e.jsxs("div",{className:"about-app-info",children:[e.jsx("h2",{className:"app-name",children:t}),e.jsxs("p",{className:"app-version",children:["VersÃ£o ",n]}),e.jsx("p",{className:"app-description",children:s})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Desenvolvedor"}),e.jsx("p",{children:a})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Tecnologias"}),e.jsxs("ul",{className:"tech-list",children:[e.jsx("li",{children:"React 18"}),e.jsx("li",{children:"TypeScript"}),e.jsx("li",{children:"A-Frame"}),e.jsx("li",{children:"AR.js"}),e.jsx("li",{children:"Vite"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Funcionalidades"}),e.jsxs("ul",{className:"features-list",children:[e.jsx("li",{children:"RenderizaÃ§Ã£o 3D em tempo real"}),e.jsx("li",{children:"AdiÃ§Ã£o de objetos 3D"}),e.jsx("li",{children:"Captura de screenshots"}),e.jsx("li",{children:"Interface responsiva"}),e.jsx("li",{children:"Suporte a gestos"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"LicenÃ§a"}),e.jsx("p",{children:"MIT License - CÃ³digo aberto"})]})]}),e.jsx("div",{className:"about-footer",children:e.jsx("button",{className:"about-button",onClick:l,children:"Voltar ao InÃ­cio"})})]})},wt=({onNavigate:r})=>{const t=()=>{r("cover")};return e.jsx("div",{className:"final-screen",children:e.jsxs("div",{className:"final-content",children:[e.jsxs("div",{className:"final-header",children:[e.jsx("div",{className:"final-icon",children:"ðŸŽ‰"}),e.jsx("h1",{className:"final-title",children:"ParabÃ©ns!"}),e.jsx("p",{className:"final-subtitle",children:"VocÃª completou a experiÃªncia de Realidade Aumentada"})]}),e.jsxs("div",{className:"final-body",children:[e.jsx("div",{className:"final-message",children:e.jsx("p",{children:"Esperamos que vocÃª tenha aproveitado essa jornada interativa!"})}),e.jsx("div",{className:"final-stats",children:e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-value",children:"âœ“"}),e.jsx("div",{className:"stat-label",children:"ExperiÃªncia Completa"})]})})]}),e.jsx("div",{className:"final-footer",children:e.jsx("button",{className:"final-button primary",onClick:t,children:"Jogar Novamente"})})]})})},jt=()=>{const r=c.useRef(null),t=c.useRef(null),[n,s]=c.useState(!1),l=(()=>{var E,y;const h=((y=(E=import.meta)==null?void 0:E.env)==null?void 0:y.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),d=h&&h!=="/"?h.endsWith("/")?h:h+"/":"/";return d==="/"?"":d.endsWith("/")?d.slice(0,-1):d})(),v=h=>{if(l==="")return h.startsWith("/")?h:`/${h}`;const d=h.startsWith("/")?h.slice(1):h;return`${l}/${d}`},u=v("assets/images/selfie-top.png"),p=v("assets/images/selfie-bottom.png"),f=v("assets/images/camera-icon.png");c.useEffect(()=>{async function h(){try{let d=document.getElementById("selfie-video");if(d&&d.srcObject){d.classList.add("selfie-video-visible"),r.current=d;return}const E=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});d||(d=document.createElement("video"),d.setAttribute("id","selfie-video"),d.setAttribute("playsinline",""),d.setAttribute("autoplay",""),d.muted=!0,d.style.position="fixed",d.style.top="0",d.style.left="0",d.style.width="100vw",d.style.height="100vh",d.style.objectFit="cover",d.style.zIndex="0",d.classList.add("selfie-video-visible"),document.body.appendChild(d)),d.srcObject=E,t.current=E,r.current=d,await d.play()}catch(d){console.error("Erro ao inicializar cÃ¢mera:",d)}}return h(),()=>{}},[]);const g=()=>{if(!r.current||n)return;s(!0);const h=r.current,d=document.createElement("canvas");d.width=h.videoWidth||h.clientWidth,d.height=h.videoHeight||h.clientHeight;const E=d.getContext("2d");E?(E.drawImage(h,0,0,d.width,d.height),d.toBlob(y=>{if(y){const w=URL.createObjectURL(y),k=document.createElement("a");k.href=w,k.download=`selfie-${Date.now()}.png`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(w)}s(!1)},"image/png")):s(!1)};return e.jsxs("div",{className:"selfie-screen",children:[e.jsx("div",{className:"selfie-top-overlay",children:e.jsx("img",{src:u,alt:"Top",className:"selfie-top-img"})}),e.jsx("div",{className:"selfie-bottom-overlay",children:e.jsx("img",{src:p,alt:"Bottom",className:"selfie-bottom-img"})}),e.jsx("button",{className:"selfie-camera-button",onClick:g,disabled:n,style:{backgroundImage:`url(${f})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})};const Et=({initialScreen:r="loading",appConfig:t,defaultTransition:n="zoom-out",defaultDirection:s="right"})=>{const[a,l]=c.useState(r||"loading"),[v,u]=c.useState(!1),[p,f]=c.useState(n),[g,h]=c.useState(s),[d,E]=c.useState(null);c.useEffect(()=>{console.log("ðŸŽ¬ ScreenManager inicializado com tela:",a)},[]),c.useEffect(()=>{if(!v){const b=setTimeout(()=>{a!=="loading"&&E(null)},1e3);return()=>clearTimeout(b)}},[a,v]);const y=(b,S)=>{const O=["loading","cover","tutorial","ar","final","settings","about","selfie"],x=O.indexOf(b),T=O.indexOf(S);return T>x?"right":T<x?"left":"right"},w=(b,S,O)=>{const x=S||p,T=O||y(a,b);E(a),f(x),h(T);const z=a==="loading"?800:300;u(!0),setTimeout(()=>{l(b),u(!1)},z)},k=()=>{switch(a){case"loading":return e.jsx(Te,{onNavigate:w});case"cover":return e.jsx(ot,{onNavigate:w,title:t.title,subtitle:t.subtitle});case"tutorial":return e.jsx(ct,{onNavigate:w});case"ar":return e.jsx(yt,{onNavigate:w});case"final":return e.jsx(wt,{onNavigate:w});case"settings":return e.jsx(bt,{onNavigate:w});case"about":return e.jsx(xt,{onNavigate:w});case"selfie":return e.jsx(jt,{onNavigate:w});default:return e.jsx(Te,{onNavigate:w})}},i=()=>{const b="screen-manager",S=`transition-${p}`,O=`direction-${g}`,x=v?"transitioning":"",T=d?`from-${d}`:"";return`${b} ${S} ${O} ${x} ${T}`.trim()};return e.jsx("div",{className:i(),children:k()})},Rt=c.createContext(void 0),Nt=({children:r})=>{const[t,n]=c.useState(null),[s,a]=c.useState(!0),[l,v]=c.useState(null),u=async()=>{var g,h;try{a(!0),v(null),console.log("ðŸ”„ Carregando dados do RA...");const d=((h=(g=import.meta)==null?void 0:g.env)==null?void 0:h.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),y=`${d&&d!=="/"?d.endsWith("/")?d:d+"/":"/"}assets/data/ra.json`,w=await fetch(y);if(!w.ok)throw new Error(`Erro ao carregar dados: ${w.status}`);const k=await w.json();console.log("âœ… Dados do RA carregados:",k),n(k)}catch(d){const E=d instanceof Error?d.message:"Erro desconhecido";console.error("âŒ Erro ao carregar dados do RA:",E),v(E)}finally{a(!1)}},p=()=>{u()};c.useEffect(()=>{u()},[]);const f={raData:t,loading:s,error:l,refreshData:p};return e.jsx(Rt.Provider,{value:f,children:r})},St=()=>{const[r,t]=c.useState(!1),n=()=>{const s=window.innerWidth,a=window.innerHeight,l=s>a,v=navigator.userAgent.toLowerCase(),u=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(v)||"ontouchstart"in window||navigator.maxTouchPoints>0,p=s<=768;u&&l||p&&l?(t(!0),document.body.style.overflow="hidden",document.body.style.touchAction="none"):(t(!1),document.body.style.overflow="",document.body.style.touchAction="")};return c.useEffect(()=>{n();let s,a;const l=()=>{clearTimeout(s),s=setTimeout(()=>{n()},100)},v=()=>{clearTimeout(a),a=setTimeout(()=>{n()},300)},u=()=>{clearTimeout(a),a=setTimeout(()=>{n()},300)},p=h=>{clearTimeout(a),a=setTimeout(()=>{n()},100)};window.addEventListener("resize",l),window.addEventListener("orientationchange",v),window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",u);const f=window.matchMedia("(orientation: landscape)");f.addEventListener("change",p);const g=setInterval(()=>{n()},2e3);return()=>{clearTimeout(s),clearTimeout(a),clearInterval(g),window.removeEventListener("resize",l),window.removeEventListener("orientationchange",v),window.screen&&window.screen.orientation&&window.screen.orientation.removeEventListener("change",u),f.removeEventListener("change",p),document.body.style.overflow="",document.body.style.touchAction=""}},[]),r?e.jsxs("div",{className:"landscape-blocker",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:999999999,color:"white",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px",boxSizing:"border-box",pointerEvents:"auto"},children:[e.jsx("div",{style:{width:"80px",height:"80px",marginBottom:"20px",fontSize:"60px",animation:"rotate 2s ease-in-out infinite"},children:"ðŸ“±"}),e.jsx("h2",{style:{margin:"0 0 10px 0",fontSize:"24px"},children:"Gire seu dispositivo"}),e.jsx("p",{style:{margin:"0",fontSize:"16px",opacity:.9},children:"Para uma melhor experiÃªncia de Realidade Aumentada, mantenha seu dispositivo na orientaÃ§Ã£o retrato (vertical)."}),e.jsx("style",{children:`
          @keyframes rotate {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(90deg); }
          }
        `})]}):null};function kt(){const r={title:"Realidade Aumentada",subtitle:"Explore o mundo em 3D",version:"1.0.0",developer:"AR Developer"};return e.jsx(Nt,{children:e.jsxs("div",{className:"ar-app",children:[e.jsx(St,{}),e.jsx(Et,{initialScreen:"loading",appConfig:r})]})})}Ee.createRoot(document.getElementById("root")).render(e.jsx(Qe.StrictMode,{children:e.jsx(kt,{})}));
//# sourceMappingURL=index-dded0609.js.map
