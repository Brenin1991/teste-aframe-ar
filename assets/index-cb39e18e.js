import{r as l,a as nt,R as Te}from"./vendor-b1791c80.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var _e={exports:{}},he={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var st=l,at=Symbol.for("react.element"),rt=Symbol.for("react.fragment"),ot=Object.prototype.hasOwnProperty,it=st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ct={key:!0,ref:!0,__self:!0,__source:!0};function Be(a,t,n){var s,r={},o=null,p=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(p=t.ref);for(s in t)ot.call(t,s)&&!ct.hasOwnProperty(s)&&(r[s]=t[s]);if(a&&a.defaultProps)for(s in t=a.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:at,type:a,key:o,ref:p,props:r,_owner:it.current}}he.Fragment=rt;he.jsx=Be;he.jsxs=Be;_e.exports=he;var e=_e.exports,ge={},Ce=nt;ge.createRoot=Ce.createRoot,ge.hydrateRoot=Ce.hydrateRoot;let de=null,Ee=null,fe=null;async function De(){return fe||(fe=(async()=>{try{console.log("Iniciando inicializa√ß√£o global..."),console.log("Aguardando A-Frame..."),await lt(),console.log("A-Frame pronto"),console.log("Inicializando c√¢mera..."),await dt(),console.log("C√¢mera inicializada"),console.log("Carregando face-api.js..."),await ut(),console.log("face-api.js carregado"),console.log("Inicializa√ß√£o global conclu√≠da"),We()}catch(a){throw console.error("Erro na inicializa√ß√£o global:",a),a}})(),fe)}function We(){const a=new MutationObserver(()=>{const t=document.querySelector(".a-orientation-modal")||document.querySelector('[class*="orientation-modal"]')||document.querySelector('[class*="a-orientation"]')||document.querySelector('[class*="permission"]');if(t){console.log("Modal detectado, garantindo que seja clic√°vel...");const n=document.querySelector("a-scene canvas");n&&(n.style.pointerEvents="none",n.style.zIndex="1"),t.style.pointerEvents="auto",t.style.zIndex="2147483647",t.style.position="fixed",t.style.display="block",t.style.visibility="visible",t.style.opacity="1",t.querySelectorAll("*").forEach(o=>{o.style.pointerEvents="auto"}),t.querySelectorAll("button").forEach(o=>{o.style.pointerEvents="auto",o.style.cursor="pointer",o.style.zIndex="2147483647",o.style.position="relative"})}});a.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),setTimeout(()=>{(document.querySelector(".a-orientation-modal")||document.querySelector('[class*="orientation-modal"]')||document.querySelector('[class*="a-orientation"]'))&&(a.disconnect(),We())},1e3)}function lt(){return new Promise(a=>{if(typeof window<"u"&&window.AFRAME){a();return}const t=()=>{typeof window<"u"&&window.AFRAME?a():setTimeout(t,100)};t()})}async function dt(){try{const a=document.getElementById("arjs-video");if(a&&a.srcObject)return de=a,Ee=a.srcObject,Ee;const t=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});if(a)de=a;else{const n=document.createElement("video");n.id="arjs-video",n.setAttribute("playsinline",""),n.setAttribute("autoplay",""),n.muted=!0,n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100vw",n.style.height="100vh",n.style.objectFit="cover",n.style.zIndex="0",n.style.display="none",n.style.visibility="hidden",n.style.opacity="0",document.body.appendChild(n),de=n}return de.srcObject=t,Ee=t,await de.play(),t}catch(a){return console.warn("Erro ao inicializar c√¢mera global:",a),null}}async function ut(){if(!window.faceapi)return new Promise((a,t)=>{const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",n.onload=()=>{console.log("face-api.js carregado"),a()},n.onerror=()=>t(new Error("Failed to load face-api.js")),document.head.appendChild(n)})}const ze=({onNavigate:a,onLoadingComplete:t})=>{const[n,s]=l.useState(0),[r,o]=l.useState("Inicializando...");return l.useEffect(()=>((async()=>{const u=["/assets/images/bg-capa.png","/assets/images/header-capa.png","/assets/images/bottom-capa.png","/assets/images/btn-jogar.png","/assets/images/tutorial-panel.png","/assets/images/btn-comecar.png","/assets/images/sprites/nave.png","/assets/images/sprites/estrela.png","/assets/images/sprites/cometa.png","/assets/images/sprites/barra-progresso.png","/assets/images/sprites/contador.png","/assets/images/sprites/feedback-acerto.png","/assets/images/sprites/feedback-erro.png","/assets/images/modal-acerto.png","/assets/images/modal-erro.png","/assets/images/btn-registrar.png","/assets/images/btn-inicio.png","/assets/images/btn-voltar.png","/assets/images/Titulo.png","/assets/images/btJogar.png","/assets/images/btCreditos.png","/assets/images/SKY.jpg","/assets/images/mascara.png","/assets/data/ra.json"],h=(()=>{var c,j;const d=((j=(c=import.meta)==null?void 0:c.env)==null?void 0:j.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/");return d&&d!=="/"?d.endsWith("/")?d:d+"/":"/"})();try{o("Aguardando inicializa√ß√£o..."),await De(),o("Carregando imagens...");for(let d=0;d<u.length;d++){const m=u[d],c=`${h}${m.startsWith("/")?m.slice(1):m}`;if(m.endsWith(".json"))try{if(!(await fetch(c)).ok)throw new Error(`Failed to load ${m}`)}catch(R){console.warn(`Failed to load ${m}:`,R)}else await new Promise(R=>{const w=new Image;w.onload=()=>R(w),w.onerror=()=>{console.warn(`Failed to load image: ${c}`),R(null)},w.src=c});const j=Math.round((d+1)/u.length*100);s(j)}o("Finalizando..."),await new Promise(d=>setTimeout(d,300)),s(100),o("Conclu√≠do!"),await new Promise(d=>setTimeout(d,200)),t==null||t(),a("cover","fade")}catch(d){console.error("Erro ao carregar recursos:",d),o("Erro ao carregar. Continuando..."),setTimeout(()=>{a("cover")},1e3)}})(),()=>{}),[a,t]),e.jsx("div",{className:"loading-screen",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("div",{className:"loading-logo",children:e.jsx("div",{className:"loading-spinner"})}),e.jsx("h2",{className:"loading-title",children:"Carregando"}),e.jsxs("div",{className:"loading-progress-container",children:[e.jsx("div",{className:"loading-progress-bar",children:e.jsx("div",{className:"loading-progress-fill",style:{width:`${n}%`}})}),e.jsxs("p",{className:"loading-percentage",children:[n,"%"]})]}),e.jsx("p",{className:"loading-status",children:r})]})})},mt=({onNavigate:a,backgroundImage:t})=>{const s=(()=>{var m,c;const h=((c=(m=import.meta)==null?void 0:m.env)==null?void 0:c.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),d=h&&h!=="/"?h.endsWith("/")?h:h+"/":"/";return d==="/"?"":d.endsWith("/")?d.slice(0,-1):d})(),r=h=>{if(s==="")return h.startsWith("/")?h:`/${h}`;const d=h.startsWith("/")?h.slice(1):h;return`${s}/${d}`},o=t||r("assets/images/bg-capa.png"),p=r("assets/images/header-capa.png"),u=r("assets/images/bottom-capa.png"),g=r("assets/images/btn-jogar.png");return e.jsxs("div",{className:"cover-screen",style:{backgroundImage:`url("${o}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"cover-header-image",children:e.jsx("img",{src:p,alt:"Header",className:"cover-header-img"})}),e.jsx("div",{className:"cover-content",children:e.jsx("button",{className:"cover-button-jogar",onClick:()=>a("tutorial"),style:{backgroundImage:`url(${g})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})}),e.jsx("div",{className:"cover-bottom-image",children:e.jsx("img",{src:u,alt:"Bottom",className:"cover-bottom-img"})})]})},ft=({onNavigate:a})=>{const n=(()=>{var h,d;const u=((d=(h=import.meta)==null?void 0:h.env)==null?void 0:d.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),g=u&&u!=="/"?u.endsWith("/")?u:u+"/":"/";return g==="/"?"":g.endsWith("/")?g.slice(0,-1):g})(),s=u=>{if(n==="")return u.startsWith("/")?u:`/${u}`;const g=u.startsWith("/")?u.slice(1):u;return`${n}/${g}`},r=s("assets/images/bg-capa.png"),o=s("assets/images/tutorial-panel.png"),p=s("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${r}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:o,alt:"Tutorial Panel",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>a("ar"),style:{backgroundImage:`url("${p}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})},gt=({enabled:a})=>{const t=l.useRef(null),n=l.useRef(null),s=l.useRef(!1),r=l.useRef({x:0,y:0,z:0}),o=l.useRef({x:0,y:1,z:-1.2}),p=l.useRef(null),u=l.useRef(!1),g=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return l.useEffect(()=>{function h(){if(!t.current){const i=document.createElement("canvas");i.id="face-tracker-overlay",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100vw",i.style.height="100vh",i.style.pointerEvents="none",i.style.zIndex="9999",document.body.appendChild(i),t.current=i}}function d(){t.current&&t.current.parentNode&&(t.current.parentNode.removeChild(t.current),t.current=null)}async function m(){if(s.current)return;const i=window.faceapi,x="https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights";g?await Promise.all([i.nets.tinyFaceDetector.loadFromUri(x),i.nets.faceLandmark68Net.loadFromUri(x)]):await Promise.all([i.nets.tinyFaceDetector.loadFromUri(x),i.nets.faceLandmark68Net.loadFromUri(x),i.nets.faceExpressionNet.loadFromUri(x)]),s.current=!0,console.log("Modelos de face-api carregados")}function c(){var H,M;if(u.current)return;const i=((M=(H=import.meta)==null?void 0:H.env)==null?void 0:M.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),x=I=>{if(!i||i==="/")return I.startsWith("/")?I:`/${I}`;const Y=i.endsWith("/")?i:i+"/";return I.startsWith("/")?Y+I.replace(/^\//,""):Y+I},v=["assets/images/mascara.png","images/mascara.png","mascara.png"].map(x),P=!i||i==="/"?["/mascara.png","/assets/images/mascara.png","/images/mascara.png"]:[],S=[...v,...P];let L=0;const E=new Image,z=()=>{if(L>=S.length){console.warn("N√£o foi poss√≠vel carregar mascara.png de nenhum caminho:",S);return}const I=S[L++]+`?v=${Date.now()}`;E.src=I,console.log("BASE_URL resolvido:",i,"| Tentando m√°scara em:",I)};E.onload=()=>{u.current=!0,p.current=E,console.log("M√°scara carregada em:",E.src)},E.onerror=()=>{z()},p.current=E,z()}function j(i){const x=g?1:Math.max(1,window.devicePixelRatio||1);i.width=Math.floor(window.innerWidth*x),i.height=Math.floor(window.innerHeight*x);const A=i.getContext("2d");A&&A.setTransform(x,0,0,x,0,0)}async function R(){if(h(),!window.faceapi&&(console.warn("face-api.js n√£o carregado ainda, aguardando..."),await new Promise(E=>setTimeout(E,1e3)),!window.faceapi)){console.error("face-api.js ainda n√£o dispon√≠vel");return}await m(),c();const i=document.getElementById("arjs-video");if(!i||!i.srcObject){console.warn("FaceTracker: v√≠deo global n√£o encontrado");return}i.readyState<2&&await new Promise(E=>{const z=()=>{i.removeEventListener("loadedmetadata",z),i.removeEventListener("playing",z),E()};i.addEventListener("loadedmetadata",z,{once:!0}),i.addEventListener("playing",z,{once:!0}),i.readyState>=2&&E()});const x=t.current;if(!i||!x)return;const A=window.faceapi,v=x.getContext("2d");function P(){x&&j(x)}P(),window.addEventListener("resize",P);const S=async()=>{try{if(!a)return;if(!i.videoWidth){L();return}if(g&&i.paused){const I=()=>{i.muted=!0,i.play().catch(()=>{}),window.removeEventListener("touchstart",I),window.removeEventListener("click",I)};window.addEventListener("touchstart",I,{passive:!0}),window.addEventListener("click",I)}const E=(getComputedStyle(i).transform||"").includes("matrix(-1")||(i.style.transform||"").includes("scaleX(-1)"),z=new A.TinyFaceDetectorOptions({inputSize:g?160:224,scoreThreshold:g?.35:.5});let H=window.faceapi.detectAllFaces(i,z).withFaceLandmarks();!g&&window.faceapi.nets.faceExpressionNet.isLoaded&&(H=H.withFaceExpressions());const M=await H;if(v){v.clearRect(0,0,x.width,x.height),g||(v.fillStyle="rgba(78,205,196,0.8)",v.beginPath(),v.arc(16,16,6,0,Math.PI*2),v.fill(),v.font="12px Arial",v.fillText(`faces: ${(M==null?void 0:M.length)||0}`,30,20));const I=g?1:Math.max(1,window.devicePixelRatio||1),Y=x.width/I,ee=x.height/I,T=Y/i.videoWidth,U=ee/i.videoHeight,G=($,D=0)=>{const f=$*T;return E?Y-(f+D):f},K=$=>$*U,te=($,D,f,b)=>{if(g)return;const y=G($),N=K(D);v.fillStyle=b,v.beginPath(),v.arc(y,N,4,0,Math.PI*2),v.fill(),v.fillStyle=b,v.fillText(f,y+6,N-6)};M&&M.length?M.forEach($=>{var C;const D=$.detection.box,f=D.width*T,b=G(D.x,f),y=K(D.y),N=f,F=D.height*U;if(g||(v.strokeStyle="#4ECDC4",v.lineWidth=3,v.strokeRect(b,y,N,F)),!g&&$.expressions){const O=$.expressions||{},ne=Object.entries(O);if(ne.length){const[X,ue]=ne.reduce((W,q)=>W[1]>q[1]?W:q),re=`${X} ${(ue*100).toFixed(0)}%`;v.font="12px Arial";const J=v.measureText(re).width+12;v.fillStyle="rgba(0,0,0,0.6)",v.fillRect(b,Math.max(0,y-22),J,20),v.fillStyle="#FFFFFF",v.fillText(re,b+6,Math.max(12,y-8))}}const k=((C=$.landmarks)==null?void 0:C.positions)||[];if(k.length===68){const O=k[30],ne=[36,37,38,39,40,41],X=[42,43,44,45,46,47],ue=_=>_.reduce((B,le)=>B+le,0)/_.length,re=_=>({x:ue(_.map(B=>k[B].x)),y:ue(_.map(B=>k[B].y))}),J=re(ne),W=re(X);g||(te(O.x,O.y,"nose","#00E5A8"),te(J.x,J.y,"eye-L","#EF476F"),te(W.x,W.y,"eye-R","#EF476F"));const q={x:(J.x+W.x)/2,y:(J.y+W.y)/2},ke={x:G(q.x),y:K(q.y)},Ae=W.x-J.x,Ie=W.y-J.y;let oe=Math.atan2(Ie,Ae)*180/Math.PI;const Fe=Math.hypot(Ae,Ie)||1;let ie=(O.x-q.x)/Fe*60,pe=-(O.y-q.y)/Fe*50;E&&(ie=-ie,oe=-oe);const ve=(_,B,le)=>Math.max(B,Math.min(le,_));ie=ve(ie,-60,60),pe=ve(pe,-50,50),oe=ve(oe,-45,45);const Je=G(q.x),Ke=K(q.y)+F*.1,Qe=Je/Y,Ze=Ke/ee;window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:Qe,y:Ze,detected:!0}}));const be=.25,se=r.current,Q={x:se.x+(pe-se.x)*be,y:se.y+(ie-se.y)*be,z:se.z+(oe-se.z)*be};r.current=Q;const xe=document.getElementById("camera"),ce=document.getElementById("head-cube");if(xe&&ce){const _=xe.getObject3D&&xe.getObject3D("camera");if(_&&window.THREE){const B=window.THREE,le=ke.x/Y*2-1,et=-(ke.y/ee*2-1),tt=1.2,ye=new B.Vector3,Pe=new B.Vector3,Le=new B.Vector3(le,et,.5);Le.unproject(_),ye.copy(_.position),Pe.copy(Le).sub(ye).normalize();const we=ye.clone().add(Pe.multiplyScalar(tt)),je=.35,ae=o.current,me={x:ae.x+(we.x-ae.x)*je,y:ae.y+(we.y-ae.y)*je,z:ae.z+(we.z-ae.z)*je};o.current=me,ce.setAttribute("position",`${me.x.toFixed(3)} ${me.y.toFixed(3)} ${me.z.toFixed(3)}`),ce.setAttribute("rotation",`${Q.x.toFixed(2)} ${Q.y.toFixed(2)} ${Q.z.toFixed(2)}`)}else ce.setAttribute&&ce.setAttribute("rotation",`${Q.x.toFixed(2)} ${Q.y.toFixed(2)} ${Q.z.toFixed(2)}`)}}}):(window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:.5,y:.5,detected:!1}})),g||(v.strokeStyle="rgba(255,107,107,0.8)",v.lineWidth=2,v.strokeRect(10,10,100,60)))}}catch(E){console.error("FaceTracker detect error:",E)}L()},L=()=>{g?setTimeout(()=>{n.current=requestAnimationFrame(S)},80):n.current=requestAnimationFrame(S)};return n.current=requestAnimationFrame(S),()=>{window.removeEventListener("resize",P)}}let w;if(a)R().then(i=>{w=i}).catch(i=>{console.error("FaceTracker start error:",i)});else if(n.current&&(cancelAnimationFrame(n.current),n.current=null),t.current){const i=t.current.getContext("2d");i&&i.clearRect(0,0,t.current.width,t.current.height)}return()=>{n.current&&(cancelAnimationFrame(n.current),n.current=null),w&&w(),d()}},[a]),null};var Z={},V;Object.defineProperty(Z,"__esModule",{value:!0});var qe=Z.Scene=V=Z.Entity=Z.options=void 0,ht=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},pt=function(){function a(t,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,n,s){return n&&a(t.prototype,n),s&&a(t,s),t}}(),vt=l,Ue=bt(vt);function bt(a){return a&&a.__esModule?a:{default:a}}function Ve(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(a,t){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:a}function He(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(a,t):a.__proto__=t)}var xt=["children","events","primitive"],Oe=function(t){return xt.indexOf(t)===-1},Ye={runSetAttributeOnUpdates:!0};Z.options=Ye;function yt(a,t,n){if(n==="className")a.setAttribute("class",t.className);else{if(t[n]&&t[n].constructor===Function)return;a.setAttribute(n,t[n])}}function $e(a,t,n){var s;if(!(!n||t===n)){for(s in n)Oe(s)&&yt(a,n,s);if(t)for(s in t)Oe(s)&&n[s]===void 0&&a.removeAttribute(s)}}var wt=V=Z.Entity=function(a){He(t,a);function t(){var n,s,r,o;Ve(this,t);for(var p=arguments.length,u=Array(p),g=0;g<p;g++)u[g]=arguments[g];return o=(s=(r=Ne(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(u))),r),r.initEntity=function(h){var d=r.props,m;if(h){if(r.el=h,d.events)for(m in d.events)Ge(h,m,d.events[m]);$e(h,null,d),d._ref&&d._ref(h)}},s),Ne(r,o)}return pt(t,[{key:"componentDidUpdate",value:function(s,r){var o=this.el,p=this.props;jt(o,s.events,p.events),Ye.runSetAttributeOnUpdates&&$e(o,s,p)}},{key:"componentWillUnmount",value:function(){var s=this.el,r=this.props,o;if(r.events)for(o in r.events)Se(s,o,r.events[o])}},{key:"render",value:function(){var s=this.props,r=this.isScene?"a-scene":s.primitive||"a-entity",o,p={};for(o in s)(["className","id","mixin"].indexOf(o)!==-1||o.indexOf("data-")===0)&&(p[o]=s[o]);return Ue.default.createElement(r,ht({ref:this.initEntity},p),s.children)}}]),t}(Ue.default.Component);qe=Z.Scene=function(a){He(t,a);function t(n){Ve(this,t);var s=Ne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return s.isScene=!0,s}return t}(wt);function jt(a,t,n){var s;if(!(!t||!n||t===n)){for(s in n)t[s]!==n[s]&&(t[s]&&Se(a,s,t[s]),Ge(a,s,n[s]));for(s in t)n[s]||Se(a,s,t[s])}}function Ge(a,t,n){var s;if(n)for(n.constructor===Function&&(n=[n]),s=0;s<n.length;s++)a.addEventListener(t,n[s])}function Se(a,t,n){var s;if(n)for(n.constructor===Function&&(n=[n]),s=0;s<n.length;s++)a.removeEventListener(t,n[s])}const Xe=l.forwardRef(({className:a="",onSceneReady:t,cameraFacing:n="environment"},s)=>{const r=l.useRef(null),[o,p]=l.useState([]),[u,g]=l.useState(!1);l.useEffect(()=>{const d=()=>{typeof window<"u"&&window.AFRAME?(g(!0),t&&t(),requestAnimationFrame(()=>{const m=document.querySelector(".a-enter-vr-button");m&&(m.style.display="none",m.style.visibility="hidden",m.style.pointerEvents="none")})):setTimeout(d,100)};d()},[t]),l.useImperativeHandle(s,()=>({addEntity:d=>{const m=`entity-${Date.now()}`;return p(c=>[...c,{id:m,data:d}]),m},removeEntity:d=>{p(m=>m.filter(c=>c.id!==d))},getScene:()=>typeof window<"u"&&window.AFRAME&&document.querySelector("a-scene")||r.current,captureScreenshot:()=>{if(typeof window<"u"&&window.AFRAME){const d=document.querySelector("a-scene");if(d){const m=d.renderer;if(m&&m.domElement)return m.domElement.toDataURL("image/png")}}return""},setCameraFacing:d=>{console.log("Camera facing changed to:",d)}}),[]);const h={embedded:!0,"vr-mode-ui":"enabled: false","device-orientation-permission-ui":"enabled: true",renderer:"alpha: true; antialias: true; colorManagement: true; physicallyCorrectLights: false; sortObjects: true; logarithmicDepthBuffer: false; precision: mediump;",webxr:"enabled: false",background:"transparent: true",stats:"false"};return e.jsxs("div",{className:`ar-scene-aframe ${a}`,style:{width:"100%",height:"100%",position:"relative",zIndex:1},children:[u&&e.jsxs(qe,{...h,children:[e.jsx(V,{primitive:"a-assets",children:e.jsx("img",{id:"skyTexture",src:"/teste-aframe-ar/assets/images/SKY.jpg",crossOrigin:"anonymous"})}),e.jsx(V,{primitive:"a-sky",rotation:"0 -90 0",material:{src:"#skyTexture",opacity:.5,transparent:!0}}),e.jsx(V,{id:"camera",camera:{active:!0},lookControls:{enabled:!0,reverseMouseDrag:!1,touchEnabled:!0,magicWindowTrackingEnabled:!0,pointerLockEnabled:!1,touchSensitivity:1,mouseSensitivity:1},wasdControls:{enabled:!1},position:"0 1.6 0"}),e.jsx(V,{light:{type:"ambient",color:"#888"}}),e.jsx(V,{light:{type:"directional",color:"#fff",intensity:.6},position:"1 1 1"}),o.map(d=>e.jsx(V,{...d.data},d.id)),e.jsx(V,{id:"head-cube",geometry:{primitive:"box",width:.3,height:.3,depth:.3},material:{color:"#FF6B6B",opacity:.9,transparent:!0},position:"0 1 -1.2",rotation:"0 0 0"}),!1]}),!u&&e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#fff"},children:"Carregando A-Frame..."})]})});Xe.displayName="ARSceneAFrame";const Et=({onNavigate:a})=>{const t=l.useRef(null),n=l.useRef(null),[s,r]=l.useState(0),[o,p]=l.useState(60),[u,g]=l.useState(!1),[h,d]=l.useState(!1),[m,c]=l.useState(0),[j,R]=l.useState(null),[w,i]=l.useState(!0),[x,A]=l.useState(null),[v,P]=l.useState(!1),[S,L]=l.useState(null),E=l.useRef([]),z=l.useRef({x:.5,y:.5}),H=l.useRef(!1),M=l.useRef(null),I=l.useRef(null);l.useEffect(()=>{async function f(){try{const b=document.getElementById("arjs-video");if(!b||!b.srcObject){console.warn("V√≠deo global n√£o encontrado, aguardando..."),await new Promise(F=>setTimeout(F,1e3));const N=document.getElementById("arjs-video");if(!N||!N.srcObject){console.error("V√≠deo ainda n√£o dispon√≠vel"),i(!1);return}}const y=b||document.getElementById("arjs-video");y&&y.srcObject?(y.classList.add("ar-video-visible"),M.current=y,I.current=y.srcObject,await new Promise(N=>{const F=()=>{document.getElementById("face-tracker-overlay")||y.readyState>=2?N():setTimeout(F,100)};F()}),i(!1)):(console.error("V√≠deo n√£o tem stream"),i(!1))}catch(b){console.error("Erro ao configurar c√¢mera:",b),i(!1)}}return f(),()=>{}},[]),l.useEffect(()=>{!w&&!u&&x===null&&A(3)},[w,u,x]),l.useEffect(()=>{if(x===null||x<=0){x===0&&setTimeout(()=>{A(null),g(!0)},500);return}const f=setTimeout(()=>{A(x-1)},1e3);return()=>clearTimeout(f)},[x]);const ee=(()=>{var y,N;const f=((N=(y=import.meta)==null?void 0:y.env)==null?void 0:N.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),b=f&&f!=="/"?f.endsWith("/")?f:f+"/":"/";return b==="/"?"":b.endsWith("/")?b.slice(0,-1):b})(),T=f=>{if(ee==="")return f.startsWith("/")?f:`/${f}`;const b=f.startsWith("/")?f.slice(1):f;return`${ee}/${b}`},U={nave:T("assets/images/sprites/nave.png"),estrela:T("assets/images/sprites/estrela.png"),cometa:T("assets/images/sprites/cometa.png"),barraProgresso:T("assets/images/sprites/barra-progresso.png"),contador:T("assets/images/sprites/contador.png"),feedbackAcerto:T("assets/images/sprites/feedback-acerto.png"),feedbackErro:T("assets/images/sprites/feedback-erro.png"),modalAcerto:T("assets/images/modal-acerto.png"),modalErro:T("assets/images/modal-erro.png"),btnRegistrar:T("assets/images/btn-registrar.png"),btnInicio:T("assets/images/btn-inicio.png"),btnVoltar:T("assets/images/btn-voltar.png")},G=l.useRef({});l.useEffect(()=>{(async()=>{const b=Object.entries(U).map(([y,N])=>new Promise(F=>{const k=new Image;k.onload=()=>{G.current[y]=k,F()},k.onerror=()=>{console.warn(`Failed to load image: ${N}`),F()},k.src=N}));await Promise.all(b)})()},[]),l.useEffect(()=>{if(!u||h)return;const f=setInterval(()=>{p(b=>b<=1?(d(!0),0):b-1)},1e3);return()=>clearInterval(f)},[u,h]),l.useEffect(()=>{const f=b=>{const{x:y,y:N,detected:F}=b.detail;H.current=F,F&&(z.current={x:y,y:N})};return window.addEventListener("nave-position",f),()=>{window.removeEventListener("nave-position",f)}},[]);const K=l.useCallback(()=>{const f=Math.random()>.5?"star":"comet",b={id:Math.random().toString(36).substr(2,9),type:f,x:Math.random()*.8+.1,y:-.1,speed:.0035+Math.random()*.003};E.current.push(b)},[]);l.useEffect(()=>{if(!u||h)return;const f=setInterval(()=>{K()},1e3);return()=>clearInterval(f)},[u,h,K]);const te=l.useCallback(()=>{const f=z.current,b=.08;E.current=E.current.filter(y=>{const N=y.x-f.x,F=y.y-f.y;return Math.sqrt(N*N+F*F)<b+.03?(y.type==="star"?(r(C=>C+10),c(C=>Math.min(100,C+5)),R("acerto"),setTimeout(()=>R(null),500)):(r(C=>Math.max(0,C-5)),c(C=>Math.max(0,C-5)),R("erro"),setTimeout(()=>R(null),500)),!1):!(y.y>1.1)})},[]);l.useEffect(()=>{if(!u||h)return;const f=t.current;if(!f)return;const b=f.getContext("2d");if(!b)return;const y=()=>{f.width=window.innerWidth,f.height=window.innerHeight};y(),window.addEventListener("resize",y);const N=()=>{b.clearRect(0,0,f.width,f.height),E.current.forEach(k=>{k.y+=k.speed});const F=G.current.nave;if(F){const k=z.current.x*f.width,C=z.current.y*f.height,O=f.width*.25;b.drawImage(F,k-O/2,C-O/2,O,O)}E.current.forEach(k=>{const C=G.current[k.type==="star"?"estrela":"cometa"];if(C){const O=k.x*f.width,ne=k.y*f.height,X=f.width*.12;b.drawImage(C,O-X/2,ne-X/2,X,X)}}),te(),n.current=requestAnimationFrame(N)};return N(),()=>{window.removeEventListener("resize",y),n.current&&cancelAnimationFrame(n.current)}},[u,h,te]),l.useEffect(()=>{if(h&&o===0&&!v){const f=m>=50;L(f?"acerto":"erro"),setTimeout(()=>{P(!0)},1e3)}},[h,o,m,v]);const $=()=>{P(!1),L(null),r(0),p(60),c(0),R(null),d(!1),g(!1),E.current=[],A(3)},D=f=>{const b=Math.floor(f/60),y=f%60;return`${b}:${y.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"ar-game-screen",children:[w&&e.jsx("div",{className:"ar-loading-overlay",children:e.jsxs("div",{className:"ar-loading-content",children:[e.jsx("div",{className:"ar-loading-spinner"}),e.jsx("p",{className:"ar-loading-text",children:"Preparando AR..."})]})}),x!==null&&e.jsx("div",{className:"ar-countdown-overlay",children:e.jsx("div",{className:"ar-countdown-content",children:x>0?e.jsx("div",{className:"ar-countdown-number",children:x}):e.jsx("div",{className:"ar-countdown-go",children:"Vai!"})})}),e.jsx(Xe,{cameraFacing:"user"}),e.jsx("canvas",{ref:t,className:"ar-game-canvas"}),e.jsx(gt,{enabled:!0}),e.jsxs("div",{className:"ar-timer-container",children:[e.jsx("img",{src:U.contador,alt:"Timer",className:"ar-timer-bg"}),e.jsx("div",{className:"ar-timer-text",children:D(o)})]}),e.jsxs("div",{className:"ar-progress-container",children:[e.jsx("img",{src:U.barraProgresso,alt:"Progress Bar",className:"ar-progress-bg"}),e.jsx("div",{className:"ar-progress-fill",style:{width:`${m}%`}})]}),j&&e.jsx("div",{className:`ar-feedback ar-feedback-${j}`,children:e.jsx("img",{src:j==="acerto"?U.feedbackAcerto:U.feedbackErro,alt:j,className:"ar-feedback-image"})}),e.jsxs("div",{className:"ar-score",children:["Pontos: ",s]}),v&&S&&e.jsx("div",{className:"ar-result-modal-overlay",children:e.jsxs("div",{className:"ar-result-modal-content",children:[e.jsx("img",{src:S==="acerto"?U.modalAcerto:U.modalErro,alt:S==="acerto"?"Acerto":"Erro",className:"ar-result-modal-image"}),S==="acerto"&&e.jsxs("div",{className:"ar-result-modal-buttons",children:[e.jsx("button",{className:"ar-result-button ar-result-button-registrar",onClick:()=>{P(!1),a("selfie")},style:{backgroundImage:`url(${U.btnRegistrar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"ar-result-button ar-result-button-inicio",onClick:()=>{P(!1),a("cover")},style:{backgroundImage:`url(${U.btnInicio})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}),S==="erro"&&e.jsx("div",{className:"ar-result-modal-buttons",children:e.jsx("button",{className:"ar-result-button ar-result-button-voltar",onClick:()=>{$()},style:{backgroundImage:`url(${U.btnVoltar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})})]})},Re={quality:"high",enableSound:!0,enableVibration:!0,autoSave:!0,language:"pt-BR"},Rt=({onNavigate:a,onSettingsChange:t})=>{const[n,s]=l.useState(Re),r=(u,g)=>{const h={...n,[u]:g};s(h),t==null||t(h)},o=()=>{a("ar")},p=()=>{s(Re),t==null||t(Re)};return e.jsxs("div",{className:"settings-screen",children:[e.jsxs("div",{className:"settings-header",children:[e.jsx("button",{className:"settings-back-button",onClick:o,children:"‚Üê Voltar"}),e.jsx("h1",{className:"settings-title",children:"Configura√ß√µes"})]}),e.jsxs("div",{className:"settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Qualidade"}),e.jsxs("select",{value:n.quality,onChange:u=>r("quality",u.target.value),className:"settings-select",children:[e.jsx("option",{value:"low",children:"Baixa"}),e.jsx("option",{value:"medium",children:"M√©dia"}),e.jsx("option",{value:"high",children:"Alta"})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Som"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:u=>r("enableSound",u.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar som"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Vibra√ß√£o"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableVibration,onChange:u=>r("enableVibration",u.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar vibra√ß√£o"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Salvamento"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.autoSave,onChange:u=>r("autoSave",u.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Salvar automaticamente"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Idioma"}),e.jsxs("select",{value:n.language,onChange:u=>r("language",u.target.value),className:"settings-select",children:[e.jsx("option",{value:"pt-BR",children:"Portugu√™s"}),e.jsx("option",{value:"en-US",children:"English"}),e.jsx("option",{value:"es-ES",children:"Espa√±ol"})]})]})]}),e.jsxs("div",{className:"settings-footer",children:[e.jsx("button",{className:"settings-button secondary",onClick:p,children:"Restaurar Padr√µes"}),e.jsx("button",{className:"settings-button primary",onClick:o,children:"Salvar"})]})]})},Nt=({onNavigate:a,appName:t="Realidade Aumentada",version:n="1.0.0",description:s="Uma aplica√ß√£o inovadora de realidade aumentada desenvolvida com tecnologias modernas.",developer:r="Desenvolvedor AR"})=>{const o=()=>{a("cover")};return e.jsxs("div",{className:"about-screen",children:[e.jsxs("div",{className:"about-header",children:[e.jsx("button",{className:"about-back-button",onClick:o,children:"‚Üê Voltar"}),e.jsx("h1",{className:"about-title",children:"Sobre"})]}),e.jsxs("div",{className:"about-content",children:[e.jsxs("div",{className:"about-app-info",children:[e.jsx("h2",{className:"app-name",children:t}),e.jsxs("p",{className:"app-version",children:["Vers√£o ",n]}),e.jsx("p",{className:"app-description",children:s})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Desenvolvedor"}),e.jsx("p",{children:r})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Tecnologias"}),e.jsxs("ul",{className:"tech-list",children:[e.jsx("li",{children:"React 18"}),e.jsx("li",{children:"TypeScript"}),e.jsx("li",{children:"A-Frame"}),e.jsx("li",{children:"AR.js"}),e.jsx("li",{children:"Vite"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Funcionalidades"}),e.jsxs("ul",{className:"features-list",children:[e.jsx("li",{children:"Renderiza√ß√£o 3D em tempo real"}),e.jsx("li",{children:"Adi√ß√£o de objetos 3D"}),e.jsx("li",{children:"Captura de screenshots"}),e.jsx("li",{children:"Interface responsiva"}),e.jsx("li",{children:"Suporte a gestos"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Licen√ßa"}),e.jsx("p",{children:"MIT License - C√≥digo aberto"})]})]}),e.jsx("div",{className:"about-footer",children:e.jsx("button",{className:"about-button",onClick:o,children:"Voltar ao In√≠cio"})})]})},St=({onNavigate:a})=>{const t=()=>{a("cover")};return e.jsx("div",{className:"final-screen",children:e.jsxs("div",{className:"final-content",children:[e.jsxs("div",{className:"final-header",children:[e.jsx("div",{className:"final-icon",children:"üéâ"}),e.jsx("h1",{className:"final-title",children:"Parab√©ns!"}),e.jsx("p",{className:"final-subtitle",children:"Voc√™ completou a experi√™ncia de Realidade Aumentada"})]}),e.jsxs("div",{className:"final-body",children:[e.jsx("div",{className:"final-message",children:e.jsx("p",{children:"Esperamos que voc√™ tenha aproveitado essa jornada interativa!"})}),e.jsx("div",{className:"final-stats",children:e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-value",children:"‚úì"}),e.jsx("div",{className:"stat-label",children:"Experi√™ncia Completa"})]})})]}),e.jsx("div",{className:"final-footer",children:e.jsx("button",{className:"final-button primary",onClick:t,children:"Jogar Novamente"})})]})})},kt=()=>{const a=l.useRef(null),t=l.useRef(null),[n,s]=l.useState(!1),o=(()=>{var j,R;const m=((R=(j=import.meta)==null?void 0:j.env)==null?void 0:R.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),c=m&&m!=="/"?m.endsWith("/")?m:m+"/":"/";return c==="/"?"":c.endsWith("/")?c.slice(0,-1):c})(),p=m=>{if(o==="")return m.startsWith("/")?m:`/${m}`;const c=m.startsWith("/")?m.slice(1):m;return`${o}/${c}`},u=p("assets/images/selfie-top.png"),g=p("assets/images/selfie-bottom.png"),h=p("assets/images/camera-icon.png");l.useEffect(()=>{async function m(){try{let c=document.getElementById("selfie-video");if(c&&c.srcObject){c.classList.add("selfie-video-visible"),a.current=c;return}const j=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});c||(c=document.createElement("video"),c.setAttribute("id","selfie-video"),c.setAttribute("playsinline",""),c.setAttribute("autoplay",""),c.muted=!0,c.style.position="fixed",c.style.top="0",c.style.left="0",c.style.width="100vw",c.style.height="100vh",c.style.objectFit="cover",c.style.zIndex="0",c.classList.add("selfie-video-visible"),document.body.appendChild(c)),c.srcObject=j,t.current=j,a.current=c,await c.play()}catch(c){console.error("Erro ao inicializar c√¢mera:",c)}}return m(),()=>{}},[]);const d=()=>{if(!a.current||n)return;s(!0);const m=a.current,c=document.createElement("canvas");c.width=m.videoWidth||m.clientWidth,c.height=m.videoHeight||m.clientHeight;const j=c.getContext("2d");j?(j.drawImage(m,0,0,c.width,c.height),c.toBlob(R=>{if(R){const w=URL.createObjectURL(R),i=document.createElement("a");i.href=w,i.download=`selfie-${Date.now()}.png`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(w)}s(!1)},"image/png")):s(!1)};return e.jsxs("div",{className:"selfie-screen",children:[e.jsx("div",{className:"selfie-top-overlay",children:e.jsx("img",{src:u,alt:"Top",className:"selfie-top-img"})}),e.jsx("div",{className:"selfie-bottom-overlay",children:e.jsx("img",{src:g,alt:"Bottom",className:"selfie-bottom-img"})}),e.jsx("button",{className:"selfie-camera-button",onClick:d,disabled:n,style:{backgroundImage:`url(${h})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})};const At=({initialScreen:a="loading",appConfig:t,defaultTransition:n="zoom-out",defaultDirection:s="right"})=>{const[r,o]=l.useState(a||"loading"),[p,u]=l.useState(!1),[g,h]=l.useState(n),[d,m]=l.useState(s),[c,j]=l.useState(null);l.useEffect(()=>{console.log("üé¨ ScreenManager inicializado com tela:",r)},[]),l.useEffect(()=>{if(!p){const A=setTimeout(()=>{r!=="loading"&&j(null)},1e3);return()=>clearTimeout(A)}},[r,p]);const R=(A,v)=>{const P=["loading","cover","tutorial","ar","final","settings","about","selfie"],S=P.indexOf(A),L=P.indexOf(v);return L>S?"right":L<S?"left":"right"},w=(A,v,P)=>{const S=v||g,L=P||R(r,A);j(r),h(S),m(L);const E=r==="loading"?800:300;u(!0),setTimeout(()=>{o(A),u(!1)},E)},i=()=>{switch(r){case"loading":return e.jsx(ze,{onNavigate:w});case"cover":return e.jsx(mt,{onNavigate:w,title:t.title,subtitle:t.subtitle});case"tutorial":return e.jsx(ft,{onNavigate:w});case"ar":return e.jsx(Et,{onNavigate:w});case"final":return e.jsx(St,{onNavigate:w});case"settings":return e.jsx(Rt,{onNavigate:w});case"about":return e.jsx(Nt,{onNavigate:w});case"selfie":return e.jsx(kt,{onNavigate:w});default:return e.jsx(ze,{onNavigate:w})}},x=()=>{const A="screen-manager",v=`transition-${g}`,P=`direction-${d}`,S=p?"transitioning":"",L=c?`from-${c}`:"";return`${A} ${v} ${P} ${S} ${L}`.trim()};return e.jsx("div",{className:x(),children:i()})},It=l.createContext(void 0),Ft=({children:a})=>{const[t,n]=l.useState(null),[s,r]=l.useState(!0),[o,p]=l.useState(null),u=async()=>{var d,m;try{r(!0),p(null),console.log("üîÑ Carregando dados do RA...");const c=((m=(d=import.meta)==null?void 0:d.env)==null?void 0:m.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),R=`${c&&c!=="/"?c.endsWith("/")?c:c+"/":"/"}assets/data/ra.json`,w=await fetch(R);if(!w.ok)throw new Error(`Erro ao carregar dados: ${w.status}`);const i=await w.json();console.log("‚úÖ Dados do RA carregados:",i),n(i)}catch(c){const j=c instanceof Error?c.message:"Erro desconhecido";console.error("‚ùå Erro ao carregar dados do RA:",j),p(j)}finally{r(!1)}},g=()=>{u()};l.useEffect(()=>{u()},[]);const h={raData:t,loading:s,error:o,refreshData:g};return e.jsx(It.Provider,{value:h,children:a})},Pt=()=>{const[a,t]=l.useState(!1),n=()=>{const s=window.innerWidth,r=window.innerHeight,o=s>r,p=navigator.userAgent.toLowerCase(),u=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(p)||"ontouchstart"in window||navigator.maxTouchPoints>0,g=s<=768;u&&o||g&&o?(t(!0),document.body.style.overflow="hidden",document.body.style.touchAction="none"):(t(!1),document.body.style.overflow="",document.body.style.touchAction="")};return l.useEffect(()=>{n();let s,r;const o=()=>{clearTimeout(s),s=setTimeout(()=>{n()},100)},p=()=>{clearTimeout(r),r=setTimeout(()=>{n()},300)},u=()=>{clearTimeout(r),r=setTimeout(()=>{n()},300)},g=m=>{clearTimeout(r),r=setTimeout(()=>{n()},100)};window.addEventListener("resize",o),window.addEventListener("orientationchange",p),window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",u);const h=window.matchMedia("(orientation: landscape)");h.addEventListener("change",g);const d=setInterval(()=>{n()},2e3);return()=>{clearTimeout(s),clearTimeout(r),clearInterval(d),window.removeEventListener("resize",o),window.removeEventListener("orientationchange",p),window.screen&&window.screen.orientation&&window.screen.orientation.removeEventListener("change",u),h.removeEventListener("change",g),document.body.style.overflow="",document.body.style.touchAction=""}},[]),a?e.jsxs("div",{className:"landscape-blocker",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:999999999,color:"white",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px",boxSizing:"border-box",pointerEvents:"auto"},children:[e.jsx("div",{style:{width:"80px",height:"80px",marginBottom:"20px",fontSize:"60px",animation:"rotate 2s ease-in-out infinite"},children:"üì±"}),e.jsx("h2",{style:{margin:"0 0 10px 0",fontSize:"24px"},children:"Gire seu dispositivo"}),e.jsx("p",{style:{margin:"0",fontSize:"16px",opacity:.9},children:"Para uma melhor experi√™ncia de Realidade Aumentada, mantenha seu dispositivo na orienta√ß√£o retrato (vertical)."}),e.jsx("style",{children:`
          @keyframes rotate {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(90deg); }
          }
        `})]}):null};function Me(){const a={title:"Realidade Aumentada",subtitle:"Explore o mundo em 3D",version:"1.0.0",developer:"AR Developer"};return e.jsx(Ft,{children:e.jsxs("div",{className:"ar-app",children:[e.jsx(Pt,{}),e.jsx(At,{initialScreen:"loading",appConfig:a})]})})}De().then(()=>{console.log("Inicializa√ß√£o global completa, iniciando React..."),ge.createRoot(document.getElementById("root")).render(e.jsx(Te.StrictMode,{children:e.jsx(Me,{})}))}).catch(a=>{console.error("Erro na inicializa√ß√£o global:",a),ge.createRoot(document.getElementById("root")).render(e.jsx(Te.StrictMode,{children:e.jsx(Me,{})}))});
//# sourceMappingURL=index-cb39e18e.js.map
