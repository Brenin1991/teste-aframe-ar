import{r as l,a as Ke,R as Qe}from"./vendor-b1791c80.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const v of c.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&s(v)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var ze={exports:{}},fe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze=l,et=Symbol.for("react.element"),tt=Symbol.for("react.fragment"),nt=Object.prototype.hasOwnProperty,st=Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,at={key:!0,ref:!0,__self:!0,__source:!0};function $e(r,t,n){var s,a={},c=null,v=null;n!==void 0&&(c=""+n),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(v=t.ref);for(s in t)nt.call(t,s)&&!at.hasOwnProperty(s)&&(a[s]=t[s]);if(r&&r.defaultProps)for(s in t=r.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:et,type:r,key:c,ref:v,props:a,_owner:st.current}}fe.Fragment=tt;fe.jsx=$e;fe.jsxs=$e;ze.exports=fe;var e=ze.exports,Ee={},Pe=Ke;Ee.createRoot=Pe.createRoot,Ee.hydrateRoot=Pe.hydrateRoot;async function rt(){try{const r=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});let t=document.getElementById("arjs-video");return t||(t=document.createElement("video"),t.setAttribute("id","arjs-video"),t.setAttribute("playsinline",""),t.setAttribute("autoplay",""),t.muted=!0,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100vh",t.style.objectFit="cover",t.style.zIndex="0",t.style.display="none",t.style.visibility="hidden",t.style.opacity="0",document.body.appendChild(t)),t.srcObject=r,await t.play(),r}catch(r){return console.warn("Erro ao inicializar c√¢mera (ser√° tentado novamente na tela AR):",r),null}}async function ot(){if(!window.faceapi)return new Promise((r,t)=>{const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",n.onload=()=>{console.log("face-api.js carregado"),r()},n.onerror=()=>t(new Error("Failed to load face-api.js")),document.head.appendChild(n)})}async function it(){return new Promise(r=>{const t=()=>{if(typeof window<"u"&&window.AFRAME){console.log("A-Frame carregado");const n=document.createElement("a-scene");n.setAttribute("device-orientation-permission-ui","enabled: true"),n.setAttribute("vr-mode-ui","enabled: false"),n.style.position="fixed",n.style.top="-9999px",n.style.left="-9999px",n.style.width="1px",n.style.height="1px",n.style.zIndex="-1",document.body.appendChild(n),n.addEventListener("loaded",()=>{console.log("A-Frame scene carregada, modal de permiss√£o ativado"),r()});return}setTimeout(t,100)};typeof window<"u"&&window.AFRAME,t()})}const Te=({onNavigate:r,onLoadingComplete:t})=>{const[n,s]=l.useState(0),[a,c]=l.useState("Inicializando...");return l.useEffect(()=>((async()=>{const u=["/assets/images/bg-capa.png","/assets/images/header-capa.png","/assets/images/bottom-capa.png","/assets/images/btn-jogar.png","/assets/images/tutorial-panel.png","/assets/images/btn-comecar.png","/assets/images/sprites/nave.png","/assets/images/sprites/estrela.png","/assets/images/sprites/cometa.png","/assets/images/sprites/barra-progresso.png","/assets/images/sprites/contador.png","/assets/images/sprites/feedback-acerto.png","/assets/images/sprites/feedback-erro.png","/assets/images/modal-acerto.png","/assets/images/modal-erro.png","/assets/images/btn-registrar.png","/assets/images/btn-inicio.png","/assets/images/btn-voltar.png","/assets/images/Titulo.png","/assets/images/btJogar.png","/assets/images/btCreditos.png","/assets/images/SKY.jpg","/assets/images/mascara.png","/assets/data/ra.json"],p=(()=>{var o,w;const d=((w=(o=import.meta)==null?void 0:o.env)==null?void 0:w.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/");return d&&d!=="/"?d.endsWith("/")?d:d+"/":"/"})();try{c("Inicializando A-Frame..."),await it(),await new Promise(d=>setTimeout(d,500)),c("Solicitando permiss√£o da c√¢mera..."),await rt(),c("Carregando face-api.js..."),await ot(),c("Carregando imagens...");for(let d=0;d<u.length;d++){const m=u[d],o=`${p}${m.startsWith("/")?m.slice(1):m}`;if(m.endsWith(".json"))try{if(!(await fetch(o)).ok)throw new Error(`Failed to load ${m}`)}catch(S){console.warn(`Failed to load ${m}:`,S)}else await new Promise(S=>{const j=new Image;j.onload=()=>S(j),j.onerror=()=>{console.warn(`Failed to load image: ${o}`),S(null)},j.src=o});const w=Math.round((d+1)/u.length*100);s(w)}c("Finalizando..."),await new Promise(d=>setTimeout(d,300)),s(100),c("Conclu√≠do!"),await new Promise(d=>setTimeout(d,200)),t==null||t(),r("cover","fade")}catch(d){console.error("Erro ao carregar recursos:",d),c("Erro ao carregar. Continuando..."),setTimeout(()=>{r("cover")},1e3)}})(),()=>{}),[r,t]),e.jsx("div",{className:"loading-screen",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("div",{className:"loading-logo",children:e.jsx("div",{className:"loading-spinner"})}),e.jsx("h2",{className:"loading-title",children:"Carregando"}),e.jsxs("div",{className:"loading-progress-container",children:[e.jsx("div",{className:"loading-progress-bar",children:e.jsx("div",{className:"loading-progress-fill",style:{width:`${n}%`}})}),e.jsxs("p",{className:"loading-percentage",children:[n,"%"]})]}),e.jsx("p",{className:"loading-status",children:a})]})})},ct=({onNavigate:r,backgroundImage:t})=>{const s=(()=>{var m,o;const p=((o=(m=import.meta)==null?void 0:m.env)==null?void 0:o.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),d=p&&p!=="/"?p.endsWith("/")?p:p+"/":"/";return d==="/"?"":d.endsWith("/")?d.slice(0,-1):d})(),a=p=>{if(s==="")return p.startsWith("/")?p:`/${p}`;const d=p.startsWith("/")?p.slice(1):p;return`${s}/${d}`},c=t||a("assets/images/bg-capa.png"),v=a("assets/images/header-capa.png"),u=a("assets/images/bottom-capa.png"),h=a("assets/images/btn-jogar.png");return e.jsxs("div",{className:"cover-screen",style:{backgroundImage:`url("${c}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"cover-header-image",children:e.jsx("img",{src:v,alt:"Header",className:"cover-header-img"})}),e.jsx("div",{className:"cover-content",children:e.jsx("button",{className:"cover-button-jogar",onClick:()=>r("tutorial"),style:{backgroundImage:`url(${h})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})}),e.jsx("div",{className:"cover-bottom-image",children:e.jsx("img",{src:u,alt:"Bottom",className:"cover-bottom-img"})})]})},lt=({onNavigate:r})=>{const n=(()=>{var p,d;const u=((d=(p=import.meta)==null?void 0:p.env)==null?void 0:d.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),h=u&&u!=="/"?u.endsWith("/")?u:u+"/":"/";return h==="/"?"":h.endsWith("/")?h.slice(0,-1):h})(),s=u=>{if(n==="")return u.startsWith("/")?u:`/${u}`;const h=u.startsWith("/")?u.slice(1):u;return`${n}/${h}`},a=s("assets/images/bg-capa.png"),c=s("assets/images/tutorial-panel.png"),v=s("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${a}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:c,alt:"Tutorial Panel",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>r("ar"),style:{backgroundImage:`url("${v}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})},dt=({enabled:r})=>{const t=l.useRef(null),n=l.useRef(null),s=l.useRef(!1),a=l.useRef({x:0,y:0,z:0}),c=l.useRef({x:0,y:1,z:-1.2}),v=l.useRef(null),u=l.useRef(!1),h=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return l.useEffect(()=>{function p(){if(!t.current){const f=document.createElement("canvas");f.id="face-tracker-overlay",f.style.position="fixed",f.style.top="0",f.style.left="0",f.style.width="100vw",f.style.height="100vh",f.style.pointerEvents="none",f.style.zIndex="9999",document.body.appendChild(f),t.current=f}}function d(){t.current&&t.current.parentNode&&(t.current.parentNode.removeChild(t.current),t.current=null)}async function m(){window.faceapi||(await new Promise((f,x)=>{const N=document.createElement("script");N.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",N.onload=()=>f(),N.onerror=()=>x(new Error("Falha ao carregar face-api.js")),document.head.appendChild(N)}),console.log("face-api.js carregado"))}async function o(){if(s.current)return;const f=window.faceapi,x="https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights";h?await Promise.all([f.nets.tinyFaceDetector.loadFromUri(x),f.nets.faceLandmark68Net.loadFromUri(x)]):await Promise.all([f.nets.tinyFaceDetector.loadFromUri(x),f.nets.faceLandmark68Net.loadFromUri(x),f.nets.faceExpressionNet.loadFromUri(x)]),s.current=!0,console.log("Modelos de face-api carregados")}function w(){var J,B;if(u.current)return;const f=((B=(J=import.meta)==null?void 0:J.env)==null?void 0:B.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),x=L=>{if(!f||f==="/")return L.startsWith("/")?L:`/${L}`;const C=f.endsWith("/")?f:f+"/";return L.startsWith("/")?C+L.replace(/^\//,""):C+L},O=["assets/images/mascara.png","images/mascara.png","mascara.png"].map(x),b=!f||f==="/"?["/mascara.png","/assets/images/mascara.png","/images/mascara.png"]:[],T=[...O,...b];let z=0;const M=new Image,_=()=>{if(z>=T.length){console.warn("N√£o foi poss√≠vel carregar mascara.png de nenhum caminho:",T);return}const L=T[z++]+`?v=${Date.now()}`;M.src=L,console.log("BASE_URL resolvido:",f,"| Tentando m√°scara em:",L)};M.onload=()=>{u.current=!0,v.current=M,console.log("M√°scara carregada em:",M.src)},M.onerror=()=>{_()},v.current=M,_()}function S(f){const x=h?1:Math.max(1,window.devicePixelRatio||1);f.width=Math.floor(window.innerWidth*x),f.height=Math.floor(window.innerHeight*x);const N=f.getContext("2d");N&&N.setTransform(x,0,0,x,0,0)}async function j(){p(),await m(),await o(),w();const f=()=>new Promise((_,J)=>{let B=!1;const L=setTimeout(()=>{B||J(new Error("Timeout aguardando v√≠deo da c√¢mera"))},15e3),C=P=>{if(!P)return!1;const D=!!P.srcObject;return(P.readyState>=2||!P.paused&&P.currentTime>0)&&D?(B=!0,clearTimeout(L),P.removeEventListener("playing",A),U.disconnect(),_(P),!0):!1},A=P=>{const D=P.target;C(D)},U=new MutationObserver(()=>{const P=document.getElementById("arjs-video");C(P)||P&&P.addEventListener("playing",A,{once:!0})});U.observe(document.body,{childList:!0,subtree:!0});const H=document.getElementById("arjs-video");C(H)||H&&H.addEventListener("playing",A,{once:!0})});let x;try{x=await f()}catch(_){console.warn("FaceTracker: v√≠deo n√£o dispon√≠vel a tempo",_);return}const N=t.current;if(!x||!N)return;const O=window.faceapi,b=N.getContext("2d");function T(){N&&S(N)}T(),window.addEventListener("resize",T);const z=async()=>{try{if(!r)return;if(!x.videoWidth){M();return}if(h&&x.paused){const C=()=>{x.muted=!0,x.play().catch(()=>{}),window.removeEventListener("touchstart",C),window.removeEventListener("click",C)};window.addEventListener("touchstart",C,{passive:!0}),window.addEventListener("click",C)}const _=(getComputedStyle(x).transform||"").includes("matrix(-1")||(x.style.transform||"").includes("scaleX(-1)"),J=new O.TinyFaceDetectorOptions({inputSize:h?160:224,scoreThreshold:h?.35:.5});let B=window.faceapi.detectAllFaces(x,J).withFaceLandmarks();!h&&window.faceapi.nets.faceExpressionNet.isLoaded&&(B=B.withFaceExpressions());const L=await B;if(b){b.clearRect(0,0,N.width,N.height),h||(b.fillStyle="rgba(78,205,196,0.8)",b.beginPath(),b.arc(16,16,6,0,Math.PI*2),b.fill(),b.font="12px Arial",b.fillText(`faces: ${(L==null?void 0:L.length)||0}`,30,20));const C=h?1:Math.max(1,window.devicePixelRatio||1),A=N.width/C,U=N.height/C,H=A/x.videoWidth,P=U/x.videoHeight,D=(g,i=0)=>{const E=g*H;return _?A-(E+i):E},ee=g=>g*P,se=(g,i,E,F)=>{if(h)return;const R=D(g),y=ee(i);b.fillStyle=F,b.beginPath(),b.arc(R,y,4,0,Math.PI*2),b.fill(),b.fillStyle=F,b.fillText(E,R+6,y-6)};L&&L.length?L.forEach(g=>{var le;const i=g.detection.box,E=i.width*H,F=D(i.x,E),R=ee(i.y),y=E,I=i.height*P;if(h||(b.strokeStyle="#4ECDC4",b.lineWidth=3,b.strokeRect(F,R,y,I)),!h&&g.expressions){const W=g.expressions||{},de=Object.entries(W);if(de.length){const[ge,ue]=de.reduce((Y,X)=>Y[1]>X[1]?Y:X),ae=`${ge} ${(ue*100).toFixed(0)}%`;b.font="12px Arial";const K=b.measureText(ae).width+12;b.fillStyle="rgba(0,0,0,0.6)",b.fillRect(F,Math.max(0,R-22),K,20),b.fillStyle="#FFFFFF",b.fillText(ae,F+6,Math.max(12,R-8))}}const $=((le=g.landmarks)==null?void 0:le.positions)||[];if($.length===68){const W=$[30],de=[36,37,38,39,40,41],ge=[42,43,44,45,46,47],ue=q=>q.reduce((V,ce)=>V+ce,0)/q.length,ae=q=>({x:ue(q.map(V=>$[V].x)),y:ue(q.map(V=>$[V].y))}),K=ae(de),Y=ae(ge);h||(se(W.x,W.y,"nose","#00E5A8"),se(K.x,K.y,"eye-L","#EF476F"),se(Y.x,Y.y,"eye-R","#EF476F"));const X={x:(K.x+Y.x)/2,y:(K.y+Y.y)/2},Se={x:D(X.x),y:ee(X.y)},ke=Y.x-K.x,Ae=Y.y-K.y;let re=Math.atan2(Ae,ke)*180/Math.PI;const Fe=Math.hypot(ke,Ae)||1;let oe=(W.x-X.x)/Fe*60,he=-(W.y-X.y)/Fe*50;_&&(oe=-oe,re=-re);const pe=(q,V,ce)=>Math.max(V,Math.min(ce,q));oe=pe(oe,-60,60),he=pe(he,-50,50),re=pe(re,-45,45);const Ve=D(X.x),He=ee(X.y)+I*.1,Ye=Ve/A,Xe=He/U;window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:Ye,y:Xe,detected:!0}}));const ve=.25,te=a.current,Q={x:te.x+(he-te.x)*ve,y:te.y+(oe-te.y)*ve,z:te.z+(re-te.z)*ve};a.current=Q;const xe=document.getElementById("camera"),ie=document.getElementById("head-cube");if(xe&&ie){const q=xe.getObject3D&&xe.getObject3D("camera");if(q&&window.THREE){const V=window.THREE,ce=Se.x/A*2-1,Ge=-(Se.y/U*2-1),Je=1.2,be=new V.Vector3,Ie=new V.Vector3,Le=new V.Vector3(ce,Ge,.5);Le.unproject(q),be.copy(q.position),Ie.copy(Le).sub(be).normalize();const ye=be.clone().add(Ie.multiplyScalar(Je)),we=.35,ne=c.current,me={x:ne.x+(ye.x-ne.x)*we,y:ne.y+(ye.y-ne.y)*we,z:ne.z+(ye.z-ne.z)*we};c.current=me,ie.setAttribute("position",`${me.x.toFixed(3)} ${me.y.toFixed(3)} ${me.z.toFixed(3)}`),ie.setAttribute("rotation",`${Q.x.toFixed(2)} ${Q.y.toFixed(2)} ${Q.z.toFixed(2)}`)}else ie.setAttribute&&ie.setAttribute("rotation",`${Q.x.toFixed(2)} ${Q.y.toFixed(2)} ${Q.z.toFixed(2)}`)}}}):(window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:.5,y:.5,detected:!1}})),h||(b.strokeStyle="rgba(255,107,107,0.8)",b.lineWidth=2,b.strokeRect(10,10,100,60)))}}catch(_){console.error("FaceTracker detect error:",_)}M()},M=()=>{h?setTimeout(()=>{n.current=requestAnimationFrame(z)},80):n.current=requestAnimationFrame(z)};return n.current=requestAnimationFrame(z),()=>{window.removeEventListener("resize",T)}}let k;if(r)j().then(f=>{k=f}).catch(f=>{console.error("FaceTracker start error:",f)});else if(n.current&&(cancelAnimationFrame(n.current),n.current=null),t.current){const f=t.current.getContext("2d");f&&f.clearRect(0,0,t.current.width,t.current.height)}return()=>{n.current&&(cancelAnimationFrame(n.current),n.current=null),k&&k(),d()}},[r]),null};var Z={},G;Object.defineProperty(Z,"__esModule",{value:!0});var Me=Z.Scene=G=Z.Entity=Z.options=void 0,ut=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},mt=function(){function r(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&r(t.prototype,n),s&&r(t,s),t}}(),ft=l,Ce=gt(ft);function gt(r){return r&&r.__esModule?r:{default:r}}function _e(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(r,t){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:r}function Be(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(r,t):r.__proto__=t)}var ht=["children","events","primitive"],Ue=function(t){return ht.indexOf(t)===-1},De={runSetAttributeOnUpdates:!0};Z.options=De;function pt(r,t,n){if(n==="className")r.setAttribute("class",t.className);else{if(t[n]&&t[n].constructor===Function)return;r.setAttribute(n,t[n])}}function Oe(r,t,n){var s;if(!(!n||t===n)){for(s in n)Ue(s)&&pt(r,n,s);if(t)for(s in t)Ue(s)&&n[s]===void 0&&r.removeAttribute(s)}}var vt=G=Z.Entity=function(r){Be(t,r);function t(){var n,s,a,c;_e(this,t);for(var v=arguments.length,u=Array(v),h=0;h<v;h++)u[h]=arguments[h];return c=(s=(a=Re(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(u))),a),a.initEntity=function(p){var d=a.props,m;if(p){if(a.el=p,d.events)for(m in d.events)We(p,m,d.events[m]);Oe(p,null,d),d._ref&&d._ref(p)}},s),Re(a,c)}return mt(t,[{key:"componentDidUpdate",value:function(s,a){var c=this.el,v=this.props;xt(c,s.events,v.events),De.runSetAttributeOnUpdates&&Oe(c,s,v)}},{key:"componentWillUnmount",value:function(){var s=this.el,a=this.props,c;if(a.events)for(c in a.events)Ne(s,c,a.events[c])}},{key:"render",value:function(){var s=this.props,a=this.isScene?"a-scene":s.primitive||"a-entity",c,v={};for(c in s)(["className","id","mixin"].indexOf(c)!==-1||c.indexOf("data-")===0)&&(v[c]=s[c]);return Ce.default.createElement(a,ut({ref:this.initEntity},v),s.children)}}]),t}(Ce.default.Component);Me=Z.Scene=function(r){Be(t,r);function t(n){_e(this,t);var s=Re(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return s.isScene=!0,s}return t}(vt);function xt(r,t,n){var s;if(!(!t||!n||t===n)){for(s in n)t[s]!==n[s]&&(t[s]&&Ne(r,s,t[s]),We(r,s,n[s]));for(s in t)n[s]||Ne(r,s,t[s])}}function We(r,t,n){var s;if(n)for(n.constructor===Function&&(n=[n]),s=0;s<n.length;s++)r.addEventListener(t,n[s])}function Ne(r,t,n){var s;if(n)for(n.constructor===Function&&(n=[n]),s=0;s<n.length;s++)r.removeEventListener(t,n[s])}const qe=l.forwardRef(({className:r="",onSceneReady:t,cameraFacing:n="environment"},s)=>{const a=l.useRef(null),[c,v]=l.useState([]),[u,h]=l.useState(!1);l.useEffect(()=>{const d=()=>{typeof window<"u"&&window.AFRAME?(h(!0),t&&t(),requestAnimationFrame(()=>{const m=document.querySelector(".a-enter-vr-button");m&&(m.style.display="none",m.style.visibility="hidden",m.style.pointerEvents="none"),setTimeout(()=>{const o=document.querySelector("a-scene"),w=document.querySelector("#camera");if(o&&w){console.log("A-Frame scene e camera prontos");const S=w.components["look-controls"];if(S&&(console.log("look-controls encontrado"),S.setAttribute("magicWindowTrackingEnabled",!0),console.log("magicWindowTrackingEnabled for√ßado para true")),typeof DeviceOrientationEvent<"u"){console.log("DeviceOrientationEvent dispon√≠vel");const j=k=>{console.log("DeviceOrientation event recebido:",{alpha:k.alpha,beta:k.beta,gamma:k.gamma})};if(window.addEventListener("deviceorientation",j),DeviceOrientationEvent.requestPermission){console.log("Solicitando permiss√£o de orienta√ß√£o...");const k=async()=>{try{await DeviceOrientationEvent.requestPermission()==="granted"?console.log("Permiss√£o de orienta√ß√£o concedida!"):console.warn("Permiss√£o de orienta√ß√£o negada")}catch(x){console.warn("Erro ao solicitar permiss√£o:",x)}},f=()=>{k(),document.removeEventListener("touchstart",f),document.removeEventListener("click",f)};document.addEventListener("touchstart",f,{once:!0}),document.addEventListener("click",f,{once:!0})}}}},1500)})):setTimeout(d,100)};d()},[t]),l.useImperativeHandle(s,()=>({addEntity:d=>{const m=`entity-${Date.now()}`;return v(o=>[...o,{id:m,data:d}]),m},removeEntity:d=>{v(m=>m.filter(o=>o.id!==d))},getScene:()=>typeof window<"u"&&window.AFRAME&&document.querySelector("a-scene")||a.current,captureScreenshot:()=>{if(typeof window<"u"&&window.AFRAME){const d=document.querySelector("a-scene");if(d){const m=d.renderer;if(m&&m.domElement)return m.domElement.toDataURL("image/png")}}return""},setCameraFacing:d=>{console.log("Camera facing changed to:",d)}}),[]);const p={embedded:!0,"vr-mode-ui":"enabled: false","device-orientation-permission-ui":"enabled: true",renderer:"alpha: true; antialias: true; colorManagement: true; physicallyCorrectLights: false; sortObjects: true; logarithmicDepthBuffer: false; precision: mediump;",webxr:"enabled: false",background:"transparent: true",stats:"false"};return e.jsxs("div",{className:`ar-scene-aframe ${r}`,style:{width:"100%",height:"100%",position:"relative",zIndex:1},children:[u&&e.jsxs(Me,{...p,children:[e.jsx(G,{primitive:"a-assets",children:e.jsx("img",{id:"skyTexture",src:"/teste-aframe-ar/assets/images/SKY.jpg",crossOrigin:"anonymous"})}),e.jsx(G,{primitive:"a-sky",rotation:"0 -90 0",material:{src:"#skyTexture",opacity:.5,transparent:!0}}),e.jsx(G,{id:"camera",camera:{active:!0},lookControls:{enabled:!0,reverseMouseDrag:!1,touchEnabled:!0,magicWindowTrackingEnabled:!0,pointerLockEnabled:!1,touchSensitivity:1,mouseSensitivity:1},wasdControls:{enabled:!1},position:"0 1.6 0"}),e.jsx(G,{light:{type:"ambient",color:"#888"}}),e.jsx(G,{light:{type:"directional",color:"#fff",intensity:.6},position:"1 1 1"}),c.map(d=>e.jsx(G,{...d.data},d.id)),e.jsx(G,{id:"head-cube",geometry:{primitive:"box",width:.3,height:.3,depth:.3},material:{color:"#FF6B6B",opacity:.9,transparent:!0},position:"0 1 -1.2",rotation:"0 0 0"}),!1]}),!u&&e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#fff"},children:"Carregando A-Frame..."})]})});qe.displayName="ARSceneAFrame";const bt=({onNavigate:r})=>{const t=l.useRef(null),n=l.useRef(null),[s,a]=l.useState(0),[c,v]=l.useState(60),[u,h]=l.useState(!1),[p,d]=l.useState(!1),[m,o]=l.useState(0),[w,S]=l.useState(null),[j,k]=l.useState(!0),[f,x]=l.useState(null),[N,O]=l.useState(!1),[b,T]=l.useState(null),z=l.useRef([]),M=l.useRef({x:.5,y:.5}),_=l.useRef(!1),J=l.useRef(null),B=l.useRef(null);l.useEffect(()=>{async function g(){try{let i=document.getElementById("arjs-video");if(i&&i.srcObject){i.classList.add("ar-video-visible"),await new Promise(R=>{const y=()=>{document.getElementById("face-tracker-overlay")||i.readyState>=2?R():setTimeout(y,100)};y()}),k(!1);return}const E=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});i||(i=document.createElement("video"),i.setAttribute("id","arjs-video"),i.setAttribute("playsinline",""),i.setAttribute("autoplay",""),i.muted=!0,i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100vw",i.style.height="100vh",i.style.objectFit="cover",i.style.zIndex="0",i.classList.add("ar-video-visible"),document.body.appendChild(i)),i.srcObject&&i.srcObject.getTracks().forEach(y=>y.stop()),i.srcObject=E,B.current=E,J.current=i,await(async()=>{try{i.readyState>=2?await i.play():await new Promise((R,y)=>{const I=()=>{i.removeEventListener("loadedmetadata",I),i.removeEventListener("error",$),i.play().then(R).catch(y)},$=()=>{i.removeEventListener("loadedmetadata",I),i.removeEventListener("error",$),y(new Error("Video load error"))};i.addEventListener("loadedmetadata",I,{once:!0}),i.addEventListener("error",$,{once:!0}),i.readyState>=1&&i.play().then(R).catch(y)})}catch(R){if(i.paused===!1)return;console.warn("Erro ao dar play no v√≠deo:",R)}})(),await new Promise(R=>{const y=()=>{document.getElementById("face-tracker-overlay")||i.readyState>=2?R():setTimeout(y,100)};y()}),k(!1)}catch(i){console.error("Erro ao inicializar c√¢mera:",i),k(!1)}}return g(),()=>{}},[]),l.useEffect(()=>{!j&&!u&&f===null&&x(3)},[j,u,f]),l.useEffect(()=>{if(f===null||f<=0){f===0&&setTimeout(()=>{x(null),h(!0)},500);return}const g=setTimeout(()=>{x(f-1)},1e3);return()=>clearTimeout(g)},[f]);const C=(()=>{var E,F;const g=((F=(E=import.meta)==null?void 0:E.env)==null?void 0:F.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),i=g&&g!=="/"?g.endsWith("/")?g:g+"/":"/";return i==="/"?"":i.endsWith("/")?i.slice(0,-1):i})(),A=g=>{if(C==="")return g.startsWith("/")?g:`/${g}`;const i=g.startsWith("/")?g.slice(1):g;return`${C}/${i}`},U={nave:A("assets/images/sprites/nave.png"),estrela:A("assets/images/sprites/estrela.png"),cometa:A("assets/images/sprites/cometa.png"),barraProgresso:A("assets/images/sprites/barra-progresso.png"),contador:A("assets/images/sprites/contador.png"),feedbackAcerto:A("assets/images/sprites/feedback-acerto.png"),feedbackErro:A("assets/images/sprites/feedback-erro.png"),modalAcerto:A("assets/images/modal-acerto.png"),modalErro:A("assets/images/modal-erro.png"),btnRegistrar:A("assets/images/btn-registrar.png"),btnInicio:A("assets/images/btn-inicio.png"),btnVoltar:A("assets/images/btn-voltar.png")},H=l.useRef({});l.useEffect(()=>{(async()=>{const i=Object.entries(U).map(([E,F])=>new Promise(R=>{const y=new Image;y.onload=()=>{H.current[E]=y,R()},y.onerror=()=>{console.warn(`Failed to load image: ${F}`),R()},y.src=F}));await Promise.all(i)})()},[]),l.useEffect(()=>{if(!u||p)return;const g=setInterval(()=>{v(i=>i<=1?(d(!0),0):i-1)},1e3);return()=>clearInterval(g)},[u,p]),l.useEffect(()=>{const g=i=>{const{x:E,y:F,detected:R}=i.detail;_.current=R,R&&(M.current={x:E,y:F})};return window.addEventListener("nave-position",g),()=>{window.removeEventListener("nave-position",g)}},[]);const P=l.useCallback(()=>{const g=Math.random()>.5?"star":"comet",i={id:Math.random().toString(36).substr(2,9),type:g,x:Math.random()*.8+.1,y:-.1,speed:.0035+Math.random()*.003};z.current.push(i)},[]);l.useEffect(()=>{if(!u||p)return;const g=setInterval(()=>{P()},1e3);return()=>clearInterval(g)},[u,p,P]);const D=l.useCallback(()=>{const g=M.current,i=.08;z.current=z.current.filter(E=>{const F=E.x-g.x,R=E.y-g.y;return Math.sqrt(F*F+R*R)<i+.03?(E.type==="star"?(a(I=>I+10),o(I=>Math.min(100,I+5)),S("acerto"),setTimeout(()=>S(null),500)):(a(I=>Math.max(0,I-5)),o(I=>Math.max(0,I-5)),S("erro"),setTimeout(()=>S(null),500)),!1):!(E.y>1.1)})},[]);l.useEffect(()=>{if(!u||p)return;const g=t.current;if(!g)return;const i=g.getContext("2d");if(!i)return;const E=()=>{g.width=window.innerWidth,g.height=window.innerHeight};E(),window.addEventListener("resize",E);const F=()=>{i.clearRect(0,0,g.width,g.height),z.current.forEach(y=>{y.y+=y.speed});const R=H.current.nave;if(R){const y=M.current.x*g.width,I=M.current.y*g.height,$=g.width*.25;i.drawImage(R,y-$/2,I-$/2,$,$)}z.current.forEach(y=>{const I=H.current[y.type==="star"?"estrela":"cometa"];if(I){const $=y.x*g.width,le=y.y*g.height,W=g.width*.12;i.drawImage(I,$-W/2,le-W/2,W,W)}}),D(),n.current=requestAnimationFrame(F)};return F(),()=>{window.removeEventListener("resize",E),n.current&&cancelAnimationFrame(n.current)}},[u,p,D]),l.useEffect(()=>{if(p&&c===0&&!N){const g=m>=50;T(g?"acerto":"erro"),setTimeout(()=>{O(!0)},1e3)}},[p,c,m,N]);const ee=()=>{O(!1),T(null),a(0),v(60),o(0),S(null),d(!1),h(!1),z.current=[],x(3)},se=g=>{const i=Math.floor(g/60),E=g%60;return`${i}:${E.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"ar-game-screen",children:[j&&e.jsx("div",{className:"ar-loading-overlay",children:e.jsxs("div",{className:"ar-loading-content",children:[e.jsx("div",{className:"ar-loading-spinner"}),e.jsx("p",{className:"ar-loading-text",children:"Preparando AR..."})]})}),f!==null&&e.jsx("div",{className:"ar-countdown-overlay",children:e.jsx("div",{className:"ar-countdown-content",children:f>0?e.jsx("div",{className:"ar-countdown-number",children:f}):e.jsx("div",{className:"ar-countdown-go",children:"Vai!"})})}),e.jsx(qe,{cameraFacing:"user"}),e.jsx("canvas",{ref:t,className:"ar-game-canvas"}),e.jsx(dt,{enabled:!0}),e.jsxs("div",{className:"ar-timer-container",children:[e.jsx("img",{src:U.contador,alt:"Timer",className:"ar-timer-bg"}),e.jsx("div",{className:"ar-timer-text",children:se(c)})]}),e.jsxs("div",{className:"ar-progress-container",children:[e.jsx("img",{src:U.barraProgresso,alt:"Progress Bar",className:"ar-progress-bg"}),e.jsx("div",{className:"ar-progress-fill",style:{width:`${m}%`}})]}),w&&e.jsx("div",{className:`ar-feedback ar-feedback-${w}`,children:e.jsx("img",{src:w==="acerto"?U.feedbackAcerto:U.feedbackErro,alt:w,className:"ar-feedback-image"})}),e.jsxs("div",{className:"ar-score",children:["Pontos: ",s]}),N&&b&&e.jsx("div",{className:"ar-result-modal-overlay",children:e.jsxs("div",{className:"ar-result-modal-content",children:[e.jsx("img",{src:b==="acerto"?U.modalAcerto:U.modalErro,alt:b==="acerto"?"Acerto":"Erro",className:"ar-result-modal-image"}),b==="acerto"&&e.jsxs("div",{className:"ar-result-modal-buttons",children:[e.jsx("button",{className:"ar-result-button ar-result-button-registrar",onClick:()=>{O(!1),r("selfie")},style:{backgroundImage:`url(${U.btnRegistrar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"ar-result-button ar-result-button-inicio",onClick:()=>{O(!1),r("cover")},style:{backgroundImage:`url(${U.btnInicio})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}),b==="erro"&&e.jsx("div",{className:"ar-result-modal-buttons",children:e.jsx("button",{className:"ar-result-button ar-result-button-voltar",onClick:()=>{ee()},style:{backgroundImage:`url(${U.btnVoltar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})})]})},je={quality:"high",enableSound:!0,enableVibration:!0,autoSave:!0,language:"pt-BR"},yt=({onNavigate:r,onSettingsChange:t})=>{const[n,s]=l.useState(je),a=(u,h)=>{const p={...n,[u]:h};s(p),t==null||t(p)},c=()=>{r("ar")},v=()=>{s(je),t==null||t(je)};return e.jsxs("div",{className:"settings-screen",children:[e.jsxs("div",{className:"settings-header",children:[e.jsx("button",{className:"settings-back-button",onClick:c,children:"‚Üê Voltar"}),e.jsx("h1",{className:"settings-title",children:"Configura√ß√µes"})]}),e.jsxs("div",{className:"settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Qualidade"}),e.jsxs("select",{value:n.quality,onChange:u=>a("quality",u.target.value),className:"settings-select",children:[e.jsx("option",{value:"low",children:"Baixa"}),e.jsx("option",{value:"medium",children:"M√©dia"}),e.jsx("option",{value:"high",children:"Alta"})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Som"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:u=>a("enableSound",u.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar som"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Vibra√ß√£o"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableVibration,onChange:u=>a("enableVibration",u.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar vibra√ß√£o"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Salvamento"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.autoSave,onChange:u=>a("autoSave",u.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Salvar automaticamente"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Idioma"}),e.jsxs("select",{value:n.language,onChange:u=>a("language",u.target.value),className:"settings-select",children:[e.jsx("option",{value:"pt-BR",children:"Portugu√™s"}),e.jsx("option",{value:"en-US",children:"English"}),e.jsx("option",{value:"es-ES",children:"Espa√±ol"})]})]})]}),e.jsxs("div",{className:"settings-footer",children:[e.jsx("button",{className:"settings-button secondary",onClick:v,children:"Restaurar Padr√µes"}),e.jsx("button",{className:"settings-button primary",onClick:c,children:"Salvar"})]})]})},wt=({onNavigate:r,appName:t="Realidade Aumentada",version:n="1.0.0",description:s="Uma aplica√ß√£o inovadora de realidade aumentada desenvolvida com tecnologias modernas.",developer:a="Desenvolvedor AR"})=>{const c=()=>{r("cover")};return e.jsxs("div",{className:"about-screen",children:[e.jsxs("div",{className:"about-header",children:[e.jsx("button",{className:"about-back-button",onClick:c,children:"‚Üê Voltar"}),e.jsx("h1",{className:"about-title",children:"Sobre"})]}),e.jsxs("div",{className:"about-content",children:[e.jsxs("div",{className:"about-app-info",children:[e.jsx("h2",{className:"app-name",children:t}),e.jsxs("p",{className:"app-version",children:["Vers√£o ",n]}),e.jsx("p",{className:"app-description",children:s})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Desenvolvedor"}),e.jsx("p",{children:a})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Tecnologias"}),e.jsxs("ul",{className:"tech-list",children:[e.jsx("li",{children:"React 18"}),e.jsx("li",{children:"TypeScript"}),e.jsx("li",{children:"A-Frame"}),e.jsx("li",{children:"AR.js"}),e.jsx("li",{children:"Vite"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Funcionalidades"}),e.jsxs("ul",{className:"features-list",children:[e.jsx("li",{children:"Renderiza√ß√£o 3D em tempo real"}),e.jsx("li",{children:"Adi√ß√£o de objetos 3D"}),e.jsx("li",{children:"Captura de screenshots"}),e.jsx("li",{children:"Interface responsiva"}),e.jsx("li",{children:"Suporte a gestos"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Licen√ßa"}),e.jsx("p",{children:"MIT License - C√≥digo aberto"})]})]}),e.jsx("div",{className:"about-footer",children:e.jsx("button",{className:"about-button",onClick:c,children:"Voltar ao In√≠cio"})})]})},jt=({onNavigate:r})=>{const t=()=>{r("cover")};return e.jsx("div",{className:"final-screen",children:e.jsxs("div",{className:"final-content",children:[e.jsxs("div",{className:"final-header",children:[e.jsx("div",{className:"final-icon",children:"üéâ"}),e.jsx("h1",{className:"final-title",children:"Parab√©ns!"}),e.jsx("p",{className:"final-subtitle",children:"Voc√™ completou a experi√™ncia de Realidade Aumentada"})]}),e.jsxs("div",{className:"final-body",children:[e.jsx("div",{className:"final-message",children:e.jsx("p",{children:"Esperamos que voc√™ tenha aproveitado essa jornada interativa!"})}),e.jsx("div",{className:"final-stats",children:e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-value",children:"‚úì"}),e.jsx("div",{className:"stat-label",children:"Experi√™ncia Completa"})]})})]}),e.jsx("div",{className:"final-footer",children:e.jsx("button",{className:"final-button primary",onClick:t,children:"Jogar Novamente"})})]})})},Et=()=>{const r=l.useRef(null),t=l.useRef(null),[n,s]=l.useState(!1),c=(()=>{var w,S;const m=((S=(w=import.meta)==null?void 0:w.env)==null?void 0:S.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),o=m&&m!=="/"?m.endsWith("/")?m:m+"/":"/";return o==="/"?"":o.endsWith("/")?o.slice(0,-1):o})(),v=m=>{if(c==="")return m.startsWith("/")?m:`/${m}`;const o=m.startsWith("/")?m.slice(1):m;return`${c}/${o}`},u=v("assets/images/selfie-top.png"),h=v("assets/images/selfie-bottom.png"),p=v("assets/images/camera-icon.png");l.useEffect(()=>{async function m(){try{let o=document.getElementById("selfie-video");if(o&&o.srcObject){o.classList.add("selfie-video-visible"),r.current=o;return}const w=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});o||(o=document.createElement("video"),o.setAttribute("id","selfie-video"),o.setAttribute("playsinline",""),o.setAttribute("autoplay",""),o.muted=!0,o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100vw",o.style.height="100vh",o.style.objectFit="cover",o.style.zIndex="0",o.classList.add("selfie-video-visible"),document.body.appendChild(o)),o.srcObject=w,t.current=w,r.current=o,await o.play()}catch(o){console.error("Erro ao inicializar c√¢mera:",o)}}return m(),()=>{}},[]);const d=()=>{if(!r.current||n)return;s(!0);const m=r.current,o=document.createElement("canvas");o.width=m.videoWidth||m.clientWidth,o.height=m.videoHeight||m.clientHeight;const w=o.getContext("2d");w?(w.drawImage(m,0,0,o.width,o.height),o.toBlob(S=>{if(S){const j=URL.createObjectURL(S),k=document.createElement("a");k.href=j,k.download=`selfie-${Date.now()}.png`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(j)}s(!1)},"image/png")):s(!1)};return e.jsxs("div",{className:"selfie-screen",children:[e.jsx("div",{className:"selfie-top-overlay",children:e.jsx("img",{src:u,alt:"Top",className:"selfie-top-img"})}),e.jsx("div",{className:"selfie-bottom-overlay",children:e.jsx("img",{src:h,alt:"Bottom",className:"selfie-bottom-img"})}),e.jsx("button",{className:"selfie-camera-button",onClick:d,disabled:n,style:{backgroundImage:`url(${p})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})};const Rt=({initialScreen:r="loading",appConfig:t,defaultTransition:n="zoom-out",defaultDirection:s="right"})=>{const[a,c]=l.useState(r||"loading"),[v,u]=l.useState(!1),[h,p]=l.useState(n),[d,m]=l.useState(s),[o,w]=l.useState(null);l.useEffect(()=>{console.log("üé¨ ScreenManager inicializado com tela:",a)},[]),l.useEffect(()=>{if(!v){const x=setTimeout(()=>{a!=="loading"&&w(null)},1e3);return()=>clearTimeout(x)}},[a,v]);const S=(x,N)=>{const O=["loading","cover","tutorial","ar","final","settings","about","selfie"],b=O.indexOf(x),T=O.indexOf(N);return T>b?"right":T<b?"left":"right"},j=(x,N,O)=>{const b=N||h,T=O||S(a,x);w(a),p(b),m(T);const z=a==="loading"?800:300;u(!0),setTimeout(()=>{c(x),u(!1)},z)},k=()=>{switch(a){case"loading":return e.jsx(Te,{onNavigate:j});case"cover":return e.jsx(ct,{onNavigate:j,title:t.title,subtitle:t.subtitle});case"tutorial":return e.jsx(lt,{onNavigate:j});case"ar":return e.jsx(bt,{onNavigate:j});case"final":return e.jsx(jt,{onNavigate:j});case"settings":return e.jsx(yt,{onNavigate:j});case"about":return e.jsx(wt,{onNavigate:j});case"selfie":return e.jsx(Et,{onNavigate:j});default:return e.jsx(Te,{onNavigate:j})}},f=()=>{const x="screen-manager",N=`transition-${h}`,O=`direction-${d}`,b=v?"transitioning":"",T=o?`from-${o}`:"";return`${x} ${N} ${O} ${b} ${T}`.trim()};return e.jsx("div",{className:f(),children:k()})},Nt=l.createContext(void 0),St=({children:r})=>{const[t,n]=l.useState(null),[s,a]=l.useState(!0),[c,v]=l.useState(null),u=async()=>{var d,m;try{a(!0),v(null),console.log("üîÑ Carregando dados do RA...");const o=((m=(d=import.meta)==null?void 0:d.env)==null?void 0:m.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),S=`${o&&o!=="/"?o.endsWith("/")?o:o+"/":"/"}assets/data/ra.json`,j=await fetch(S);if(!j.ok)throw new Error(`Erro ao carregar dados: ${j.status}`);const k=await j.json();console.log("‚úÖ Dados do RA carregados:",k),n(k)}catch(o){const w=o instanceof Error?o.message:"Erro desconhecido";console.error("‚ùå Erro ao carregar dados do RA:",w),v(w)}finally{a(!1)}},h=()=>{u()};l.useEffect(()=>{u()},[]);const p={raData:t,loading:s,error:c,refreshData:h};return e.jsx(Nt.Provider,{value:p,children:r})},kt=()=>{const[r,t]=l.useState(!1),n=()=>{const s=window.innerWidth,a=window.innerHeight,c=s>a,v=navigator.userAgent.toLowerCase(),u=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(v)||"ontouchstart"in window||navigator.maxTouchPoints>0,h=s<=768;u&&c||h&&c?(t(!0),document.body.style.overflow="hidden",document.body.style.touchAction="none"):(t(!1),document.body.style.overflow="",document.body.style.touchAction="")};return l.useEffect(()=>{n();let s,a;const c=()=>{clearTimeout(s),s=setTimeout(()=>{n()},100)},v=()=>{clearTimeout(a),a=setTimeout(()=>{n()},300)},u=()=>{clearTimeout(a),a=setTimeout(()=>{n()},300)},h=m=>{clearTimeout(a),a=setTimeout(()=>{n()},100)};window.addEventListener("resize",c),window.addEventListener("orientationchange",v),window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",u);const p=window.matchMedia("(orientation: landscape)");p.addEventListener("change",h);const d=setInterval(()=>{n()},2e3);return()=>{clearTimeout(s),clearTimeout(a),clearInterval(d),window.removeEventListener("resize",c),window.removeEventListener("orientationchange",v),window.screen&&window.screen.orientation&&window.screen.orientation.removeEventListener("change",u),p.removeEventListener("change",h),document.body.style.overflow="",document.body.style.touchAction=""}},[]),r?e.jsxs("div",{className:"landscape-blocker",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:999999999,color:"white",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px",boxSizing:"border-box",pointerEvents:"auto"},children:[e.jsx("div",{style:{width:"80px",height:"80px",marginBottom:"20px",fontSize:"60px",animation:"rotate 2s ease-in-out infinite"},children:"üì±"}),e.jsx("h2",{style:{margin:"0 0 10px 0",fontSize:"24px"},children:"Gire seu dispositivo"}),e.jsx("p",{style:{margin:"0",fontSize:"16px",opacity:.9},children:"Para uma melhor experi√™ncia de Realidade Aumentada, mantenha seu dispositivo na orienta√ß√£o retrato (vertical)."}),e.jsx("style",{children:`
          @keyframes rotate {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(90deg); }
          }
        `})]}):null};function At(){const r={title:"Realidade Aumentada",subtitle:"Explore o mundo em 3D",version:"1.0.0",developer:"AR Developer"};return e.jsx(St,{children:e.jsxs("div",{className:"ar-app",children:[e.jsx(kt,{}),e.jsx(Rt,{initialScreen:"loading",appConfig:r})]})})}Ee.createRoot(document.getElementById("root")).render(e.jsx(Qe.StrictMode,{children:e.jsx(At,{})}));
//# sourceMappingURL=index-461c7cf7.js.map
