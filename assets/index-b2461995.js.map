{"version":3,"file":"index-b2461995.js","sources":["../../../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../../../node_modules/react/jsx-runtime.js","../../../../node_modules/react-dom/client.js","../../src/components/screens/CoverScreen.tsx","../../src/contexts/RAContext.tsx","../../src/components/Instructions.tsx","../../src/components/screens/TutorialScreen.tsx","../../../../node_modules/aframe-react/dist/index.js","../../src/components/ARSceneAFrame.tsx","../../src/components/ARControls.tsx","../../src/components/FaceTracker.tsx","../../src/components/screens/ARScreen.tsx","../../src/components/screens/SettingsScreen.tsx","../../src/components/screens/AboutScreen.tsx","../../src/components/RADataDisplay.tsx","../../src/components/ScreenManager.tsx","../../src/components/LandscapeBlocker.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import React from 'react'\nimport type { ScreenType } from '../../types/screens'\n\ninterface CoverScreenProps {\n  onNavigate: (screen: ScreenType) => void\n  title?: string\n  subtitle?: string\n  backgroundImage?: string\n}\n\nexport const CoverScreen: React.FC<CoverScreenProps> = ({\n  onNavigate,\n  title,\n  subtitle,\n  backgroundImage\n}) => {\n  return (\n    <div \n      className=\"cover-screen\"\n      style={{\n        backgroundImage: backgroundImage ? `url(${backgroundImage})` : undefined\n      }}\n    >\n      <div className=\"cover-content\">\n        <div className=\"cover-header\">\n          <h1 className=\"cover-title\">{title}</h1>\n          <p className=\"cover-subtitle\">{subtitle}</p>\n        </div>\n\n        <div className=\"cover-actions\">\n          <button \n            className=\"cover-button primary\"\n            onClick={() => onNavigate('tutorial')}\n          >\n            Come√ßar Tutorial\n          </button>\n          \n          <button \n            className=\"cover-button secondary\"\n            onClick={() => onNavigate('ar')}\n          >\n            Pular Tutorial\n          </button>\n          \n          <button \n            className=\"cover-button tertiary\"\n            onClick={() => onNavigate('settings')}\n          >\n            Configura√ß√µes\n          </button>\n        </div>\n\n        <div className=\"cover-footer\">\n          <p className=\"cover-version\">v1.0.0</p>\n          <button \n            className=\"cover-link\"\n            onClick={() => onNavigate('about')}\n          >\n            Sobre\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react'\n\n// Tipos para os dados do RA\ninterface RAMetadados {\n  marca: string\n  codigo: string\n}\n\ninterface RAData {\n  metadados: RAMetadados\n}\n\ninterface RAContextType {\n  raData: RAData | null\n  loading: boolean\n  error: string | null\n  refreshData: () => void\n}\n\n// Criar o contexto\nconst RAContext = createContext<RAContextType | undefined>(undefined)\n\n// Hook personalizado para usar o contexto\nexport const useRA = () => {\n  const context = useContext(RAContext)\n  if (context === undefined) {\n    throw new Error('useRA deve ser usado dentro de um RAProvider')\n  }\n  return context\n}\n\n// Props do provider\ninterface RAProviderProps {\n  children: ReactNode\n}\n\n// Provider do contexto\nexport const RAProvider: React.FC<RAProviderProps> = ({ children }) => {\n  const [raData, setRaData] = useState<RAData | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  const loadRAData = async () => {\n    try {\n      setLoading(true)\n      setError(null)\n      \n      console.log('üîÑ Carregando dados do RA...')\n      \n      const response = await fetch('/assets/data/ra.json')\n      \n      if (!response.ok) {\n        throw new Error(`Erro ao carregar dados: ${response.status}`)\n      }\n      \n      const data: RAData = await response.json()\n      \n      console.log('‚úÖ Dados do RA carregados:', data)\n      setRaData(data)\n      \n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Erro desconhecido'\n      console.error('‚ùå Erro ao carregar dados do RA:', errorMessage)\n      setError(errorMessage)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const refreshData = () => {\n    loadRAData()\n  }\n\n  useEffect(() => {\n    loadRAData()\n  }, [])\n\n  const value: RAContextType = {\n    raData,\n    loading,\n    error,\n    refreshData\n  }\n\n  return (\n    <RAContext.Provider value={value}>\n      {children}\n    </RAContext.Provider>\n  )\n}\n","import React from 'react';\n\ninterface InstructionsProps {\n  onPlay?: () => void;\n}\n\nconst Instructions: React.FC<InstructionsProps> = ({ onPlay }) => {\n  const handlePlayClick = () => {\n    if (onPlay) {\n      onPlay();\n    }\n  };\n\n  // Estilo inline para o fundo\n  const containerStyle = {\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n    backgroundSize: 'cover',\n  };\n\n  return (\n    <div className=\"instructions-container\" style={containerStyle}>\n      <div className=\"instructions-modal\">\n        <div className=\"instructions-content\">\n          <h2 style={{ marginBottom: '2rem', color: 'white', textAlign: 'center' }}>\n            Como usar a Realidade Aumentada\n          </h2>\n          \n          <div style={{ color: 'white', textAlign: 'center', marginBottom: '2rem' }}>\n            <p style={{ marginBottom: '1rem' }}>\n              1. Permita o acesso √† c√¢mera quando solicitado\n            </p>\n            <p style={{ marginBottom: '1rem' }}>\n              2. Aponte a c√¢mera para uma superf√≠cie plana\n            </p>\n            <p style={{ marginBottom: '1rem' }}>\n              3. Toque na tela para adicionar objetos 3D\n            </p>\n            <p>\n              4. Use gestos para interagir com os objetos\n            </p>\n          </div>\n\n          <button \n            className=\"instructions-play-button\" \n            onClick={handlePlayClick}\n            style={{\n              padding: '1rem 2rem',\n              background: 'linear-gradient(45deg, #ff6b6b, #ee5a24)',\n              border: 'none',\n              borderRadius: '8px',\n              color: 'white',\n              fontSize: '1.1rem',\n              fontWeight: '600',\n              cursor: 'pointer',\n              transition: 'all 0.3s ease',\n              textTransform: 'uppercase',\n              letterSpacing: '1px',\n              display: 'block',\n              margin: '0 auto'\n            }}\n          >\n            Iniciar RA\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Instructions;\n","import React, { useState, useEffect, useRef } from 'react'\nimport { useRA } from '../../contexts/RAContext'\nimport type { ScreenType } from '../../types/screens'\nimport Instructions from '../Instructions'\n\ninterface TutorialStep {\n  id: number\n  title: string\n  description: string\n  image?: string\n  action?: string\n}\n\ninterface TutorialScreenProps {\n  onNavigate: (screen: ScreenType) => void\n  steps?: TutorialStep[]\n  title?: string\n  subtitle?: string\n  backgroundImage?: string\n}\n\nconst DEFAULT_STEPS: TutorialStep[] = [\n  {\n    id: 1,\n    title: 'Bem-vindo √† RA',\n    description: 'Aprenda a usar a Realidade Aumentada de forma simples e intuitiva.',\n    action: 'Toque para continuar'\n  },\n  {\n    id: 2,\n    title: 'Adicionar Objetos',\n    description: 'Use o seletor de objetos para adicionar cubos, esferas e cilindros √† cena.',\n    action: 'Toque para continuar'\n  },\n  {\n    id: 3,\n    title: 'Mover Objetos',\n    description: 'Toque e arraste os objetos para mov√™-los na cena 3D.',\n    action: 'Toque para continuar'\n  },\n  {\n    id: 4,\n    title: 'Capturar Imagens',\n    description: 'Use o bot√£o \"Capturar\" para salvar screenshots da sua cena.',\n    action: 'Come√ßar RA'\n  }\n]\n\nexport const TutorialScreen: React.FC<TutorialScreenProps> = ({\n  onNavigate,\n  steps = DEFAULT_STEPS,\n  title,\n  subtitle,\n  backgroundImage\n}) => {\n  const { raData, loading } = useRA()\n  const previousDataRef = useRef<RAData | null>(null)\n  const [currentStep, setCurrentStep] = useState(0)\n  const step = steps[currentStep]\n\n  // Log apenas quando os dados realmente mudarem\n  useEffect(() => {\n    if (raData !== previousDataRef.current) {\n      previousDataRef.current = raData\n    }\n  }, [raData])\n\n  const handleNext = () => {\n    if (currentStep < steps.length - 1) {\n      setCurrentStep(currentStep + 1)\n    } else {\n      onNavigate('ar')\n    }\n  }\n\n  const handleSkip = () => {\n    onNavigate('ar')\n  }\n\n  // Op√ß√£o 1: Usar o componente Instructions (similar ao AF)\n  const useInstructionsComponent = true\n\n  if (useInstructionsComponent) {\n    return (\n      <div className=\"screen\"\n        style={{\n          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'\n        }}\n      >\n        <Instructions onPlay={() => onNavigate('ar')} />\n      </div>\n    )\n  }\n\n  // Op√ß√£o 2: Usar o tutorial por passos (original)\n  return (\n    <div className=\"tutorial-screen\">\n      <div className=\"tutorial-header\">\n        <button \n          className=\"tutorial-skip\"\n          onClick={handleSkip}\n        >\n          Pular\n        </button>\n        \n        <div className=\"tutorial-progress\">\n          {steps.map((_, index) => (\n            <div \n              key={index}\n              className={`progress-dot ${index === currentStep ? 'active' : ''}`}\n            />\n          ))}\n        </div>\n      </div>\n\n      <div className=\"tutorial-content\">\n        <div className=\"tutorial-step\">\n          <h2 className=\"step-title\">{step.title}</h2>\n          <p className=\"step-description\">{step.description}</p>\n          \n          {step.image && (\n            <div className=\"step-image\">\n              <img src={step.image} alt={step.title} />\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"tutorial-footer\">\n        <button \n          className=\"tutorial-button\"\n          onClick={handleNext}\n        >\n          {step.action}\n        </button>\n      </div>\n    </div>\n  )\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Scene = exports.Entity = exports.options = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar nonEntityPropNames = ['children', 'events', 'primitive'];\nvar filterNonEntityPropNames = function filterNonEntityPropNames(propName) {\n  return nonEntityPropNames.indexOf(propName) === -1;\n};\n\nvar options = {\n  // React needs this because React serializes.\n  // Preact does not because Preact runs `.setAttribute` on its own.\n  runSetAttributeOnUpdates: true\n};\nexports.options = options;\n\n/**\n * Call `.setAttribute()` on the `ref`, passing prop data directly to A-Frame.\n */\n\nfunction doSetAttribute(el, props, propName) {\n  if (propName === 'className') {\n    el.setAttribute('class', props.className);\n  } else if (props[propName] && props[propName].constructor === Function) {\n    return;\n  } else {\n    el.setAttribute(propName, props[propName]);\n  }\n}\n\n/**\n * Handle diffing of previous and current attributes.\n *\n * @param {Element} el\n * @param {Object|null} prevProps - Previous props map.\n * @param {Object} props - Current props map.\n */\nfunction updateAttributes(el, prevProps, props) {\n  var propName;\n\n  if (!props || prevProps === props) {\n    return;\n  }\n\n  // Set attributes.\n  for (propName in props) {\n    if (!filterNonEntityPropNames(propName)) {\n      continue;\n    }\n    doSetAttribute(el, props, propName);\n  }\n\n  // See if attributes were removed.\n  if (prevProps) {\n    for (propName in prevProps) {\n      if (!filterNonEntityPropNames(propName)) {\n        continue;\n      }\n      if (props[propName] === undefined) {\n        el.removeAttribute(propName);\n      }\n    }\n  }\n}\n\n/**\n * Render <a-entity>.\n * Tell React to use A-Frame's .setAttribute() on the DOM element for all prop initializations\n * and updates.\n */\n\nvar Entity = exports.Entity = function (_React$Component) {\n  _inherits(Entity, _React$Component);\n\n  function Entity() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Entity);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Entity.__proto__ || Object.getPrototypeOf(Entity)).call.apply(_ref, [this].concat(args))), _this), _this.initEntity = function (el) {\n      var props = _this.props;\n      var eventName;\n\n      if (!el) {\n        return;\n      }\n\n      // Store.\n      _this.el = el;\n\n      // Attach events.\n      if (props.events) {\n        for (eventName in props.events) {\n          addEventListeners(el, eventName, props.events[eventName]);\n        }\n      }\n\n      // Update entity.\n      updateAttributes(el, null, props);\n\n      // Allow ref.\n      if (props._ref) {\n        props._ref(el);\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  /**\n   * In response to initial `ref` callback.\n   */\n\n\n  _createClass(Entity, [{\n    key: 'componentDidUpdate',\n\n\n    /**\n     * Handle updates after the initial render.\n     */\n    value: function componentDidUpdate(prevProps, prevState) {\n      var el = this.el;\n      var props = this.props;\n\n      // Update events.\n      updateEventListeners(el, prevProps.events, props.events);\n\n      // Update entity.\n      if (options.runSetAttributeOnUpdates) {\n        updateAttributes(el, prevProps, props);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var el = this.el;\n      var props = this.props;\n      var eventName;\n\n      if (props.events) {\n        // Remove events.\n        for (eventName in props.events) {\n          removeEventListeners(el, eventName, props.events[eventName]);\n        }\n      }\n    }\n\n    /**\n     * Render A-Frame DOM with ref: https://facebook.github.io/react/docs/refs-and-the-dom.html\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var props = this.props;\n      var elementName = this.isScene ? 'a-scene' : props.primitive || 'a-entity';\n      var propName;\n\n      // Let through props that are OK to render initially.\n      var reactProps = {};\n      for (propName in props) {\n        if (['className', 'id', 'mixin'].indexOf(propName) !== -1 || propName.indexOf('data-') === 0) {\n          reactProps[propName] = props[propName];\n        }\n      }\n\n      return _react2.default.createElement(elementName, _extends({ ref: this.initEntity }, reactProps), props.children);\n    }\n  }]);\n\n  return Entity;\n}(_react2.default.Component);\n\n/**\n * Render <a-scene>.\n * <a-scene> extends from <a-entity> in A-Frame so we reuse <Entity/>.\n */\n\n\nvar Scene = exports.Scene = function (_Entity) {\n  _inherits(Scene, _Entity);\n\n  function Scene(props) {\n    _classCallCheck(this, Scene);\n\n    var _this2 = _possibleConstructorReturn(this, (Scene.__proto__ || Object.getPrototypeOf(Scene)).call(this, props));\n\n    _this2.isScene = true;\n    return _this2;\n  }\n\n  return Scene;\n}(Entity);\n\n/**\n * Handle diffing of previous and current event maps.\n *\n * @param {Element} el\n * @param {Object} prevEvents - Previous event map.\n * @param {Object} events - Current event map.\n */\n\n\nfunction updateEventListeners(el, prevEvents, events) {\n  var eventName;\n\n  if (!prevEvents || !events || prevEvents === events) {\n    return;\n  }\n\n  for (eventName in events) {\n    // Didn't change.\n    if (prevEvents[eventName] === events[eventName]) {\n      continue;\n    }\n\n    // If changed, remove old previous event listeners.\n    if (prevEvents[eventName]) {\n      removeEventListeners(el, eventName, prevEvents[eventName]);\n    }\n\n    // Add new event listeners.\n    addEventListeners(el, eventName, events[eventName]);\n  }\n\n  // See if event handlers were removed.\n  for (eventName in prevEvents) {\n    if (!events[eventName]) {\n      removeEventListeners(el, eventName, prevEvents[eventName]);\n    }\n  }\n}\n\n/**\n * Register event handlers for an event name to ref.\n *\n * @param {Element} el - DOM element.\n * @param {string} eventName\n * @param {array|function} eventHandlers - Handler function or array of handler functions.\n */\nfunction addEventListeners(el, eventName, handlers) {\n  var handler;\n  var i;\n\n  if (!handlers) {\n    return;\n  }\n\n  // Convert to array.\n  if (handlers.constructor === Function) {\n    handlers = [handlers];\n  }\n\n  // Register.\n  for (i = 0; i < handlers.length; i++) {\n    el.addEventListener(eventName, handlers[i]);\n  }\n}\n\n/**\n * Unregister event handlers for an event name to ref.\n *\n * @param {Element} el - DOM element.\n * @param {string} eventName\n * @param {array|function} eventHandlers - Handler function or array of handler functions.\n */\nfunction removeEventListeners(el, eventName, handlers) {\n  var handler;\n  var i;\n\n  if (!handlers) {\n    return;\n  }\n\n  // Convert to array.\n  if (handlers.constructor === Function) {\n    handlers = [handlers];\n  }\n\n  // Unregister.\n  for (i = 0; i < handlers.length; i++) {\n    el.removeEventListener(eventName, handlers[i]);\n  }\n}","import { useEffect, useRef, useImperativeHandle, forwardRef, useState } from 'react'\nimport { Entity, Scene } from 'aframe-react'\n\ninterface ARSceneAFrameProps {\n  className?: string\n  onSceneReady?: () => void\n  cameraFacing?: 'environment' | 'user'\n}\n\nexport interface ARSceneAFrameRef {\n  addEntity: (data: any) => string\n  removeEntity: (id: string) => void\n  getScene: () => any\n  captureScreenshot: () => string\n  setCameraFacing: (facing: 'environment' | 'user') => void\n}\n\nexport const ARSceneAFrame = forwardRef<ARSceneAFrameRef, ARSceneAFrameProps>(({ \n  className = '',\n  onSceneReady,\n  cameraFacing = 'environment'\n}, ref) => {\n  const sceneRef = useRef<any>(null)\n  const [entities, setEntities] = useState<Array<{ id: string; data: any }>>([])\n  const [sceneReady, setSceneReady] = useState(false)\n  const videoRef = useRef<HTMLVideoElement | null>(null)\n  const mediaStreamRef = useRef<MediaStream | null>(null)\n  const [currentFacing, setCurrentFacing] = useState<'environment' | 'user'>(cameraFacing)\n\n  useEffect(() => {\n    setCurrentFacing(cameraFacing)\n  }, [cameraFacing])\n\n  useEffect(() => {\n    // Aguardar o A-Frame estar pronto\n    if (typeof window !== 'undefined' && (window as any).AFRAME) {\n      setSceneReady(true)\n      if (onSceneReady) {\n        onSceneReady()\n      }\n\n      requestAnimationFrame(() => {\n        const vrButton = document.querySelector('.a-enter-vr-button') as HTMLElement | null\n        if (vrButton) {\n          vrButton.style.display = 'none'\n          vrButton.style.visibility = 'hidden'\n          vrButton.style.pointerEvents = 'none'\n        }\n      })\n    }\n  }, [onSceneReady])\n\n  useEffect(() => {\n    async function teardownCamera() {\n      if (mediaStreamRef.current) {\n        mediaStreamRef.current.getTracks().forEach(t => t.stop())\n        mediaStreamRef.current = null\n      }\n      if (videoRef.current && videoRef.current.parentNode) {\n        videoRef.current.parentNode.removeChild(videoRef.current)\n        videoRef.current = null\n      }\n    }\n\n    async function setupCamera(facing: 'environment' | 'user') {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: {\n            width: { ideal: 1280 },\n            height: { ideal: 720 },\n            facingMode: { ideal: facing }\n          },\n          audio: false\n        })\n\n        const video = document.createElement('video')\n        video.setAttribute('id', 'arjs-video')\n        video.setAttribute('playsinline', '')\n        video.setAttribute('autoplay', '')\n        video.muted = true\n        video.srcObject = stream\n\n        document.body.appendChild(video)\n\n        mediaStreamRef.current = stream\n        videoRef.current = video\n        await video.play()\n      } catch (err) {\n        console.error('Erro ao inicializar c√¢mera:', err)\n      }\n    }\n\n    // Recriar ao trocar currentFacing\n    teardownCamera().then(() => setupCamera(currentFacing))\n\n    return () => {\n      teardownCamera()\n    }\n  }, [currentFacing])\n\n  useImperativeHandle(ref, () => ({\n    addEntity: (data: any) => {\n      const id = `entity-${Date.now()}`\n      setEntities(prev => [...prev, { id, data }])\n      return id\n    },\n    removeEntity: (id: string) => {\n      setEntities(prev => prev.filter(e => e.id !== id))\n    },\n    getScene: () => {\n      if (typeof window !== 'undefined' && (window as any).AFRAME) {\n        const sceneEl = document.querySelector('a-scene')\n        return sceneEl || sceneRef.current\n      }\n      return sceneRef.current\n    },\n    captureScreenshot: () => {\n      if (typeof window !== 'undefined' && (window as any).AFRAME) {\n        const sceneEl = document.querySelector('a-scene')\n        if (sceneEl) {\n          const renderer = (sceneEl as any).renderer\n          if (renderer && renderer.domElement) {\n            return renderer.domElement.toDataURL('image/png')\n          }\n        }\n      }\n      return ''\n    },\n    setCameraFacing: (facing: 'environment' | 'user') => {\n      setCurrentFacing(facing)\n    }\n  }), [])\n\n  const sceneProps: any = {\n    embedded: true,\n    'vr-mode-ui': 'enabled: false',\n    'device-orientation-permission-ui': 'enabled: true',\n    renderer: 'alpha: true; antialias: true; colorManagement: true; physicallyCorrectLights: false; sortObjects: true; logarithmicDepthBuffer: false; precision: mediump;',\n    webxr: 'enabled: false',\n    background: 'transparent: true'\n  }\n\n  return (\n    <div className={`ar-scene-aframe ${className}`} style={{ width: '100%', height: '100%', position: 'relative', zIndex: 1 }}>\n      {sceneReady && (\n        <Scene {...sceneProps}>\n          <Entity\n            id=\"camera\"\n            camera={{ active: true }}\n            lookControls={{\n              enabled: true,\n              reverseMouseDrag: false,\n              touchEnabled: true,\n              magicWindowTrackingEnabled: true\n            }}\n            wasdControls={{\n              enabled: true,\n              acceleration: 20,\n              fly: false,\n              controls: 'gamepad keyboard'\n            }}\n            position=\"0 1.6 0\"\n          />\n\n          <Entity light={{ type: 'ambient', color: '#888' }} />\n\n          <Entity\n            light={{\n              type: 'directional',\n              color: '#fff',\n              intensity: 0.6\n            }}\n            position=\"1 1 1\"\n          />\n\n          {entities.map(entity => (\n            <Entity\n              key={entity.id}\n              {...entity.data}\n            />\n          ))}\n\n          {/* Cube that follows head rotation */}\n          <Entity\n            id=\"head-cube\"\n            geometry={{ primitive: 'box', width: 0.3, height: 0.3, depth: 0.3 }}\n            material={{ color: '#FF6B6B', opacity: 0.9, transparent: true }}\n            position=\"0 1 -1.2\"\n            rotation=\"0 0 0\"\n          />\n\n          {/* Example cube can remain commented or removed if not needed */}\n          {false && (\n            <Entity\n              id=\"default-cube\"\n              geometry={{ primitive: 'box', width: 0.6, height: 0.6, depth: 0.6 }}\n              material={{ color: '#4CC3D9' }}\n              position=\"0 1 -1.5\"\n              animation={{\n                property: 'rotation',\n                to: '0 360 0',\n                loop: true,\n                dur: 8000\n              }}\n            />\n          )}\n        </Scene>\n      )}\n      {!sceneReady && (\n        <div style={{ \n          display: 'flex', \n          alignItems: 'center', \n          justifyContent: 'center', \n          height: '100%',\n          color: '#fff'\n        }}>\n          Carregando A-Frame...\n        </div>\n      )}\n    </div>\n  )\n})\n\nARSceneAFrame.displayName = 'ARSceneAFrame'\n\n","import React from 'react'\nimport { ARSceneAFrameRef } from './ARSceneAFrame'\n\ninterface ARControlsProps {\n  className?: string\n  sceneRef?: React.RefObject<ARSceneAFrameRef>\n  onToggleFacing?: () => void\n  onToggleFaceTracking?: () => void\n  faceTrackingEnabled?: boolean\n}\n\nexport const ARControls: React.FC<ARControlsProps> = ({ className = '', sceneRef, onToggleFacing, onToggleFaceTracking, faceTrackingEnabled }) => {\n  const handleCapture = () => {\n    if (sceneRef?.current) {\n      const screenshot = sceneRef.current.captureScreenshot()\n      if (screenshot) {\n        const link = document.createElement('a')\n        link.href = screenshot\n        link.download = `ar-screenshot-${Date.now()}.png`\n        link.click()\n      }\n    } else {\n      const sceneEl = document.querySelector('a-scene')\n      if (sceneEl) {\n        const renderer = (sceneEl as any).renderer\n        if (renderer && renderer.domElement) {\n          const screenshot = renderer.domElement.toDataURL('image/png')\n          const link = document.createElement('a')\n          link.href = screenshot\n          link.download = `ar-screenshot-${Date.now()}.png`\n          link.click()\n        }\n      }\n    }\n  }\n\n  return (\n    <>\n      <div className={`ar-controls ${className}`}>\n        <button className=\"ar-button\" onClick={handleCapture}>\n          üì∑ Capturar\n        </button>\n        {onToggleFacing && (\n          <button className=\"ar-button\" onClick={onToggleFacing}>\n            üîÑ Trocar c√¢mera\n          </button>\n        )}\n        {onToggleFaceTracking && (\n          <button className=\"ar-button\" onClick={onToggleFaceTracking}>\n            {faceTrackingEnabled ? 'üß† FaceTracking: ON' : 'üß† FaceTracking: OFF'}\n          </button>\n        )}\n      </div>\n    </>\n  )\n}\n","import React, { useEffect, useRef } from 'react'\r\n\r\ninterface FaceTrackerProps {\r\n  enabled: boolean\r\n}\r\n\r\ndeclare global {\r\n  interface Window { faceapi?: any }\r\n}\r\n\r\nexport const FaceTracker: React.FC<FaceTrackerProps> = ({ enabled }) => {\r\n  const canvasRef = useRef<HTMLCanvasElement | null>(null)\r\n  const rafRef = useRef<number | null>(null)\r\n  const modelsLoadedRef = useRef<boolean>(false)\r\n  const statusRef = useRef<HTMLDivElement | null>(null)\r\n  const prevRotRef = useRef<{x:number;y:number;z:number}>({ x: 0, y: 0, z: 0 })\r\n  const prevPosRef = useRef<{x:number;y:number;z:number}>({ x: 0, y: 1, z: -1.2 })\r\n  const maskImgRef = useRef<HTMLImageElement | null>(null)\r\n  const maskLoadedRef = useRef<boolean>(false)\r\n\r\n  useEffect(() => {\r\n    function ensureCanvas() {\r\n      if (!canvasRef.current) {\r\n        const c = document.createElement('canvas')\r\n        c.id = 'face-tracker-overlay'\r\n        c.style.position = 'fixed'\r\n        c.style.top = '0'\r\n        c.style.left = '0'\r\n        c.style.width = '100vw'\r\n        c.style.height = '100vh'\r\n        c.style.pointerEvents = 'none'\r\n        c.style.zIndex = '9999'\r\n        document.body.appendChild(c)\r\n        canvasRef.current = c\r\n      }\r\n      if (!statusRef.current) {\r\n        const s = document.createElement('div')\r\n        s.id = 'face-tracker-status'\r\n        s.style.position = 'fixed'\r\n        s.style.left = '8px'\r\n        s.style.bottom = '8px'\r\n        s.style.padding = '4px 8px'\r\n        s.style.background = 'rgba(0,0,0,0.55)'\r\n        s.style.color = '#fff'\r\n        s.style.font = '12px Arial'\r\n        s.style.borderRadius = '6px'\r\n        s.style.zIndex = '10000'\r\n        s.style.pointerEvents = 'none'\r\n        s.textContent = 'FaceTracker: iniciando'\r\n        document.body.appendChild(s)\r\n        statusRef.current = s\r\n      }\r\n    }\r\n\r\n    function removeCanvas() {\r\n      if (canvasRef.current && canvasRef.current.parentNode) {\r\n        canvasRef.current.parentNode.removeChild(canvasRef.current)\r\n        canvasRef.current = null\r\n      }\r\n      if (statusRef.current && statusRef.current.parentNode) {\r\n        statusRef.current.parentNode.removeChild(statusRef.current)\r\n        statusRef.current = null\r\n      }\r\n    }\r\n\r\n    async function loadFaceApi() {\r\n      if (window.faceapi) return\r\n      statusRef.current && (statusRef.current.textContent = 'FaceTracker: carregando lib')\r\n      await new Promise<void>((resolve, reject) => {\r\n        const script = document.createElement('script')\r\n        script.src = 'https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js'\r\n        script.onload = () => resolve()\r\n        script.onerror = () => reject(new Error('Falha ao carregar face-api.js'))\r\n        document.head.appendChild(script)\r\n      })\r\n      console.log('face-api.js carregado')\r\n    }\r\n\r\n    async function loadModels() {\r\n      if (modelsLoadedRef.current) return\r\n      statusRef.current && (statusRef.current.textContent = 'FaceTracker: carregando modelos')\r\n      const faceapi = window.faceapi\r\n      const MODEL_URL = 'https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights'\r\n      await Promise.all([\r\n        faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL),\r\n        faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL),\r\n        faceapi.nets.faceExpressionNet.loadFromUri(MODEL_URL)\r\n      ])\r\n      modelsLoadedRef.current = true\r\n      statusRef.current && (statusRef.current.textContent = 'FaceTracker: pronto')\r\n      console.log('Modelos de face-api carregados')\r\n    }\r\n\r\n    function loadMask() {\r\n      if (maskLoadedRef.current) return\r\n      const base = (import.meta as any)?.env?.BASE_URL || (document?.baseURI ? new URL(document.baseURI).pathname : '/')\r\n      const normalize = (p: string) => {\r\n        if (!base || base === '/' ) return p.startsWith('/') ? p : `/${p}`\r\n        const b = base.endsWith('/') ? base : base + '/'\r\n        return p.startsWith('/') ? b + p.replace(/^\\//, '') : b + p\r\n      }\r\n      const candidatesRaw = [\r\n        'mascara.png',                 // root of public\r\n        'assets/images/mascara.png',   // common path\r\n        'images/mascara.png'           // relative images\r\n      ]\r\n      const candidates = [\r\n        ...candidatesRaw.map(normalize),\r\n        // fallback absolute root attempts\r\n        '/mascara.png',\r\n        '/assets/images/mascara.png',\r\n        '/images/mascara.png'\r\n      ]\r\n      let index = 0\r\n\r\n      const img = new Image()\r\n      const tryNext = () => {\r\n        if (index >= candidates.length) {\r\n          console.warn('N√£o foi poss√≠vel carregar mascara.png de nenhum caminho:', candidates)\r\n          return\r\n        }\r\n        const url = candidates[index++] + `?v=${Date.now()}`\r\n        img.src = url\r\n        console.log('BaseURL:', base, '| Tentando carregar m√°scara em:', url)\r\n      }\r\n\r\n      img.onload = () => {\r\n        maskLoadedRef.current = true\r\n        maskImgRef.current = img\r\n        console.log('M√°scara carregada em:', img.src)\r\n      }\r\n      img.onerror = () => {\r\n        tryNext()\r\n      }\r\n\r\n      maskImgRef.current = img\r\n      tryNext()\r\n    }\r\n\r\n    function setCanvasSize(canvas: HTMLCanvasElement) {\r\n      const dpr = Math.max(1, window.devicePixelRatio || 1)\r\n      canvas.width = Math.floor(window.innerWidth * dpr)\r\n      canvas.height = Math.floor(window.innerHeight * dpr)\r\n      const ctx = canvas.getContext('2d')\r\n      if (ctx) ctx.setTransform(dpr, 0, 0, dpr, 0, 0)\r\n    }\r\n\r\n    async function start() {\r\n      ensureCanvas()\r\n      await loadFaceApi()\r\n      await loadModels()\r\n      loadMask()\r\n\r\n      const video = document.getElementById('arjs-video') as HTMLVideoElement | null\r\n      const canvas = canvasRef.current\r\n      if (!video || !canvas) {\r\n        statusRef.current && (statusRef.current.textContent = 'FaceTracker: sem v√≠deo')\r\n        return\r\n      }\r\n\r\n      const faceapi = window.faceapi\r\n      const ctx = canvas.getContext('2d')\r\n\r\n      function resizeCanvas() {\r\n        if (canvas) {\r\n          setCanvasSize(canvas)\r\n        }\r\n      }\r\n      resizeCanvas()\r\n      window.addEventListener('resize', resizeCanvas)\r\n\r\n      const detect = async () => {\r\n        try {\r\n          if (!enabled) return\r\n          if (!video.videoWidth) {\r\n            statusRef.current && (statusRef.current.textContent = 'FaceTracker: aguardando v√≠deo')\r\n            rafRef.current = requestAnimationFrame(detect)\r\n            return\r\n          }\r\n\r\n          const isMirrored = (getComputedStyle(video).transform || '').includes('matrix(-1') || (video.style.transform || '').includes('scaleX(-1)')\r\n\r\n          const options = new faceapi.TinyFaceDetectorOptions({ inputSize: 224, scoreThreshold: 0.5 })\r\n          const detections = await faceapi\r\n            .detectAllFaces(video, options)\r\n            .withFaceLandmarks()\r\n            .withFaceExpressions()\r\n\r\n          if (ctx) {\r\n            ctx.clearRect(0, 0, canvas.width, canvas.height)\r\n\r\n            // Debug marker e contador\r\n            ctx.fillStyle = 'rgba(78,205,196,0.8)'\r\n            ctx.beginPath()\r\n            ctx.arc(16, 16, 6, 0, Math.PI * 2)\r\n            ctx.fill()\r\n            ctx.font = '12px Arial'\r\n            ctx.fillText(`faces: ${detections?.length || 0}`, 30, 20)\r\n\r\n            const dpr = Math.max(1, window.devicePixelRatio || 1)\r\n            const canvasCssWidth = canvas.width / dpr\r\n            const canvasCssHeight = canvas.height / dpr\r\n            const scaleX = canvasCssWidth / video.videoWidth\r\n            const scaleY = canvasCssHeight / video.videoHeight\r\n\r\n            const mapX = (x: number, w = 0) => {\r\n              const raw = x * scaleX\r\n              return isMirrored ? (canvasCssWidth - (raw + w)) : raw\r\n            }\r\n            const mapY = (y: number) => y * scaleY\r\n\r\n            const drawPoint = (x: number, y: number, label: string, color: string) => {\r\n              const px = mapX(x)\r\n              const py = mapY(y)\r\n              ctx.fillStyle = color\r\n              ctx.beginPath()\r\n              ctx.arc(px, py, 4, 0, Math.PI * 2)\r\n              ctx.fill()\r\n              ctx.fillStyle = color\r\n              ctx.fillText(label, px + 6, py - 6)\r\n            }\r\n\r\n            if (detections && detections.length) {\r\n              statusRef.current && (statusRef.current.textContent = 'FaceTracker: detectando')\r\n              detections.forEach((det: any) => {\r\n                const box = det.detection.box\r\n                const rawW = box.width * scaleX\r\n                const x = mapX(box.x, rawW)\r\n                const y = mapY(box.y)\r\n                const w = rawW\r\n                const h = box.height * scaleY\r\n\r\n                // Caixa\r\n                ctx.strokeStyle = '#4ECDC4'\r\n                ctx.lineWidth = 3\r\n                ctx.strokeRect(x, y, w, h)\r\n\r\n                // Express√µes\r\n                const expr = det.expressions || {}\r\n                const entries = Object.entries(expr) as Array<[string, number]>\r\n                if (entries.length) {\r\n                  const [topLabel, topScore] = entries.reduce((a, b) => (a[1] > b[1] ? a : b))\r\n                  const label = `${topLabel} ${(topScore * 100).toFixed(0)}%`\r\n                  ctx.font = '12px Arial'\r\n                  const textW = ctx.measureText(label).width + 12\r\n                  ctx.fillStyle = 'rgba(0,0,0,0.6)'\r\n                  ctx.fillRect(x, Math.max(0, y - 22), textW, 20)\r\n                  ctx.fillStyle = '#FFFFFF'\r\n                  ctx.fillText(label, x + 6, Math.max(12, y - 8))\r\n                }\r\n\r\n                // Landmarks\r\n                const pts: Array<{x:number;y:number}> = det.landmarks?.positions || []\r\n                if (pts.length === 68) {\r\n                  const noseTip = pts[30]\r\n                  const noseLeft = pts[31]\r\n                  const noseRight = pts[35]\r\n                  drawPoint(noseTip.x, noseTip.y, 'nose', '#00E5A8')\r\n                  drawPoint(noseLeft.x, noseLeft.y, 'nostril-L', '#00E5A8')\r\n                  drawPoint(noseRight.x, noseRight.y, 'nostril-R', '#00E5A8')\r\n\r\n                  const mouthLeft = pts[48]\r\n                  const mouthRight = pts[54]\r\n                  const mouthTop = pts[51]\r\n                  const mouthBottom = pts[57]\r\n                  drawPoint(mouthLeft.x, mouthLeft.y, 'mouth-L', '#FFD166')\r\n                  drawPoint(mouthRight.x, mouthRight.y, 'mouth-R', '#FFD166')\r\n                  drawPoint(mouthTop.x, mouthTop.y, 'mouth-T', '#FFD166')\r\n                  drawPoint(mouthBottom.x, mouthBottom.y, 'mouth-B', '#FFD166')\r\n\r\n                  const leftEyeIdx = [36,37,38,39,40,41]\r\n                  const rightEyeIdx = [42,43,44,45,46,47]\r\n                  const avg = (arr: number[]) => arr.reduce((a,b)=>a+b,0)/arr.length\r\n                  const eyeCenter = (ids: number[]) => ({\r\n                    x: avg(ids.map(i => pts[i].x)),\r\n                    y: avg(ids.map(i => pts[i].y))\r\n                  })\r\n                  const leftEye = eyeCenter(leftEyeIdx)\r\n                  const rightEye = eyeCenter(rightEyeIdx)\r\n                  drawPoint(leftEye.x, leftEye.y, 'eye-L', '#EF476F')\r\n                  drawPoint(rightEye.x, rightEye.y, 'eye-R', '#EF476F')\r\n\r\n                  const chin = pts[8]\r\n                  drawPoint(chin.x, chin.y, 'chin', '#118AB2')\r\n\r\n                  // Ponto central do rosto (entre os olhos)\r\n                  const midEyes = { x: (leftEye.x + rightEye.x) / 2, y: (leftEye.y + rightEye.y) / 2 }\r\n                  const midEyesPx = { x: mapX(midEyes.x), y: mapY(midEyes.y) }\r\n\r\n                  // Head pose (heur√≠stica 2D):\r\n                  const dxEyes = rightEye.x - leftEye.x\r\n                  const dyEyes = rightEye.y - leftEye.y\r\n                  let rollDeg = (Math.atan2(dyEyes, dxEyes) * 180) / Math.PI\r\n                  const eyeDist = Math.hypot(dxEyes, dyEyes) || 1\r\n                  let yawDeg = ((noseTip.x - midEyes.x) / eyeDist) * 60\r\n                  let pitchDeg = (-(noseTip.y - midEyes.y) / eyeDist) * 50\r\n                  if (isMirrored) {\r\n                    yawDeg = -yawDeg\r\n                    rollDeg = -rollDeg\r\n                  }\r\n                  const clamp = (v: number, a: number, b: number) => Math.max(a, Math.min(b, v))\r\n                  yawDeg = clamp(yawDeg, -60, 60)\r\n                  pitchDeg = clamp(pitchDeg, -50, 50)\r\n                  rollDeg = clamp(rollDeg, -45, 45)\r\n\r\n                  // Desenhar m√°scara 2D ancorada ao rosto\r\n                  if (maskLoadedRef.current && maskImgRef.current) {\r\n                    const rollRad = (rollDeg * Math.PI) / 180\r\n                    const eyeDistPx = eyeDist * scaleX\r\n                    const targetW = eyeDistPx * 5.0\r\n                    const ratio = maskImgRef.current.naturalHeight > 0 ? (maskImgRef.current.naturalHeight / maskImgRef.current.naturalWidth) : 1\r\n                    const targetH = targetW * ratio\r\n                    const centerX = mapX(midEyes.x)\r\n                    const centerY = mapY(midEyes.y) + h * 0.10 // levemente abaixo dos olhos\r\n\r\n                    // Aproxima√ß√£o 2.5D:\r\n                    // - roll: rota√ß√£o real\r\n                    // - yaw: shear horizontal (perspectiva esquerda/direita)\r\n                    // - pitch: shear vertical + leve scaleX (olhar cima/baixo)\r\n                    const shearX = (yawDeg / 60) * 0.28 // [-0.28, 0.28]\r\n                    const shearY = (pitchDeg / 50) * -0.22 // [-0.22, 0.22]\r\n                    const scaleXmask = 1 - Math.min(Math.abs(pitchDeg) / 120, 0.18)\r\n                    const scaleYmask = 1 + (pitchDeg / 50) * 0.18 // ~[0.82, 1.18]\r\n\r\n                    ctx.save()\r\n                    ctx.translate(centerX, centerY)\r\n                    ctx.rotate(rollRad)\r\n                    ctx.scale(scaleXmask, 1)\r\n                    ctx.transform(1, shearY, shearX, scaleYmask, 0, 0)\r\n                    ctx.globalAlpha = 0.95\r\n                    ctx.drawImage(maskImgRef.current, -targetW/2, -targetH*0.55, targetW, targetH)\r\n                    ctx.restore()\r\n                  }\r\n\r\n                  const alphaR = 0.25\r\n                  const prevR = prevRotRef.current\r\n                  const smoothedR = {\r\n                    x: prevR.x + (pitchDeg - prevR.x) * alphaR,\r\n                    y: prevR.y + (yawDeg - prevR.y) * alphaR,\r\n                    z: prevR.z + (rollDeg - prevR.z) * alphaR\r\n                  }\r\n                  prevRotRef.current = smoothedR\r\n\r\n                  // Converter 2D (px) -> 3D na frente da c√¢mera\r\n                  const cameraEl = document.getElementById('camera') as any\r\n                  const headEl = document.getElementById('head-cube') as any\r\n                  if (cameraEl && headEl) {\r\n                    const threeCam = cameraEl.getObject3D && cameraEl.getObject3D('camera')\r\n                    if (threeCam && (window as any).THREE) {\r\n                      const THREE = (window as any).THREE\r\n                      const nx = (midEyesPx.x / canvasCssWidth) * 2 - 1\r\n                      const ny = -((midEyesPx.y / canvasCssHeight) * 2 - 1)\r\n                      const depth = 1.2 // metros √† frente da c√¢mera\r\n\r\n                      const origin = new THREE.Vector3()\r\n                      const dir = new THREE.Vector3()\r\n\r\n                      // Unproject ponto no plano near, calcular dire√ß√£o e posicionar a depth\r\n                      const ndc = new THREE.Vector3(nx, ny, 0.5)\r\n                      ndc.unproject(threeCam)\r\n                      origin.copy(threeCam.position)\r\n                      dir.copy(ndc).sub(origin).normalize()\r\n\r\n                      const targetPos = origin.clone().add(dir.multiplyScalar(depth))\r\n\r\n                      // Suaviza√ß√£o de posi√ß√£o\r\n                      const alphaP = 0.35\r\n                      const prevP = prevPosRef.current\r\n                      const smoothedP = {\r\n                        x: prevP.x + (targetPos.x - prevP.x) * alphaP,\r\n                        y: prevP.y + (targetPos.y - prevP.y) * alphaP,\r\n                        z: prevP.z + (targetPos.z - prevP.z) * alphaP\r\n                      }\r\n                      prevPosRef.current = smoothedP\r\n\r\n                      headEl.setAttribute('position', `${smoothedP.x.toFixed(3)} ${smoothedP.y.toFixed(3)} ${smoothedP.z.toFixed(3)}`)\r\n                      headEl.setAttribute('rotation', `${smoothedR.x.toFixed(2)} ${smoothedR.y.toFixed(2)} ${smoothedR.z.toFixed(2)}`)\r\n                    } else if (headEl.setAttribute) {\r\n                      // Fallback: manter posi√ß√£o fixa e s√≥ rota√ß√£o\r\n                      headEl.setAttribute('rotation', `${smoothedR.x.toFixed(2)} ${smoothedR.y.toFixed(2)} ${smoothedR.z.toFixed(2)}`)\r\n                    }\r\n                  }\r\n                }\r\n              })\r\n            } else {\r\n              statusRef.current && (statusRef.current.textContent = 'FaceTracker: sem rosto')\r\n              // Ret√¢ngulo debug\r\n              ctx.strokeStyle = 'rgba(255,107,107,0.8)'\r\n              ctx.lineWidth = 2\r\n              ctx.strokeRect(10, 10, 100, 60)\r\n            }\r\n          }\r\n        } catch (e) {\r\n          console.error('FaceTracker detect error:', e)\r\n          statusRef.current && (statusRef.current.textContent = 'FaceTracker: erro de detec√ß√£o')\r\n        }\r\n        rafRef.current = requestAnimationFrame(detect)\r\n      }\r\n\r\n      rafRef.current = requestAnimationFrame(detect)\r\n\r\n      return () => {\r\n        window.removeEventListener('resize', resizeCanvas)\r\n      }\r\n    }\r\n\r\n    let cleanupResize: (() => void) | undefined\r\n\r\n    if (enabled) {\r\n      start().then((c) => {\r\n        cleanupResize = c as any\r\n      }).catch(err => {\r\n        console.error('FaceTracker start error:', err)\r\n        statusRef.current && (statusRef.current.textContent = 'FaceTracker: erro ao iniciar')\r\n      })\r\n    } else {\r\n      if (rafRef.current) {\r\n        cancelAnimationFrame(rafRef.current)\r\n        rafRef.current = null\r\n      }\r\n      if (canvasRef.current) {\r\n        const ctx = canvasRef.current.getContext('2d')\r\n        if (ctx) ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height)\r\n      }\r\n      statusRef.current && (statusRef.current.textContent = 'FaceTracker: desligado')\r\n    }\r\n\r\n    return () => {\r\n      if (rafRef.current) {\r\n        cancelAnimationFrame(rafRef.current)\r\n        rafRef.current = null\r\n      }\r\n      if (cleanupResize) cleanupResize()\r\n      removeCanvas()\r\n    }\r\n  }, [enabled])\r\n\r\n  return null\r\n}\r\n","import React, { useRef, useState } from 'react'\nimport { ARSceneAFrame, ARSceneAFrameRef } from '../ARSceneAFrame'\nimport { ARControls } from '../ARControls'\nimport { FaceTracker } from '../FaceTracker'\nimport type { ScreenType } from '../../types/screens'\n\ninterface ARScreenProps {\n  onNavigate: (screen: ScreenType) => void\n  showBackButton?: boolean\n}\n\nexport const ARScreen: React.FC<ARScreenProps> = ({\n  onNavigate,\n  showBackButton = true\n}) => {\n  const sceneRef = useRef<ARSceneAFrameRef>(null)\n  const [cameraFacing, setCameraFacing] = useState<'environment' | 'user'>('environment')\n  const [faceTrackingEnabled, setFaceTrackingEnabled] = useState<boolean>(true)\n\n  const handleBack = () => {\n    onNavigate('tutorial')\n  }\n\n  const handleSettings = () => {\n    onNavigate('settings')\n  }\n\n  const handleToggleFacing = () => {\n    const next = cameraFacing === 'environment' ? 'user' : 'environment'\n    setCameraFacing(next)\n    sceneRef.current?.setCameraFacing(next)\n  }\n\n  const handleToggleFaceTracking = () => {\n    setFaceTrackingEnabled(prev => !prev)\n  }\n\n  return (\n    <div className=\"ar-screen\">\n      {showBackButton && (\n        <div className=\"ar-screen-header\">\n          <button \n            className=\"ar-back-button\"\n            onClick={handleBack}\n          >\n            ‚Üê Voltar\n          </button>\n          \n          <button \n            className=\"ar-settings-button\"\n            onClick={handleSettings}\n          >\n            ‚öôÔ∏è\n          </button>\n\n        </div>\n      )}\n      \n      <div className=\"ar-screen-content\">\n        <ARSceneAFrame \n          ref={sceneRef}\n          className=\"aframe-scene\"\n          cameraFacing={cameraFacing}\n        />\n        \n        <ARControls \n          sceneRef={sceneRef}\n          onToggleFacing={handleToggleFacing}\n          onToggleFaceTracking={handleToggleFaceTracking}\n          faceTrackingEnabled={faceTrackingEnabled}\n        />\n\n        <FaceTracker enabled={faceTrackingEnabled} />\n      </div>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport type { ScreenType } from '../../types/screens'\n\ninterface SettingsScreenProps {\n  onNavigate: (screen: ScreenType) => void\n  onSettingsChange?: (settings: any) => void\n}\n\ninterface Settings {\n  quality: 'low' | 'medium' | 'high'\n  enableSound: boolean\n  enableVibration: boolean\n  autoSave: boolean\n  language: 'pt-BR' | 'en-US' | 'es-ES'\n}\n\nconst DEFAULT_SETTINGS: Settings = {\n  quality: 'high',\n  enableSound: true,\n  enableVibration: true,\n  autoSave: true,\n  language: 'pt-BR'\n}\n\nexport const SettingsScreen: React.FC<SettingsScreenProps> = ({\n  onNavigate,\n  onSettingsChange\n}) => {\n  const [settings, setSettings] = useState<Settings>(DEFAULT_SETTINGS)\n\n  const handleSettingChange = (key: keyof Settings, value: any) => {\n    const newSettings = { ...settings, [key]: value }\n    setSettings(newSettings)\n    onSettingsChange?.(newSettings)\n  }\n\n  const handleBack = () => {\n    onNavigate('ar')\n  }\n\n  const handleReset = () => {\n    setSettings(DEFAULT_SETTINGS)\n    onSettingsChange?.(DEFAULT_SETTINGS)\n  }\n\n  return (\n    <div className=\"settings-screen\">\n      <div className=\"settings-header\">\n        <button \n          className=\"settings-back-button\"\n          onClick={handleBack}\n        >\n          ‚Üê Voltar\n        </button>\n        \n        <h1 className=\"settings-title\">Configura√ß√µes</h1>\n      </div>\n\n      <div className=\"settings-content\">\n        <div className=\"settings-section\">\n          <h3>Qualidade</h3>\n          <select \n            value={settings.quality}\n            onChange={(e) => handleSettingChange('quality', e.target.value)}\n            className=\"settings-select\"\n          >\n            <option value=\"low\">Baixa</option>\n            <option value=\"medium\">M√©dia</option>\n            <option value=\"high\">Alta</option>\n          </select>\n        </div>\n\n        <div className=\"settings-section\">\n          <h3>Som</h3>\n          <label className=\"settings-toggle\">\n            <input\n              type=\"checkbox\"\n              checked={settings.enableSound}\n              onChange={(e) => handleSettingChange('enableSound', e.target.checked)}\n            />\n            <span className=\"toggle-slider\"></span>\n            Habilitar som\n          </label>\n        </div>\n\n        <div className=\"settings-section\">\n          <h3>Vibra√ß√£o</h3>\n          <label className=\"settings-toggle\">\n            <input\n              type=\"checkbox\"\n              checked={settings.enableVibration}\n              onChange={(e) => handleSettingChange('enableVibration', e.target.checked)}\n            />\n            <span className=\"toggle-slider\"></span>\n            Habilitar vibra√ß√£o\n          </label>\n        </div>\n\n        <div className=\"settings-section\">\n          <h3>Salvamento</h3>\n          <label className=\"settings-toggle\">\n            <input\n              type=\"checkbox\"\n              checked={settings.autoSave}\n              onChange={(e) => handleSettingChange('autoSave', e.target.checked)}\n            />\n            <span className=\"toggle-slider\"></span>\n            Salvar automaticamente\n          </label>\n        </div>\n\n        <div className=\"settings-section\">\n          <h3>Idioma</h3>\n          <select \n            value={settings.language}\n            onChange={(e) => handleSettingChange('language', e.target.value)}\n            className=\"settings-select\"\n          >\n            <option value=\"pt-BR\">Portugu√™s</option>\n            <option value=\"en-US\">English</option>\n            <option value=\"es-ES\">Espa√±ol</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"settings-footer\">\n        <button \n          className=\"settings-button secondary\"\n          onClick={handleReset}\n        >\n          Restaurar Padr√µes\n        </button>\n        \n        <button \n          className=\"settings-button primary\"\n          onClick={handleBack}\n        >\n          Salvar\n        </button>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport type { ScreenType } from '../../types/screens'\n\ninterface AboutScreenProps {\n  onNavigate: (screen: ScreenType) => void\n  appName?: string\n  version?: string\n  description?: string\n  developer?: string\n}\n\nexport const AboutScreen: React.FC<AboutScreenProps> = ({\n  onNavigate,\n  appName = 'Realidade Aumentada',\n  version = '1.0.0',\n  description = 'Uma aplica√ß√£o inovadora de realidade aumentada desenvolvida com tecnologias modernas.',\n  developer = 'Desenvolvedor AR'\n}) => {\n  const handleBack = () => {\n    onNavigate('cover')\n  }\n\n  return (\n    <div className=\"about-screen\">\n      <div className=\"about-header\">\n        <button \n          className=\"about-back-button\"\n          onClick={handleBack}\n        >\n          ‚Üê Voltar\n        </button>\n        \n        <h1 className=\"about-title\">Sobre</h1>\n      </div>\n\n      <div className=\"about-content\">\n        <div className=\"about-app-info\">\n          <h2 className=\"app-name\">{appName}</h2>\n          <p className=\"app-version\">Vers√£o {version}</p>\n          <p className=\"app-description\">{description}</p>\n        </div>\n\n        <div className=\"about-section\">\n          <h3>Desenvolvedor</h3>\n          <p>{developer}</p>\n        </div>\n\n        <div className=\"about-section\">\n          <h3>Tecnologias</h3>\n          <ul className=\"tech-list\">\n            <li>React 18</li>\n            <li>TypeScript</li>\n            <li>A-Frame</li>\n            <li>AR.js</li>\n            <li>Vite</li>\n          </ul>\n        </div>\n\n        <div className=\"about-section\">\n          <h3>Funcionalidades</h3>\n          <ul className=\"features-list\">\n            <li>Renderiza√ß√£o 3D em tempo real</li>\n            <li>Adi√ß√£o de objetos 3D</li>\n            <li>Captura de screenshots</li>\n            <li>Interface responsiva</li>\n            <li>Suporte a gestos</li>\n          </ul>\n        </div>\n\n        <div className=\"about-section\">\n          <h3>Licen√ßa</h3>\n          <p>MIT License - C√≥digo aberto</p>\n        </div>\n      </div>\n\n      <div className=\"about-footer\">\n        <button \n          className=\"about-button\"\n          onClick={handleBack}\n        >\n          Voltar ao In√≠cio\n        </button>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { useRA } from '../contexts/RAContext'\n\nexport const RADataDisplay: React.FC = () => {\n  const { raData, loading, error, refreshData } = useRA()\n\n  if (loading) {\n    return (\n      <div style={{ \n        padding: '10px', \n        background: 'rgba(0,0,0,0.8)', \n        color: 'white', \n        borderRadius: '5px',\n        fontSize: '12px'\n      }}>\n        üîÑ Carregando dados do RA...\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div style={{ \n        padding: '10px', \n        background: 'rgba(255,0,0,0.8)', \n        color: 'white', \n        borderRadius: '5px',\n        fontSize: '12px'\n      }}>\n        ‚ùå Erro: {error}\n        <button \n          onClick={refreshData}\n          style={{ \n            marginLeft: '10px', \n            padding: '2px 8px',\n            background: 'white',\n            color: 'red',\n            border: 'none',\n            borderRadius: '3px',\n            cursor: 'pointer'\n          }}\n        >\n          üîÑ Tentar novamente\n        </button>\n      </div>\n    )\n  }\n\n  if (!raData) {\n    return (\n      <div style={{ \n        padding: '10px', \n        background: 'rgba(255,165,0,0.8)', \n        color: 'white', \n        borderRadius: '5px',\n        fontSize: '12px'\n      }}>\n        ‚ö†Ô∏è Nenhum dado carregado\n      </div>\n    )\n  }\n\n  return (\n    <div style={{ \n      padding: '10px', \n      background: 'rgba(0,0,0,0.8)', \n      color: 'white', \n      borderRadius: '5px',\n      fontSize: '12px',\n      fontFamily: 'monospace'\n    }}>\n      <div>üìä Dados do RA:</div>\n      <div>üè∑Ô∏è Marca: {raData.metadados.marca}</div>\n      <div>üî¢ C√≥digo: {raData.metadados.codigo}</div>\n      <button \n        onClick={refreshData}\n        style={{ \n          marginTop: '5px', \n          padding: '2px 8px',\n          background: '#4CAF50',\n          color: 'white',\n          border: 'none',\n          borderRadius: '3px',\n          cursor: 'pointer',\n          fontSize: '10px'\n        }}\n      >\n        ÔøΩÔøΩ Atualizar\n      </button>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { CoverScreen } from './screens/CoverScreen'\nimport { TutorialScreen } from './screens/TutorialScreen'\nimport { ARScreen } from './screens/ARScreen'\nimport { SettingsScreen } from './screens/SettingsScreen'\nimport { AboutScreen } from './screens/AboutScreen'\nimport { RADataDisplay } from './RADataDisplay'\nimport type { ScreenType, TransitionType, TransitionDirection } from '../types/screens'\n\ninterface ScreenManagerProps {\n  initialScreen: ScreenType\n  appConfig: {\n    title: string\n    subtitle: string\n    version: string\n    developer: string\n  }\n  // Configura√ß√£o de transi√ß√£o padr√£o\n  defaultTransition?: TransitionType\n  defaultDirection?: TransitionDirection\n}\n\n// Transi√ß√µes\n/*\nfade: 'fade',\nslide-horizontal: 'slide-horizontal',\nslide-vertical: 'slide-vertical',\nzoom-in: 'zoom-in',\nzoom-out: 'zoom-out',\nflip: 'flip',\nnone: 'none'\n */\n\nexport const ScreenManager: React.FC<ScreenManagerProps> = ({\n  initialScreen,\n  appConfig,\n  defaultTransition = 'zoom-out',\n  defaultDirection = 'right'\n}) => {\n  const [currentScreen, setCurrentScreen] = useState<ScreenType>(initialScreen)\n  const [isTransitioning, setIsTransitioning] = useState(false)\n  const [transitionType, setTransitionType] = useState<TransitionType>(defaultTransition)\n  const [transitionDirection, setTransitionDirection] = useState<TransitionDirection>(defaultDirection)\n\n  // Fun√ß√£o para determinar dire√ß√£o autom√°tica baseada na ordem das telas\n  const getAutoDirection = (from: ScreenType, to: ScreenType): TransitionDirection => {\n    const screenOrder = ['cover', 'tutorial', 'ar', 'settings', 'about']\n    const fromIndex = screenOrder.indexOf(from)\n    const toIndex = screenOrder.indexOf(to)\n    \n    if (toIndex > fromIndex) return 'right'\n    if (toIndex < fromIndex) return 'left'\n    return 'right'\n  }\n\n  const navigateTo = (\n    screen: ScreenType, \n    transition?: TransitionType, \n    direction?: TransitionDirection\n  ) => {\n    const finalTransition = transition || transitionType\n    const finalDirection = direction || getAutoDirection(currentScreen, screen)\n    \n    setTransitionType(finalTransition)\n    setTransitionDirection(finalDirection)\n    setIsTransitioning(true)\n    \n    setTimeout(() => {\n      setCurrentScreen(screen)\n      setIsTransitioning(false)\n    }, 300)\n  }\n\n  // Fun√ß√£o para mudar o tipo de transi√ß√£o globalmente\n  const setGlobalTransition = (type: TransitionType) => {\n    setTransitionType(type)\n  }\n\n  const renderScreen = () => {\n    switch (currentScreen) {\n      case 'cover':\n        return <CoverScreen onNavigate={navigateTo} />\n      case 'tutorial':\n        return <TutorialScreen onNavigate={navigateTo} />\n      case 'ar':\n        return <ARScreen onNavigate={navigateTo} />\n      case 'settings':\n        return <SettingsScreen onNavigate={navigateTo} />\n      case 'about':\n        return <AboutScreen onNavigate={navigateTo} />\n      default:\n        return <CoverScreen onNavigate={navigateTo} />\n    }\n  }\n\n  // Gera classes CSS din√¢micas baseadas no tipo de transi√ß√£o\n  const getTransitionClasses = () => {\n    const baseClass = 'screen-manager'\n    const transitionClass = `transition-${transitionType}`\n    const directionClass = `direction-${transitionDirection}`\n    const transitioningClass = isTransitioning ? 'transitioning' : ''\n    \n    return `${baseClass} ${transitionClass} ${directionClass} ${transitioningClass}`.trim()\n  }\n\n  return (\n    <div className={getTransitionClasses()}>\n      {/* Componente de dados do RA sempre vis√≠vel */}\n      <div style={{ \n        position: 'fixed', \n        top: '10px', \n        right: '10px', \n        zIndex: 1000 \n      }}>\n        <RADataDisplay />\n      </div>\n      \n      {renderScreen()}\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\n\nexport const LandscapeBlocker: React.FC = () => {\n  const [isBlocked, setIsBlocked] = useState(false)\n\n  const checkOrientation = () => {\n    // M√∫ltiplas formas de detectar landscape\n    const width = window.innerWidth\n    const height = window.innerHeight\n    const isLandscape = width > height\n    \n    // Verificar se √© mobile (para n√£o bloquear desktop)\n    const userAgent = navigator.userAgent.toLowerCase()\n    const isMobile = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(userAgent) || \n                     ('ontouchstart' in window) ||\n                     (navigator.maxTouchPoints > 0)\n    \n    // Para desktop, tamb√©m bloquear se a largura for menor que 768px E landscape\n    const isSmallScreen = width <= 768\n    \n    // Bloquear se for mobile E landscape OU se for tela pequena E landscape\n    if ((isMobile && isLandscape) || (isSmallScreen && isLandscape)) {\n      setIsBlocked(true)\n      // Desabilitar intera√ß√µes com elementos abaixo\n      document.body.style.overflow = 'hidden'\n      document.body.style.touchAction = 'none'\n    } else {\n      setIsBlocked(false)\n      // Reabilitar intera√ß√µes\n      document.body.style.overflow = ''\n      document.body.style.touchAction = ''\n    }\n  }\n\n  useEffect(() => {\n    // Verificar orienta√ß√£o inicial\n    checkOrientation()\n\n    // Adicionar listeners com debounce para evitar muitas chamadas\n    let resizeTimeout: NodeJS.Timeout\n    let orientationTimeout: NodeJS.Timeout\n\n    const handleResize = () => {\n      clearTimeout(resizeTimeout)\n      resizeTimeout = setTimeout(() => {\n        checkOrientation()\n      }, 100)\n    }\n\n    const handleOrientationChange = () => {\n      clearTimeout(orientationTimeout)\n      orientationTimeout = setTimeout(() => {\n        checkOrientation()\n      }, 300)\n    }\n\n    const handleScreenOrientationChange = () => {\n      clearTimeout(orientationTimeout)\n      orientationTimeout = setTimeout(() => {\n        checkOrientation()\n      }, 300)\n    }\n\n    const handleMediaQueryChange = (e: MediaQueryListEvent) => {\n      clearTimeout(orientationTimeout)\n      orientationTimeout = setTimeout(() => {\n        checkOrientation()\n      }, 100)\n    }\n\n    // Listener para redimensionamento da janela\n    window.addEventListener('resize', handleResize)\n    \n    // Listener para mudan√ßa de orienta√ß√£o\n    window.addEventListener('orientationchange', handleOrientationChange)\n    \n    // Listener para mudan√ßa de orienta√ß√£o em dispositivos m√≥veis\n    if (window.screen && window.screen.orientation) {\n      window.screen.orientation.addEventListener('change', handleScreenOrientationChange)\n    }\n    \n    // Listener para mudan√ßa de orienta√ß√£o usando matchMedia\n    const mediaQuery = window.matchMedia('(orientation: landscape)')\n    mediaQuery.addEventListener('change', handleMediaQueryChange)\n\n    // Verificar periodicamente para garantir que n√£o perdeu nenhum evento\n    const intervalCheck = setInterval(() => {\n      checkOrientation()\n    }, 2000)\n\n    return () => {\n      clearTimeout(resizeTimeout)\n      clearTimeout(orientationTimeout)\n      clearInterval(intervalCheck)\n      \n      window.removeEventListener('resize', handleResize)\n      window.removeEventListener('orientationchange', handleOrientationChange)\n      if (window.screen && window.screen.orientation) {\n        window.screen.orientation.removeEventListener('change', handleScreenOrientationChange)\n      }\n      mediaQuery.removeEventListener('change', handleMediaQueryChange)\n      \n      // Reabilitar intera√ß√µes ao desmontar\n      document.body.style.overflow = ''\n      document.body.style.touchAction = ''\n    }\n  }, [])\n\n  // S√≥ renderizar o overlay quando bloqueado\n  if (!isBlocked) return null\n\n  return (\n    <div \n      className=\"landscape-blocker\"\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        zIndex: 999999999,\n        color: 'white',\n        fontFamily: 'Arial, sans-serif',\n        textAlign: 'center',\n        padding: '20px',\n        boxSizing: 'border-box',\n        pointerEvents: 'auto'\n      }}\n    >\n      {/* √çcone de rota√ß√£o */}\n      <div \n        style={{\n          width: '80px',\n          height: '80px',\n          marginBottom: '20px',\n          fontSize: '60px',\n          animation: 'rotate 2s ease-in-out infinite'\n        }}\n      >\n        üì±\n      </div>\n      \n      {/* Texto informativo */}\n      <h2 style={{ margin: '0 0 10px 0', fontSize: '24px' }}>\n        Gire seu dispositivo\n      </h2>\n      \n      <p style={{ margin: '0', fontSize: '16px', opacity: 0.9 }}>\n        Para uma melhor experi√™ncia de Realidade Aumentada, \n        mantenha seu dispositivo na orienta√ß√£o retrato (vertical).\n      </p>\n      \n      {/* CSS para anima√ß√£o */}\n      <style>\n        {`\n          @keyframes rotate {\n            0%, 100% { transform: rotate(0deg); }\n            50% { transform: rotate(90deg); }\n          }\n        `}\n      </style>\n    </div>\n  )\n}\n","import React from 'react'\nimport { ScreenManager } from './components/ScreenManager'\nimport { RAProvider } from './contexts/RAContext'\nimport { LandscapeBlocker } from './components/LandscapeBlocker'\nimport './App.css'\n\nfunction App() {\n  const appConfig = {\n    title: 'Realidade Aumentada',\n    subtitle: 'Explore o mundo em 3D',\n    version: '1.0.0',\n    developer: 'AR Developer'\n  }\n\n  return (\n    <RAProvider>\n      <div className=\"ar-app\">\n        <LandscapeBlocker />\n        <ScreenManager \n          initialScreen=\"cover\"\n          appConfig={appConfig}\n        />\n      </div>\n    </RAProvider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App.tsx'\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n)\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","CoverScreen","onNavigate","title","subtitle","backgroundImage","jsx","jsxs","RAContext","createContext","useRA","context","useContext","RAProvider","children","raData","setRaData","useState","loading","setLoading","error","setError","loadRAData","response","data","err","errorMessage","refreshData","useEffect","value","Instructions","onPlay","handlePlayClick","containerStyle","DEFAULT_STEPS","TutorialScreen","steps","previousDataRef","useRef","currentStep","setCurrentStep","dist","Scene_1","Entity_1","_extends","target","i","source","key","_createClass","defineProperties","props","descriptor","Constructor","protoProps","staticProps","_react","_react2","_interopRequireDefault","obj","_classCallCheck","instance","_possibleConstructorReturn","self","call","_inherits","subClass","superClass","nonEntityPropNames","filterNonEntityPropNames","propName","options","doSetAttribute","el","updateAttributes","prevProps","Entity","_React$Component","_ref","_temp","_this","_ret","_len","args","_key","eventName","addEventListeners","prevState","updateEventListeners","removeEventListeners","elementName","reactProps","_Entity","Scene","_this2","prevEvents","events","handlers","ARSceneAFrame","forwardRef","className","onSceneReady","cameraFacing","ref","sceneRef","entities","setEntities","sceneReady","setSceneReady","videoRef","mediaStreamRef","currentFacing","setCurrentFacing","vrButton","teardownCamera","t","setupCamera","facing","stream","video","useImperativeHandle","id","prev","sceneEl","renderer","sceneProps","entity","ARControls","onToggleFacing","onToggleFaceTracking","faceTrackingEnabled","handleCapture","screenshot","link","FaceTracker","enabled","canvasRef","rafRef","modelsLoadedRef","statusRef","prevRotRef","prevPosRef","maskImgRef","maskLoadedRef","ensureCanvas","removeCanvas","loadFaceApi","resolve","reject","script","loadModels","faceapi","MODEL_URL","loadMask","base","_b","_a","normalize","candidates","index","img","tryNext","url","setCanvasSize","canvas","dpr","ctx","start","resizeCanvas","detect","isMirrored","detections","canvasCssWidth","canvasCssHeight","scaleX","scaleY","mapX","x","w","raw","mapY","y","drawPoint","label","color","px","py","det","box","rawW","expr","entries","topLabel","topScore","textW","pts","noseTip","noseLeft","noseRight","mouthLeft","mouthRight","mouthTop","mouthBottom","leftEyeIdx","rightEyeIdx","avg","arr","eyeCenter","ids","leftEye","rightEye","chin","midEyes","midEyesPx","dxEyes","dyEyes","rollDeg","eyeDist","yawDeg","pitchDeg","clamp","v","rollRad","targetW","ratio","targetH","centerX","centerY","shearX","shearY","scaleXmask","scaleYmask","alphaR","prevR","smoothedR","cameraEl","headEl","threeCam","THREE","nx","ny","depth","origin","dir","ndc","targetPos","alphaP","prevP","smoothedP","cleanupResize","ARScreen","showBackButton","setCameraFacing","setFaceTrackingEnabled","handleBack","handleSettings","handleToggleFacing","next","handleToggleFaceTracking","DEFAULT_SETTINGS","SettingsScreen","onSettingsChange","settings","setSettings","handleSettingChange","newSettings","handleReset","AboutScreen","appName","version","description","developer","RADataDisplay","ScreenManager","initialScreen","appConfig","defaultTransition","defaultDirection","currentScreen","setCurrentScreen","isTransitioning","setIsTransitioning","transitionType","setTransitionType","transitionDirection","setTransitionDirection","getAutoDirection","from","to","screenOrder","fromIndex","toIndex","navigateTo","screen","transition","direction","finalTransition","finalDirection","renderScreen","getTransitionClasses","baseClass","transitionClass","directionClass","LandscapeBlocker","isBlocked","setIsBlocked","checkOrientation","width","height","isLandscape","userAgent","isMobile","isSmallScreen","resizeTimeout","orientationTimeout","handleResize","handleOrientationChange","handleScreenOrientationChange","handleMediaQueryChange","mediaQuery","intervalCheck","App","ReactDOM","React"],"mappings":"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","x_google_ignoreList":[0,1,2,7]}