import{r as l,a as Ke,R as Qe}from"./vendor-b1791c80.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var ze={exports:{}},fe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze=l,et=Symbol.for("react.element"),tt=Symbol.for("react.fragment"),nt=Object.prototype.hasOwnProperty,st=Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,at={key:!0,ref:!0,__self:!0,__source:!0};function $e(a,t,n){var s,r={},o=null,h=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(h=t.ref);for(s in t)nt.call(t,s)&&!at.hasOwnProperty(s)&&(r[s]=t[s]);if(a&&a.defaultProps)for(s in t=a.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:et,type:a,key:o,ref:h,props:r,_owner:st.current}}fe.Fragment=tt;fe.jsx=$e;fe.jsxs=$e;ze.exports=fe;var e=ze.exports,Ee={},Le=Ke;Ee.createRoot=Le.createRoot,Ee.hydrateRoot=Le.hydrateRoot;async function rt(){try{const a=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});let t=document.getElementById("arjs-video");return t||(t=document.createElement("video"),t.setAttribute("id","arjs-video"),t.setAttribute("playsinline",""),t.setAttribute("autoplay",""),t.muted=!0,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100vh",t.style.objectFit="cover",t.style.zIndex="0",t.style.display="none",t.style.visibility="hidden",t.style.opacity="0",document.body.appendChild(t)),t.srcObject=a,await t.play(),a}catch(a){return console.warn("Erro ao inicializar cÃ¢mera (serÃ¡ tentado novamente na tela AR):",a),null}}async function it(){if(!window.faceapi)return new Promise((a,t)=>{const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",n.onload=()=>{console.log("face-api.js carregado"),a()},n.onerror=()=>t(new Error("Failed to load face-api.js")),document.head.appendChild(n)})}async function ot(){return new Promise(a=>{if(typeof window<"u"&&window.AFRAME){console.log("A-Frame jÃ¡ estÃ¡ pronto"),a();return}const t=()=>{typeof window<"u"&&window.AFRAME?(console.log("A-Frame carregado"),a()):setTimeout(t,100)};t()})}function ct(a,t){if(typeof DeviceOrientationEvent>"u")return console.log("DeviceOrientationEvent nÃ£o disponÃ­vel"),()=>{};if(DeviceOrientationEvent.requestPermission){const n=async()=>{try{console.log("Solicitando permissÃ£o de orientaÃ§Ã£o do dispositivo..."),a(),await DeviceOrientationEvent.requestPermission()==="granted"?(console.log("PermissÃ£o de orientaÃ§Ã£o do dispositivo concedida"),window.dispatchEvent(new Event("deviceorientation")),t()):console.warn("PermissÃ£o de orientaÃ§Ã£o negada")}catch(s){console.warn("Erro ao solicitar permissÃ£o de orientaÃ§Ã£o:",s)}};return document.addEventListener("touchstart",n,{once:!0,passive:!0}),document.addEventListener("click",n,{once:!0,passive:!0}),()=>{document.removeEventListener("touchstart",n),document.removeEventListener("click",n)}}else return console.log("DeviceOrientationEvent disponÃ­vel (nÃ£o requer permissÃ£o)"),()=>{}}const Te=({onNavigate:a,onLoadingComplete:t})=>{const[n,s]=l.useState(0),[r,o]=l.useState("Inicializando..."),[h,d]=l.useState(!1);return l.useEffect(()=>((async()=>{const g=["/assets/images/bg-capa.png","/assets/images/header-capa.png","/assets/images/bottom-capa.png","/assets/images/btn-jogar.png","/assets/images/tutorial-panel.png","/assets/images/btn-comecar.png","/assets/images/sprites/nave.png","/assets/images/sprites/estrela.png","/assets/images/sprites/cometa.png","/assets/images/sprites/barra-progresso.png","/assets/images/sprites/contador.png","/assets/images/sprites/feedback-acerto.png","/assets/images/sprites/feedback-erro.png","/assets/images/modal-acerto.png","/assets/images/modal-erro.png","/assets/images/btn-registrar.png","/assets/images/btn-inicio.png","/assets/images/btn-voltar.png","/assets/images/Titulo.png","/assets/images/btJogar.png","/assets/images/btCreditos.png","/assets/images/SKY.png","/assets/images/mascara.png","/assets/data/ra.json"],f=(()=>{var S,R;const i=((R=(S=import.meta)==null?void 0:S.env)==null?void 0:R.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/");return i&&i!=="/"?i.endsWith("/")?i:i+"/":"/"})();ct(()=>{d(!0),o("Solicitando permissÃ£o de orientaÃ§Ã£o...")},()=>{o("PermissÃ£o concedida!"),setTimeout(()=>{o("Carregando recursos...")},1e3)});try{o("Solicitando permissÃ£o da cÃ¢mera..."),await rt(),o("Inicializando A-Frame..."),await ot(),o("Carregando face-api.js..."),await it(),!h&&typeof DeviceOrientationEvent<"u"&&DeviceOrientationEvent.requestPermission&&o("Toque na tela para permitir orientaÃ§Ã£o do dispositivo..."),o("Carregando imagens...");for(let i=0;i<g.length;i++){const w=g[i],S=`${f}${w.startsWith("/")?w.slice(1):w}`;if(w.endsWith(".json"))try{if(!(await fetch(S)).ok)throw new Error(`Failed to load ${w}`)}catch(k){console.warn(`Failed to load ${w}:`,k)}else await new Promise(k=>{const u=new Image;u.onload=()=>k(u),u.onerror=()=>{console.warn(`Failed to load image: ${S}`),k(null)},u.src=S});const R=Math.round((i+1)/g.length*100);s(R)}o("Finalizando..."),await new Promise(i=>setTimeout(i,300)),s(100),o("ConcluÃ­do!"),await new Promise(i=>setTimeout(i,200)),t==null||t(),a("cover","fade")}catch(i){console.error("Erro ao carregar recursos:",i),o("Erro ao carregar. Continuando..."),setTimeout(()=>{a("cover")},1e3)}})(),()=>{}),[a,t]),e.jsx("div",{className:"loading-screen",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("div",{className:"loading-logo",children:e.jsx("div",{className:"loading-spinner"})}),e.jsx("h2",{className:"loading-title",children:"Carregando"}),e.jsxs("div",{className:"loading-progress-container",children:[e.jsx("div",{className:"loading-progress-bar",children:e.jsx("div",{className:"loading-progress-fill",style:{width:`${n}%`}})}),e.jsxs("p",{className:"loading-percentage",children:[n,"%"]})]}),e.jsx("p",{className:"loading-status",children:r})]})})},lt=({onNavigate:a,backgroundImage:t})=>{const s=(()=>{var f,i;const g=((i=(f=import.meta)==null?void 0:f.env)==null?void 0:i.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),v=g&&g!=="/"?g.endsWith("/")?g:g+"/":"/";return v==="/"?"":v.endsWith("/")?v.slice(0,-1):v})(),r=g=>{if(s==="")return g.startsWith("/")?g:`/${g}`;const v=g.startsWith("/")?g.slice(1):g;return`${s}/${v}`},o=t||r("assets/images/bg-capa.png"),h=r("assets/images/header-capa.png"),d=r("assets/images/bottom-capa.png"),p=r("assets/images/btn-jogar.png");return e.jsxs("div",{className:"cover-screen",style:{backgroundImage:`url("${o}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"cover-header-image",children:e.jsx("img",{src:h,alt:"Header",className:"cover-header-img"})}),e.jsx("div",{className:"cover-content",children:e.jsx("button",{className:"cover-button-jogar",onClick:()=>a("tutorial"),style:{backgroundImage:`url(${p})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})}),e.jsx("div",{className:"cover-bottom-image",children:e.jsx("img",{src:d,alt:"Bottom",className:"cover-bottom-img"})})]})},dt=({onNavigate:a})=>{const n=(()=>{var g,v;const d=((v=(g=import.meta)==null?void 0:g.env)==null?void 0:v.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),p=d&&d!=="/"?d.endsWith("/")?d:d+"/":"/";return p==="/"?"":p.endsWith("/")?p.slice(0,-1):p})(),s=d=>{if(n==="")return d.startsWith("/")?d:`/${d}`;const p=d.startsWith("/")?d.slice(1):d;return`${n}/${p}`},r=s("assets/images/bg-capa.png"),o=s("assets/images/tutorial-panel.png"),h=s("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${r}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:o,alt:"Tutorial Panel",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>a("ar"),style:{backgroundImage:`url("${h}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})},ut=({enabled:a})=>{const t=l.useRef(null),n=l.useRef(null),s=l.useRef(!1),r=l.useRef({x:0,y:0,z:0}),o=l.useRef({x:0,y:1,z:-1.2}),h=l.useRef(null),d=l.useRef(!1),p=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return l.useEffect(()=>{function g(){if(!t.current){const u=document.createElement("canvas");u.id="face-tracker-overlay",u.style.position="fixed",u.style.top="0",u.style.left="0",u.style.width="100vw",u.style.height="100vh",u.style.pointerEvents="none",u.style.zIndex="9999",document.body.appendChild(u),t.current=u}}function v(){t.current&&t.current.parentNode&&(t.current.parentNode.removeChild(t.current),t.current=null)}async function f(){window.faceapi||(await new Promise((u,y)=>{const N=document.createElement("script");N.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",N.onload=()=>u(),N.onerror=()=>y(new Error("Falha ao carregar face-api.js")),document.head.appendChild(N)}),console.log("face-api.js carregado"))}async function i(){if(s.current)return;const u=window.faceapi,y="https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights";p?await Promise.all([u.nets.tinyFaceDetector.loadFromUri(y),u.nets.faceLandmark68Net.loadFromUri(y)]):await Promise.all([u.nets.tinyFaceDetector.loadFromUri(y),u.nets.faceLandmark68Net.loadFromUri(y),u.nets.faceExpressionNet.loadFromUri(y)]),s.current=!0,console.log("Modelos de face-api carregados")}function w(){var J,D;if(d.current)return;const u=((D=(J=import.meta)==null?void 0:J.env)==null?void 0:D.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),y=I=>{if(!u||u==="/")return I.startsWith("/")?I:`/${I}`;const O=u.endsWith("/")?u:u+"/";return I.startsWith("/")?O+I.replace(/^\//,""):O+I},U=["assets/images/mascara.png","images/mascara.png","mascara.png"].map(y),x=!u||u==="/"?["/mascara.png","/assets/images/mascara.png","/images/mascara.png"]:[],T=[...U,...x];let z=0;const M=new Image,_=()=>{if(z>=T.length){console.warn("NÃ£o foi possÃ­vel carregar mascara.png de nenhum caminho:",T);return}const I=T[z++]+`?v=${Date.now()}`;M.src=I,console.log("BASE_URL resolvido:",u,"| Tentando mÃ¡scara em:",I)};M.onload=()=>{d.current=!0,h.current=M,console.log("MÃ¡scara carregada em:",M.src)},M.onerror=()=>{_()},h.current=M,_()}function S(u){const y=p?1:Math.max(1,window.devicePixelRatio||1);u.width=Math.floor(window.innerWidth*y),u.height=Math.floor(window.innerHeight*y);const N=u.getContext("2d");N&&N.setTransform(y,0,0,y,0,0)}async function R(){g(),await f(),await i(),w();const u=()=>new Promise((_,J)=>{let D=!1;const I=setTimeout(()=>{D||J(new Error("Timeout aguardando vÃ­deo da cÃ¢mera"))},15e3),O=L=>{if(!L)return!1;const B=!!L.srcObject;return(L.readyState>=2||!L.paused&&L.currentTime>0)&&B?(D=!0,clearTimeout(I),L.removeEventListener("playing",A),C.disconnect(),_(L),!0):!1},A=L=>{const B=L.target;O(B)},C=new MutationObserver(()=>{const L=document.getElementById("arjs-video");O(L)||L&&L.addEventListener("playing",A,{once:!0})});C.observe(document.body,{childList:!0,subtree:!0});const H=document.getElementById("arjs-video");O(H)||H&&H.addEventListener("playing",A,{once:!0})});let y;try{y=await u()}catch(_){console.warn("FaceTracker: vÃ­deo nÃ£o disponÃ­vel a tempo",_);return}const N=t.current;if(!y||!N)return;const U=window.faceapi,x=N.getContext("2d");function T(){N&&S(N)}T(),window.addEventListener("resize",T);const z=async()=>{try{if(!a)return;if(!y.videoWidth){M();return}if(p&&y.paused){const O=()=>{y.muted=!0,y.play().catch(()=>{}),window.removeEventListener("touchstart",O),window.removeEventListener("click",O)};window.addEventListener("touchstart",O,{passive:!0}),window.addEventListener("click",O)}const _=(getComputedStyle(y).transform||"").includes("matrix(-1")||(y.style.transform||"").includes("scaleX(-1)"),J=new U.TinyFaceDetectorOptions({inputSize:p?160:224,scoreThreshold:p?.35:.5});let D=window.faceapi.detectAllFaces(y,J).withFaceLandmarks();!p&&window.faceapi.nets.faceExpressionNet.isLoaded&&(D=D.withFaceExpressions());const I=await D;if(x){x.clearRect(0,0,N.width,N.height),p||(x.fillStyle="rgba(78,205,196,0.8)",x.beginPath(),x.arc(16,16,6,0,Math.PI*2),x.fill(),x.font="12px Arial",x.fillText(`faces: ${(I==null?void 0:I.length)||0}`,30,20));const O=p?1:Math.max(1,window.devicePixelRatio||1),A=N.width/O,C=N.height/O,H=A/y.videoWidth,L=C/y.videoHeight,B=(m,c=0)=>{const j=m*H;return _?A-(j+c):j},ee=m=>m*L,se=(m,c,j,P)=>{if(p)return;const E=B(m),b=ee(c);x.fillStyle=P,x.beginPath(),x.arc(E,b,4,0,Math.PI*2),x.fill(),x.fillStyle=P,x.fillText(j,E+6,b-6)};I&&I.length?I.forEach(m=>{var le;const c=m.detection.box,j=c.width*H,P=B(c.x,j),E=ee(c.y),b=j,F=c.height*L;if(p||(x.strokeStyle="#4ECDC4",x.lineWidth=3,x.strokeRect(P,E,b,F)),!p&&m.expressions){const W=m.expressions||{},de=Object.entries(W);if(de.length){const[ge,ue]=de.reduce((Y,X)=>Y[1]>X[1]?Y:X),ae=`${ge} ${(ue*100).toFixed(0)}%`;x.font="12px Arial";const K=x.measureText(ae).width+12;x.fillStyle="rgba(0,0,0,0.6)",x.fillRect(P,Math.max(0,E-22),K,20),x.fillStyle="#FFFFFF",x.fillText(ae,P+6,Math.max(12,E-8))}}const $=((le=m.landmarks)==null?void 0:le.positions)||[];if($.length===68){const W=$[30],de=[36,37,38,39,40,41],ge=[42,43,44,45,46,47],ue=q=>q.reduce((V,ce)=>V+ce,0)/q.length,ae=q=>({x:ue(q.map(V=>$[V].x)),y:ue(q.map(V=>$[V].y))}),K=ae(de),Y=ae(ge);p||(se(W.x,W.y,"nose","#00E5A8"),se(K.x,K.y,"eye-L","#EF476F"),se(Y.x,Y.y,"eye-R","#EF476F"));const X={x:(K.x+Y.x)/2,y:(K.y+Y.y)/2},Se={x:B(X.x),y:ee(X.y)},ke=Y.x-K.x,Ae=Y.y-K.y;let re=Math.atan2(Ae,ke)*180/Math.PI;const Pe=Math.hypot(ke,Ae)||1;let ie=(W.x-X.x)/Pe*60,he=-(W.y-X.y)/Pe*50;_&&(ie=-ie,re=-re);const pe=(q,V,ce)=>Math.max(V,Math.min(ce,q));ie=pe(ie,-60,60),he=pe(he,-50,50),re=pe(re,-45,45);const Ve=B(X.x),He=ee(X.y)+F*.1,Ye=Ve/A,Xe=He/C;window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:Ye,y:Xe,detected:!0}}));const ve=.25,te=r.current,Q={x:te.x+(he-te.x)*ve,y:te.y+(ie-te.y)*ve,z:te.z+(re-te.z)*ve};r.current=Q;const xe=document.getElementById("camera"),oe=document.getElementById("head-cube");if(xe&&oe){const q=xe.getObject3D&&xe.getObject3D("camera");if(q&&window.THREE){const V=window.THREE,ce=Se.x/A*2-1,Ge=-(Se.y/C*2-1),Je=1.2,ye=new V.Vector3,Fe=new V.Vector3,Ie=new V.Vector3(ce,Ge,.5);Ie.unproject(q),ye.copy(q.position),Fe.copy(Ie).sub(ye).normalize();const be=ye.clone().add(Fe.multiplyScalar(Je)),we=.35,ne=o.current,me={x:ne.x+(be.x-ne.x)*we,y:ne.y+(be.y-ne.y)*we,z:ne.z+(be.z-ne.z)*we};o.current=me,oe.setAttribute("position",`${me.x.toFixed(3)} ${me.y.toFixed(3)} ${me.z.toFixed(3)}`),oe.setAttribute("rotation",`${Q.x.toFixed(2)} ${Q.y.toFixed(2)} ${Q.z.toFixed(2)}`)}else oe.setAttribute&&oe.setAttribute("rotation",`${Q.x.toFixed(2)} ${Q.y.toFixed(2)} ${Q.z.toFixed(2)}`)}}}):(window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:.5,y:.5,detected:!1}})),p||(x.strokeStyle="rgba(255,107,107,0.8)",x.lineWidth=2,x.strokeRect(10,10,100,60)))}}catch(_){console.error("FaceTracker detect error:",_)}M()},M=()=>{p?setTimeout(()=>{n.current=requestAnimationFrame(z)},80):n.current=requestAnimationFrame(z)};return n.current=requestAnimationFrame(z),()=>{window.removeEventListener("resize",T)}}let k;if(a)R().then(u=>{k=u}).catch(u=>{console.error("FaceTracker start error:",u)});else if(n.current&&(cancelAnimationFrame(n.current),n.current=null),t.current){const u=t.current.getContext("2d");u&&u.clearRect(0,0,t.current.width,t.current.height)}return()=>{n.current&&(cancelAnimationFrame(n.current),n.current=null),k&&k(),v()}},[a]),null};var Z={},G;Object.defineProperty(Z,"__esModule",{value:!0});var Me=Z.Scene=G=Z.Entity=Z.options=void 0,mt=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},ft=function(){function a(t,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,n,s){return n&&a(t.prototype,n),s&&a(t,s),t}}(),gt=l,Oe=ht(gt);function ht(a){return a&&a.__esModule?a:{default:a}}function _e(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(a,t){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:a}function De(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(a,t):a.__proto__=t)}var pt=["children","events","primitive"],Ce=function(t){return pt.indexOf(t)===-1},Be={runSetAttributeOnUpdates:!0};Z.options=Be;function vt(a,t,n){if(n==="className")a.setAttribute("class",t.className);else{if(t[n]&&t[n].constructor===Function)return;a.setAttribute(n,t[n])}}function Ue(a,t,n){var s;if(!(!n||t===n)){for(s in n)Ce(s)&&vt(a,n,s);if(t)for(s in t)Ce(s)&&n[s]===void 0&&a.removeAttribute(s)}}var xt=G=Z.Entity=function(a){De(t,a);function t(){var n,s,r,o;_e(this,t);for(var h=arguments.length,d=Array(h),p=0;p<h;p++)d[p]=arguments[p];return o=(s=(r=Re(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(d))),r),r.initEntity=function(g){var v=r.props,f;if(g){if(r.el=g,v.events)for(f in v.events)We(g,f,v.events[f]);Ue(g,null,v),v._ref&&v._ref(g)}},s),Re(r,o)}return ft(t,[{key:"componentDidUpdate",value:function(s,r){var o=this.el,h=this.props;yt(o,s.events,h.events),Be.runSetAttributeOnUpdates&&Ue(o,s,h)}},{key:"componentWillUnmount",value:function(){var s=this.el,r=this.props,o;if(r.events)for(o in r.events)Ne(s,o,r.events[o])}},{key:"render",value:function(){var s=this.props,r=this.isScene?"a-scene":s.primitive||"a-entity",o,h={};for(o in s)(["className","id","mixin"].indexOf(o)!==-1||o.indexOf("data-")===0)&&(h[o]=s[o]);return Oe.default.createElement(r,mt({ref:this.initEntity},h),s.children)}}]),t}(Oe.default.Component);Me=Z.Scene=function(a){De(t,a);function t(n){_e(this,t);var s=Re(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return s.isScene=!0,s}return t}(xt);function yt(a,t,n){var s;if(!(!t||!n||t===n)){for(s in n)t[s]!==n[s]&&(t[s]&&Ne(a,s,t[s]),We(a,s,n[s]));for(s in t)n[s]||Ne(a,s,t[s])}}function We(a,t,n){var s;if(n)for(n.constructor===Function&&(n=[n]),s=0;s<n.length;s++)a.addEventListener(t,n[s])}function Ne(a,t,n){var s;if(n)for(n.constructor===Function&&(n=[n]),s=0;s<n.length;s++)a.removeEventListener(t,n[s])}const qe=l.forwardRef(({className:a="",onSceneReady:t,cameraFacing:n="environment"},s)=>{const r=l.useRef(null),[o,h]=l.useState([]),[d,p]=l.useState(!1);l.useEffect(()=>{const v=()=>{typeof window<"u"&&window.AFRAME?(p(!0),t&&t(),requestAnimationFrame(()=>{const f=document.querySelector(".a-enter-vr-button");f&&(f.style.display="none",f.style.visibility="hidden",f.style.pointerEvents="none"),typeof DeviceOrientationEvent<"u"&&(DeviceOrientationEvent.requestPermission?console.log("DeviceOrientationEvent requer permissÃ£o (jÃ¡ solicitada na tela de loading)"):console.log("DeviceOrientationEvent disponÃ­vel (nÃ£o requer permissÃ£o)"))})):setTimeout(v,100)};v()},[t]),l.useImperativeHandle(s,()=>({addEntity:v=>{const f=`entity-${Date.now()}`;return h(i=>[...i,{id:f,data:v}]),f},removeEntity:v=>{h(f=>f.filter(i=>i.id!==v))},getScene:()=>typeof window<"u"&&window.AFRAME&&document.querySelector("a-scene")||r.current,captureScreenshot:()=>{if(typeof window<"u"&&window.AFRAME){const v=document.querySelector("a-scene");if(v){const f=v.renderer;if(f&&f.domElement)return f.domElement.toDataURL("image/png")}}return""},setCameraFacing:v=>{console.log("Camera facing changed to:",v)}}),[]);const g={embedded:!0,"vr-mode-ui":"enabled: false","device-orientation-permission-ui":"enabled: true",renderer:"alpha: true; antialias: true; colorManagement: true; physicallyCorrectLights: false; sortObjects: true; logarithmicDepthBuffer: false; precision: mediump;",webxr:"enabled: false",background:"transparent: true",stats:"false"};return e.jsxs("div",{className:`ar-scene-aframe ${a}`,style:{width:"100%",height:"100%",position:"relative",zIndex:1},children:[d&&e.jsxs(Me,{...g,children:[e.jsx(G,{primitive:"a-assets",children:e.jsx("img",{id:"skyTexture",src:"/assets/images/SKY.jpg",crossOrigin:"anonymous"})}),e.jsx(G,{primitive:"a-sky",rotation:"0 -90 0",material:{src:"#skyTexture",opacity:.5,transparent:!0}}),e.jsx(G,{id:"camera",camera:{active:!0},lookControls:{enabled:!0,reverseMouseDrag:!1,touchEnabled:!0,magicWindowTrackingEnabled:!0,pointerLockEnabled:!1,touchSensitivity:1,mouseSensitivity:1},wasdControls:{enabled:!1},"device-orientation-permission-ui":{enabled:!0},position:"0 1.6 0"}),e.jsx(G,{light:{type:"ambient",color:"#888"}}),e.jsx(G,{light:{type:"directional",color:"#fff",intensity:.6},position:"1 1 1"}),o.map(v=>e.jsx(G,{...v.data},v.id)),e.jsx(G,{id:"head-cube",geometry:{primitive:"box",width:.3,height:.3,depth:.3},material:{color:"#FF6B6B",opacity:.9,transparent:!0},position:"0 1 -1.2",rotation:"0 0 0"}),!1]}),!d&&e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#fff"},children:"Carregando A-Frame..."})]})});qe.displayName="ARSceneAFrame";const bt=({onNavigate:a})=>{const t=l.useRef(null),n=l.useRef(null),[s,r]=l.useState(0),[o,h]=l.useState(60),[d,p]=l.useState(!1),[g,v]=l.useState(!1),[f,i]=l.useState(0),[w,S]=l.useState(null),[R,k]=l.useState(!0),[u,y]=l.useState(null),[N,U]=l.useState(!1),[x,T]=l.useState(null),z=l.useRef([]),M=l.useRef({x:.5,y:.5}),_=l.useRef(!1),J=l.useRef(null),D=l.useRef(null);l.useEffect(()=>{async function m(){try{let c=document.getElementById("arjs-video");if(c&&c.srcObject){c.classList.add("ar-video-visible"),await new Promise(E=>{const b=()=>{document.getElementById("face-tracker-overlay")||c.readyState>=2?E():setTimeout(b,100)};b()}),k(!1);return}const j=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});c||(c=document.createElement("video"),c.setAttribute("id","arjs-video"),c.setAttribute("playsinline",""),c.setAttribute("autoplay",""),c.muted=!0,c.style.position="fixed",c.style.top="0",c.style.left="0",c.style.width="100vw",c.style.height="100vh",c.style.objectFit="cover",c.style.zIndex="0",c.classList.add("ar-video-visible"),document.body.appendChild(c)),c.srcObject&&c.srcObject.getTracks().forEach(b=>b.stop()),c.srcObject=j,D.current=j,J.current=c,await(async()=>{try{c.readyState>=2?await c.play():await new Promise((E,b)=>{const F=()=>{c.removeEventListener("loadedmetadata",F),c.removeEventListener("error",$),c.play().then(E).catch(b)},$=()=>{c.removeEventListener("loadedmetadata",F),c.removeEventListener("error",$),b(new Error("Video load error"))};c.addEventListener("loadedmetadata",F,{once:!0}),c.addEventListener("error",$,{once:!0}),c.readyState>=1&&c.play().then(E).catch(b)})}catch(E){if(c.paused===!1)return;console.warn("Erro ao dar play no vÃ­deo:",E)}})(),await new Promise(E=>{const b=()=>{document.getElementById("face-tracker-overlay")||c.readyState>=2?E():setTimeout(b,100)};b()}),k(!1)}catch(c){console.error("Erro ao inicializar cÃ¢mera:",c),k(!1)}}return m(),()=>{}},[]),l.useEffect(()=>{!R&&!d&&u===null&&y(3)},[R,d,u]),l.useEffect(()=>{if(u===null||u<=0){u===0&&setTimeout(()=>{y(null),p(!0)},500);return}const m=setTimeout(()=>{y(u-1)},1e3);return()=>clearTimeout(m)},[u]);const O=(()=>{var j,P;const m=((P=(j=import.meta)==null?void 0:j.env)==null?void 0:P.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),c=m&&m!=="/"?m.endsWith("/")?m:m+"/":"/";return c==="/"?"":c.endsWith("/")?c.slice(0,-1):c})(),A=m=>{if(O==="")return m.startsWith("/")?m:`/${m}`;const c=m.startsWith("/")?m.slice(1):m;return`${O}/${c}`},C={nave:A("assets/images/sprites/nave.png"),estrela:A("assets/images/sprites/estrela.png"),cometa:A("assets/images/sprites/cometa.png"),barraProgresso:A("assets/images/sprites/barra-progresso.png"),contador:A("assets/images/sprites/contador.png"),feedbackAcerto:A("assets/images/sprites/feedback-acerto.png"),feedbackErro:A("assets/images/sprites/feedback-erro.png"),modalAcerto:A("assets/images/modal-acerto.png"),modalErro:A("assets/images/modal-erro.png"),btnRegistrar:A("assets/images/btn-registrar.png"),btnInicio:A("assets/images/btn-inicio.png"),btnVoltar:A("assets/images/btn-voltar.png")},H=l.useRef({});l.useEffect(()=>{(async()=>{const c=Object.entries(C).map(([j,P])=>new Promise(E=>{const b=new Image;b.onload=()=>{H.current[j]=b,E()},b.onerror=()=>{console.warn(`Failed to load image: ${P}`),E()},b.src=P}));await Promise.all(c)})()},[]),l.useEffect(()=>{if(!d||g)return;const m=setInterval(()=>{h(c=>c<=1?(v(!0),0):c-1)},1e3);return()=>clearInterval(m)},[d,g]),l.useEffect(()=>{const m=c=>{const{x:j,y:P,detected:E}=c.detail;_.current=E,E&&(M.current={x:j,y:P})};return window.addEventListener("nave-position",m),()=>{window.removeEventListener("nave-position",m)}},[]);const L=l.useCallback(()=>{const m=Math.random()>.5?"star":"comet",c={id:Math.random().toString(36).substr(2,9),type:m,x:Math.random()*.8+.1,y:-.1,speed:.0035+Math.random()*.003};z.current.push(c)},[]);l.useEffect(()=>{if(!d||g)return;const m=setInterval(()=>{L()},1e3);return()=>clearInterval(m)},[d,g,L]);const B=l.useCallback(()=>{const m=M.current,c=.08;z.current=z.current.filter(j=>{const P=j.x-m.x,E=j.y-m.y;return Math.sqrt(P*P+E*E)<c+.03?(j.type==="star"?(r(F=>F+10),i(F=>Math.min(100,F+5)),S("acerto"),setTimeout(()=>S(null),500)):(r(F=>Math.max(0,F-5)),i(F=>Math.max(0,F-5)),S("erro"),setTimeout(()=>S(null),500)),!1):!(j.y>1.1)})},[]);l.useEffect(()=>{if(!d||g)return;const m=t.current;if(!m)return;const c=m.getContext("2d");if(!c)return;const j=()=>{m.width=window.innerWidth,m.height=window.innerHeight};j(),window.addEventListener("resize",j);const P=()=>{c.clearRect(0,0,m.width,m.height),z.current.forEach(b=>{b.y+=b.speed});const E=H.current.nave;if(E){const b=M.current.x*m.width,F=M.current.y*m.height,$=m.width*.25;c.drawImage(E,b-$/2,F-$/2,$,$)}z.current.forEach(b=>{const F=H.current[b.type==="star"?"estrela":"cometa"];if(F){const $=b.x*m.width,le=b.y*m.height,W=m.width*.12;c.drawImage(F,$-W/2,le-W/2,W,W)}}),B(),n.current=requestAnimationFrame(P)};return P(),()=>{window.removeEventListener("resize",j),n.current&&cancelAnimationFrame(n.current)}},[d,g,B]),l.useEffect(()=>{if(g&&o===0&&!N){const m=f>=50;T(m?"acerto":"erro"),setTimeout(()=>{U(!0)},1e3)}},[g,o,f,N]);const ee=()=>{U(!1),T(null),r(0),h(60),i(0),S(null),v(!1),p(!1),z.current=[],y(3)},se=m=>{const c=Math.floor(m/60),j=m%60;return`${c}:${j.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"ar-game-screen",children:[R&&e.jsx("div",{className:"ar-loading-overlay",children:e.jsxs("div",{className:"ar-loading-content",children:[e.jsx("div",{className:"ar-loading-spinner"}),e.jsx("p",{className:"ar-loading-text",children:"Preparando AR..."})]})}),u!==null&&e.jsx("div",{className:"ar-countdown-overlay",children:e.jsx("div",{className:"ar-countdown-content",children:u>0?e.jsx("div",{className:"ar-countdown-number",children:u}):e.jsx("div",{className:"ar-countdown-go",children:"Vai!"})})}),e.jsx(qe,{cameraFacing:"user"}),e.jsx("canvas",{ref:t,className:"ar-game-canvas"}),e.jsx(ut,{enabled:!0}),e.jsxs("div",{className:"ar-timer-container",children:[e.jsx("img",{src:C.contador,alt:"Timer",className:"ar-timer-bg"}),e.jsx("div",{className:"ar-timer-text",children:se(o)})]}),e.jsxs("div",{className:"ar-progress-container",children:[e.jsx("img",{src:C.barraProgresso,alt:"Progress Bar",className:"ar-progress-bg"}),e.jsx("div",{className:"ar-progress-fill",style:{width:`${f}%`}})]}),w&&e.jsx("div",{className:`ar-feedback ar-feedback-${w}`,children:e.jsx("img",{src:w==="acerto"?C.feedbackAcerto:C.feedbackErro,alt:w,className:"ar-feedback-image"})}),e.jsxs("div",{className:"ar-score",children:["Pontos: ",s]}),N&&x&&e.jsx("div",{className:"ar-result-modal-overlay",children:e.jsxs("div",{className:"ar-result-modal-content",children:[e.jsx("img",{src:x==="acerto"?C.modalAcerto:C.modalErro,alt:x==="acerto"?"Acerto":"Erro",className:"ar-result-modal-image"}),x==="acerto"&&e.jsxs("div",{className:"ar-result-modal-buttons",children:[e.jsx("button",{className:"ar-result-button ar-result-button-registrar",onClick:()=>{U(!1),a("selfie")},style:{backgroundImage:`url(${C.btnRegistrar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"ar-result-button ar-result-button-inicio",onClick:()=>{U(!1),a("cover")},style:{backgroundImage:`url(${C.btnInicio})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}),x==="erro"&&e.jsx("div",{className:"ar-result-modal-buttons",children:e.jsx("button",{className:"ar-result-button ar-result-button-voltar",onClick:()=>{ee()},style:{backgroundImage:`url(${C.btnVoltar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})})]})},je={quality:"high",enableSound:!0,enableVibration:!0,autoSave:!0,language:"pt-BR"},wt=({onNavigate:a,onSettingsChange:t})=>{const[n,s]=l.useState(je),r=(d,p)=>{const g={...n,[d]:p};s(g),t==null||t(g)},o=()=>{a("ar")},h=()=>{s(je),t==null||t(je)};return e.jsxs("div",{className:"settings-screen",children:[e.jsxs("div",{className:"settings-header",children:[e.jsx("button",{className:"settings-back-button",onClick:o,children:"â† Voltar"}),e.jsx("h1",{className:"settings-title",children:"ConfiguraÃ§Ãµes"})]}),e.jsxs("div",{className:"settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Qualidade"}),e.jsxs("select",{value:n.quality,onChange:d=>r("quality",d.target.value),className:"settings-select",children:[e.jsx("option",{value:"low",children:"Baixa"}),e.jsx("option",{value:"medium",children:"MÃ©dia"}),e.jsx("option",{value:"high",children:"Alta"})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Som"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:d=>r("enableSound",d.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar som"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"VibraÃ§Ã£o"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableVibration,onChange:d=>r("enableVibration",d.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar vibraÃ§Ã£o"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Salvamento"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.autoSave,onChange:d=>r("autoSave",d.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Salvar automaticamente"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Idioma"}),e.jsxs("select",{value:n.language,onChange:d=>r("language",d.target.value),className:"settings-select",children:[e.jsx("option",{value:"pt-BR",children:"PortuguÃªs"}),e.jsx("option",{value:"en-US",children:"English"}),e.jsx("option",{value:"es-ES",children:"EspaÃ±ol"})]})]})]}),e.jsxs("div",{className:"settings-footer",children:[e.jsx("button",{className:"settings-button secondary",onClick:h,children:"Restaurar PadrÃµes"}),e.jsx("button",{className:"settings-button primary",onClick:o,children:"Salvar"})]})]})},jt=({onNavigate:a,appName:t="Realidade Aumentada",version:n="1.0.0",description:s="Uma aplicaÃ§Ã£o inovadora de realidade aumentada desenvolvida com tecnologias modernas.",developer:r="Desenvolvedor AR"})=>{const o=()=>{a("cover")};return e.jsxs("div",{className:"about-screen",children:[e.jsxs("div",{className:"about-header",children:[e.jsx("button",{className:"about-back-button",onClick:o,children:"â† Voltar"}),e.jsx("h1",{className:"about-title",children:"Sobre"})]}),e.jsxs("div",{className:"about-content",children:[e.jsxs("div",{className:"about-app-info",children:[e.jsx("h2",{className:"app-name",children:t}),e.jsxs("p",{className:"app-version",children:["VersÃ£o ",n]}),e.jsx("p",{className:"app-description",children:s})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Desenvolvedor"}),e.jsx("p",{children:r})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Tecnologias"}),e.jsxs("ul",{className:"tech-list",children:[e.jsx("li",{children:"React 18"}),e.jsx("li",{children:"TypeScript"}),e.jsx("li",{children:"A-Frame"}),e.jsx("li",{children:"AR.js"}),e.jsx("li",{children:"Vite"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Funcionalidades"}),e.jsxs("ul",{className:"features-list",children:[e.jsx("li",{children:"RenderizaÃ§Ã£o 3D em tempo real"}),e.jsx("li",{children:"AdiÃ§Ã£o de objetos 3D"}),e.jsx("li",{children:"Captura de screenshots"}),e.jsx("li",{children:"Interface responsiva"}),e.jsx("li",{children:"Suporte a gestos"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"LicenÃ§a"}),e.jsx("p",{children:"MIT License - CÃ³digo aberto"})]})]}),e.jsx("div",{className:"about-footer",children:e.jsx("button",{className:"about-button",onClick:o,children:"Voltar ao InÃ­cio"})})]})},Et=({onNavigate:a})=>{const t=()=>{a("cover")};return e.jsx("div",{className:"final-screen",children:e.jsxs("div",{className:"final-content",children:[e.jsxs("div",{className:"final-header",children:[e.jsx("div",{className:"final-icon",children:"ðŸŽ‰"}),e.jsx("h1",{className:"final-title",children:"ParabÃ©ns!"}),e.jsx("p",{className:"final-subtitle",children:"VocÃª completou a experiÃªncia de Realidade Aumentada"})]}),e.jsxs("div",{className:"final-body",children:[e.jsx("div",{className:"final-message",children:e.jsx("p",{children:"Esperamos que vocÃª tenha aproveitado essa jornada interativa!"})}),e.jsx("div",{className:"final-stats",children:e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-value",children:"âœ“"}),e.jsx("div",{className:"stat-label",children:"ExperiÃªncia Completa"})]})})]}),e.jsx("div",{className:"final-footer",children:e.jsx("button",{className:"final-button primary",onClick:t,children:"Jogar Novamente"})})]})})},Rt=()=>{const a=l.useRef(null),t=l.useRef(null),[n,s]=l.useState(!1),o=(()=>{var w,S;const f=((S=(w=import.meta)==null?void 0:w.env)==null?void 0:S.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),i=f&&f!=="/"?f.endsWith("/")?f:f+"/":"/";return i==="/"?"":i.endsWith("/")?i.slice(0,-1):i})(),h=f=>{if(o==="")return f.startsWith("/")?f:`/${f}`;const i=f.startsWith("/")?f.slice(1):f;return`${o}/${i}`},d=h("assets/images/selfie-top.png"),p=h("assets/images/selfie-bottom.png"),g=h("assets/images/camera-icon.png");l.useEffect(()=>{async function f(){try{let i=document.getElementById("selfie-video");if(i&&i.srcObject){i.classList.add("selfie-video-visible"),a.current=i;return}const w=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});i||(i=document.createElement("video"),i.setAttribute("id","selfie-video"),i.setAttribute("playsinline",""),i.setAttribute("autoplay",""),i.muted=!0,i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100vw",i.style.height="100vh",i.style.objectFit="cover",i.style.zIndex="0",i.classList.add("selfie-video-visible"),document.body.appendChild(i)),i.srcObject=w,t.current=w,a.current=i,await i.play()}catch(i){console.error("Erro ao inicializar cÃ¢mera:",i)}}return f(),()=>{}},[]);const v=()=>{if(!a.current||n)return;s(!0);const f=a.current,i=document.createElement("canvas");i.width=f.videoWidth||f.clientWidth,i.height=f.videoHeight||f.clientHeight;const w=i.getContext("2d");w?(w.drawImage(f,0,0,i.width,i.height),i.toBlob(S=>{if(S){const R=URL.createObjectURL(S),k=document.createElement("a");k.href=R,k.download=`selfie-${Date.now()}.png`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(R)}s(!1)},"image/png")):s(!1)};return e.jsxs("div",{className:"selfie-screen",children:[e.jsx("div",{className:"selfie-top-overlay",children:e.jsx("img",{src:d,alt:"Top",className:"selfie-top-img"})}),e.jsx("div",{className:"selfie-bottom-overlay",children:e.jsx("img",{src:p,alt:"Bottom",className:"selfie-bottom-img"})}),e.jsx("button",{className:"selfie-camera-button",onClick:v,disabled:n,style:{backgroundImage:`url(${g})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})};const Nt=({initialScreen:a="loading",appConfig:t,defaultTransition:n="zoom-out",defaultDirection:s="right"})=>{const[r,o]=l.useState(a||"loading"),[h,d]=l.useState(!1),[p,g]=l.useState(n),[v,f]=l.useState(s),[i,w]=l.useState(null);l.useEffect(()=>{console.log("ðŸŽ¬ ScreenManager inicializado com tela:",r)},[]),l.useEffect(()=>{if(!h){const y=setTimeout(()=>{r!=="loading"&&w(null)},1e3);return()=>clearTimeout(y)}},[r,h]);const S=(y,N)=>{const U=["loading","cover","tutorial","ar","final","settings","about","selfie"],x=U.indexOf(y),T=U.indexOf(N);return T>x?"right":T<x?"left":"right"},R=(y,N,U)=>{const x=N||p,T=U||S(r,y);w(r),g(x),f(T);const z=r==="loading"?800:300;d(!0),setTimeout(()=>{o(y),d(!1)},z)},k=()=>{switch(r){case"loading":return e.jsx(Te,{onNavigate:R});case"cover":return e.jsx(lt,{onNavigate:R,title:t.title,subtitle:t.subtitle});case"tutorial":return e.jsx(dt,{onNavigate:R});case"ar":return e.jsx(bt,{onNavigate:R});case"final":return e.jsx(Et,{onNavigate:R});case"settings":return e.jsx(wt,{onNavigate:R});case"about":return e.jsx(jt,{onNavigate:R});case"selfie":return e.jsx(Rt,{onNavigate:R});default:return e.jsx(Te,{onNavigate:R})}},u=()=>{const y="screen-manager",N=`transition-${p}`,U=`direction-${v}`,x=h?"transitioning":"",T=i?`from-${i}`:"";return`${y} ${N} ${U} ${x} ${T}`.trim()};return e.jsx("div",{className:u(),children:k()})},St=l.createContext(void 0),kt=({children:a})=>{const[t,n]=l.useState(null),[s,r]=l.useState(!0),[o,h]=l.useState(null),d=async()=>{var v,f;try{r(!0),h(null),console.log("ðŸ”„ Carregando dados do RA...");const i=((f=(v=import.meta)==null?void 0:v.env)==null?void 0:f.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),S=`${i&&i!=="/"?i.endsWith("/")?i:i+"/":"/"}assets/data/ra.json`,R=await fetch(S);if(!R.ok)throw new Error(`Erro ao carregar dados: ${R.status}`);const k=await R.json();console.log("âœ… Dados do RA carregados:",k),n(k)}catch(i){const w=i instanceof Error?i.message:"Erro desconhecido";console.error("âŒ Erro ao carregar dados do RA:",w),h(w)}finally{r(!1)}},p=()=>{d()};l.useEffect(()=>{d()},[]);const g={raData:t,loading:s,error:o,refreshData:p};return e.jsx(St.Provider,{value:g,children:a})},At=()=>{const[a,t]=l.useState(!1),n=()=>{const s=window.innerWidth,r=window.innerHeight,o=s>r,h=navigator.userAgent.toLowerCase(),d=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(h)||"ontouchstart"in window||navigator.maxTouchPoints>0,p=s<=768;d&&o||p&&o?(t(!0),document.body.style.overflow="hidden",document.body.style.touchAction="none"):(t(!1),document.body.style.overflow="",document.body.style.touchAction="")};return l.useEffect(()=>{n();let s,r;const o=()=>{clearTimeout(s),s=setTimeout(()=>{n()},100)},h=()=>{clearTimeout(r),r=setTimeout(()=>{n()},300)},d=()=>{clearTimeout(r),r=setTimeout(()=>{n()},300)},p=f=>{clearTimeout(r),r=setTimeout(()=>{n()},100)};window.addEventListener("resize",o),window.addEventListener("orientationchange",h),window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",d);const g=window.matchMedia("(orientation: landscape)");g.addEventListener("change",p);const v=setInterval(()=>{n()},2e3);return()=>{clearTimeout(s),clearTimeout(r),clearInterval(v),window.removeEventListener("resize",o),window.removeEventListener("orientationchange",h),window.screen&&window.screen.orientation&&window.screen.orientation.removeEventListener("change",d),g.removeEventListener("change",p),document.body.style.overflow="",document.body.style.touchAction=""}},[]),a?e.jsxs("div",{className:"landscape-blocker",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:999999999,color:"white",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px",boxSizing:"border-box",pointerEvents:"auto"},children:[e.jsx("div",{style:{width:"80px",height:"80px",marginBottom:"20px",fontSize:"60px",animation:"rotate 2s ease-in-out infinite"},children:"ðŸ“±"}),e.jsx("h2",{style:{margin:"0 0 10px 0",fontSize:"24px"},children:"Gire seu dispositivo"}),e.jsx("p",{style:{margin:"0",fontSize:"16px",opacity:.9},children:"Para uma melhor experiÃªncia de Realidade Aumentada, mantenha seu dispositivo na orientaÃ§Ã£o retrato (vertical)."}),e.jsx("style",{children:`
          @keyframes rotate {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(90deg); }
          }
        `})]}):null};function Pt(){const a={title:"Realidade Aumentada",subtitle:"Explore o mundo em 3D",version:"1.0.0",developer:"AR Developer"};return e.jsx(kt,{children:e.jsxs("div",{className:"ar-app",children:[e.jsx(At,{}),e.jsx(Nt,{initialScreen:"loading",appConfig:a})]})})}Ee.createRoot(document.getElementById("root")).render(e.jsx(Qe.StrictMode,{children:e.jsx(Pt,{})}));
//# sourceMappingURL=index-9dd85a16.js.map
